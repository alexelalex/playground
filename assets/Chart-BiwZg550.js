import{ai as Ei,R as y,K as G,r as $e,b6 as Pr,b7 as Br}from"./index-CDz6_-F0.js";import{r as Pn,c as Bn}from"./color-9lF95FHy.js";import{jH as Ai}from"./App-c61S4xKC.js";const Pe=new Date,Be=new Date;function vt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const l=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return l;let c;do l.push(c=new Date(+o)),e(o,u),t(o);while(c<o&&o<a);return l},i.filter=o=>vt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Pe.setTime(+o),Be.setTime(+a),t(Pe),t(Be),Math.floor(n(Pe,Be))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ni=1e3,vn=Ni*60,Ui=vn*60,ae=Ui*24,Wr=ae*7,pn=vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vn)/ae,t=>t.getDate()-1);pn.range;const yn=vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ae,t=>t.getUTCDate()-1);yn.range;const Fi=vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ae,t=>Math.floor(t/ae));Fi.range;function Dt(t){return vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vn)/Wr)}const Hr=Dt(0),me=Dt(1),Li=Dt(2),Ii=Dt(3),Yt=Dt(4),Ri=Dt(5),Oi=Dt(6);Hr.range;me.range;Li.range;Ii.range;Yt.range;Ri.range;Oi.range;function kt(t){return vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Wr)}const jr=kt(0),ge=kt(1),Vi=kt(2),Yi=kt(3),Pt=kt(4),Pi=kt(5),Bi=kt(6);jr.range;ge.range;Vi.range;Yi.range;Pt.range;Pi.range;Bi.range;const St=vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());St.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});St.range;const Tt=vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Tt.range;function We(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function He(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wi(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=Zt(i),s=Qt(i),h=Zt(o),f=Qt(o),d=Zt(a),v=Qt(a),g=Zt(u),p=Qt(u),T=Zt(l),w=Qt(l),x={a:S,A,b:F,B:O,c:null,d:Gn,e:Gn,f:ho,g:_o,G:To,H:so,I:co,j:fo,L:zr,m:mo,M:go,p:X,q:H,Q:Zn,s:Qn,S:vo,u:po,U:yo,V:xo,w:Mo,W:bo,x:null,X:null,y:wo,Y:So,Z:Co,"%":qn},D={a:W,A:B,b:q,B:rt,c:null,d:Xn,e:Xn,f:Eo,g:Yo,G:Bo,H:Do,I:ko,j:$o,L:Gr,m:Ao,M:No,p:ot,q:z,Q:Zn,s:Qn,S:Uo,u:Fo,U:Lo,V:Io,w:Ro,W:Oo,x:null,X:null,y:Vo,Y:Po,Z:Wo,"%":qn},C={a:$,A:b,b:E,B:k,c:I,d:zn,e:zn,f:oo,g:jn,G:Hn,H:Kn,I:Kn,j:eo,L:io,m:to,M:no,p:P,q:Ji,Q:uo,s:lo,S:ro,u:Gi,U:Xi,V:qi,w:Ki,W:Zi,x:j,X:Y,y:jn,Y:Hn,Z:Qi,"%":ao};x.x=M(n,x),x.X=M(r,x),x.c=M(e,x),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(_,U){return function(L){var m=[],K=-1,V=0,Q=_.length,Z,et,st;for(L instanceof Date||(L=new Date(+L));++K<Q;)_.charCodeAt(K)===37&&(m.push(_.slice(V,K)),(et=Wn[Z=_.charAt(++K)])!=null?Z=_.charAt(++K):et=Z==="e"?" ":"0",(st=U[Z])&&(Z=st(L,et)),m.push(Z),V=K+1);return m.push(_.slice(V,K)),m.join("")}}function N(_,U){return function(L){var m=qt(1900,void 0,1),K=R(m,_,L+="",0),V,Q;if(K!=L.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(U&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(V=He(qt(m.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?ge.ceil(V):ge(V),V=yn.offset(V,(m.V-1)*7),m.y=V.getUTCFullYear(),m.m=V.getUTCMonth(),m.d=V.getUTCDate()+(m.w+6)%7):(V=We(qt(m.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?me.ceil(V):me(V),V=pn.offset(V,(m.V-1)*7),m.y=V.getFullYear(),m.m=V.getMonth(),m.d=V.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),Q="Z"in m?He(qt(m.y,0,1)).getUTCDay():We(qt(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(Q+5)%7:m.w+m.U*7-(Q+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,He(m)):We(m)}}function R(_,U,L,m){for(var K=0,V=U.length,Q=L.length,Z,et;K<V;){if(m>=Q)return-1;if(Z=U.charCodeAt(K++),Z===37){if(Z=U.charAt(K++),et=C[Z in Wn?U.charAt(K++):Z],!et||(m=et(_,L,m))<0)return-1}else if(Z!=L.charCodeAt(m++))return-1}return m}function P(_,U,L){var m=c.exec(U.slice(L));return m?(_.p=s.get(m[0].toLowerCase()),L+m[0].length):-1}function $(_,U,L){var m=d.exec(U.slice(L));return m?(_.w=v.get(m[0].toLowerCase()),L+m[0].length):-1}function b(_,U,L){var m=h.exec(U.slice(L));return m?(_.w=f.get(m[0].toLowerCase()),L+m[0].length):-1}function E(_,U,L){var m=T.exec(U.slice(L));return m?(_.m=w.get(m[0].toLowerCase()),L+m[0].length):-1}function k(_,U,L){var m=g.exec(U.slice(L));return m?(_.m=p.get(m[0].toLowerCase()),L+m[0].length):-1}function I(_,U,L){return R(_,e,U,L)}function j(_,U,L){return R(_,n,U,L)}function Y(_,U,L){return R(_,r,U,L)}function S(_){return a[_.getDay()]}function A(_){return o[_.getDay()]}function F(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function X(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return a[_.getUTCDay()]}function B(_){return o[_.getUTCDay()]}function q(_){return l[_.getUTCMonth()]}function rt(_){return u[_.getUTCMonth()]}function ot(_){return i[+(_.getUTCHours()>=12)]}function z(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=M(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=N(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=M(_+="",D);return U.toString=function(){return _},U},utcParse:function(_){var U=N(_+="",!0);return U.toString=function(){return _},U}}}var Wn={"-":"",_:" ",0:"0"},at=/^\s*\d+/,Hi=/^%/,ji=/[\\^$*+?|[\]().{}]/g;function J(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function zi(t){return t.replace(ji,"\\$&")}function Zt(t){return new RegExp("^(?:"+t.map(zi).join("|")+")","i")}function Qt(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ki(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gi(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xi(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qi(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zi(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hn(t,e,n){var r=at.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jn(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qi(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ji(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function to(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zn(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Kn(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function no(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ro(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function io(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oo(t,e,n){var r=at.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ao(t,e,n){var r=Hi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uo(t,e,n){var r=at.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=at.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Gn(t,e){return J(t.getDate(),e,2)}function so(t,e){return J(t.getHours(),e,2)}function co(t,e){return J(t.getHours()%12||12,e,2)}function fo(t,e){return J(1+pn.count(St(t),t),e,3)}function zr(t,e){return J(t.getMilliseconds(),e,3)}function ho(t,e){return zr(t,e)+"000"}function mo(t,e){return J(t.getMonth()+1,e,2)}function go(t,e){return J(t.getMinutes(),e,2)}function vo(t,e){return J(t.getSeconds(),e,2)}function po(t){var e=t.getDay();return e===0?7:e}function yo(t,e){return J(Hr.count(St(t)-1,t),e,2)}function Kr(t){var e=t.getDay();return e>=4||e===0?Yt(t):Yt.ceil(t)}function xo(t,e){return t=Kr(t),J(Yt.count(St(t),t)+(St(t).getDay()===4),e,2)}function Mo(t){return t.getDay()}function bo(t,e){return J(me.count(St(t)-1,t),e,2)}function wo(t,e){return J(t.getFullYear()%100,e,2)}function _o(t,e){return t=Kr(t),J(t.getFullYear()%100,e,2)}function So(t,e){return J(t.getFullYear()%1e4,e,4)}function To(t,e){var n=t.getDay();return t=n>=4||n===0?Yt(t):Yt.ceil(t),J(t.getFullYear()%1e4,e,4)}function Co(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+J(e/60|0,"0",2)+J(e%60,"0",2)}function Xn(t,e){return J(t.getUTCDate(),e,2)}function Do(t,e){return J(t.getUTCHours(),e,2)}function ko(t,e){return J(t.getUTCHours()%12||12,e,2)}function $o(t,e){return J(1+yn.count(Tt(t),t),e,3)}function Gr(t,e){return J(t.getUTCMilliseconds(),e,3)}function Eo(t,e){return Gr(t,e)+"000"}function Ao(t,e){return J(t.getUTCMonth()+1,e,2)}function No(t,e){return J(t.getUTCMinutes(),e,2)}function Uo(t,e){return J(t.getUTCSeconds(),e,2)}function Fo(t){var e=t.getUTCDay();return e===0?7:e}function Lo(t,e){return J(jr.count(Tt(t)-1,t),e,2)}function Xr(t){var e=t.getUTCDay();return e>=4||e===0?Pt(t):Pt.ceil(t)}function Io(t,e){return t=Xr(t),J(Pt.count(Tt(t),t)+(Tt(t).getUTCDay()===4),e,2)}function Ro(t){return t.getUTCDay()}function Oo(t,e){return J(ge.count(Tt(t)-1,t),e,2)}function Vo(t,e){return J(t.getUTCFullYear()%100,e,2)}function Yo(t,e){return t=Xr(t),J(t.getUTCFullYear()%100,e,2)}function Po(t,e){return J(t.getUTCFullYear()%1e4,e,4)}function Bo(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pt(t):Pt.ceil(t),J(t.getUTCFullYear()%1e4,e,4)}function Wo(){return"+0000"}function qn(){return"%"}function Zn(t){return+t}function Qn(t){return Math.floor(+t/1e3)}var Nt,qr,Zr;Ho({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ho(t){return Nt=Wi(t),qr=Nt.format,Nt.parse,Zr=Nt.utcFormat,Nt.utcParse,Nt}function jo(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Ei(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function xn(t){let e=t,n=t;t.length===1&&(e=(a,u)=>t(a)-u,n=zo(t));function r(a,u,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const s=l+c>>>1;n(a[s],u)<0?l=s+1:c=s}return l}function i(a,u,l,c){for(l==null&&(l=0),c==null&&(c=a.length);l<c;){const s=l+c>>>1;n(a[s],u)>0?c=s:l=s+1}return l}function o(a,u,l,c){l==null&&(l=0),c==null&&(c=a.length);const s=r(a,u,l,c-1);return s>l&&e(a[s-1],u)>-e(a[s],u)?s-1:s}return{left:r,center:o,right:i}}function zo(t){return(e,n)=>Vt(t(e),n)}function Ko(t){return t===null?NaN:+t}function*Go(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Xo=xn(Vt),qo=Xo.right;xn(Ko).center;function en(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Zo extends Map{constructor(e,n=ta){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Jn(this,e))}has(e){return super.has(Jn(this,e))}set(e,n){return super.set(Qo(this,e),n)}delete(e){return super.delete(Jo(this,e))}}function Jn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Qo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Jo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(n),t.delete(r)),n}function ta(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ea(t){return t}function na(t,...e){return ra(t,Array.from,ea,e)}function ra(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const u=new Zo,l=r[a++];let c=-1;for(const s of o){const h=l(s,++c,o),f=u.get(h);f?f.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,i(h,a));return e(u)}(t,0)}function ia(t,e){return Array.from(e,n=>t[n])}function oa(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n=Vt]=e;if(n.length===1||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const u=Vt(a[i],a[o]);if(u)return u}})):(n=t.map(n),r.sort((i,o)=>Vt(n[i],n[o]))),ia(t,r)}return t.sort(n)}var nn=Math.sqrt(50),rn=Math.sqrt(10),on=Math.sqrt(2);function an(t,e,n){var r,i=-1,o,a,u;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(u=Qr(t,e,n))===0||!isFinite(u))return[];if(u>0){let l=Math.round(t/u),c=Math.round(e/u);for(l*u<t&&++l,c*u>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)*u}else{u=-u;let l=Math.round(t*u),c=Math.round(e*u);for(l/u<t&&++l,c/u>e&&--c,a=new Array(o=c-l+1);++i<o;)a[i]=(l+i)/u}return r&&a.reverse(),a}function Qr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nn?10:o>=rn?5:o>=on?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nn?10:o>=rn?5:o>=on?2:1)}function un(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nn?i*=10:o>=rn?i*=5:o>=on&&(i*=2),e<t?-i:i}function ve(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pe(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Jr(t,e,n=0,r=t.length-1,i=Vt){for(;r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,s=Math.log(l),h=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*h*(l-h)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(e-c*h/l+f)),v=Math.min(r,Math.floor(e+(l-c)*h/l+f));Jr(t,e,d,v,i)}const o=t[e];let a=n,u=r;for(Jt(t,n,e),i(t[r],o)>0&&Jt(t,n,r);a<u;){for(Jt(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Jt(t,n,u):(++u,Jt(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Jt(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aa(t,e,n){if(t=Float64Array.from(Go(t)),!!(r=t.length)){if((e=+e)<=0||r<2)return pe(t);if(e>=1)return ve(t);var r,i=(r-1)*e,o=Math.floor(i),a=ve(Jr(t,o).subarray(0,o+1)),u=pe(t.subarray(o+1));return a+(u-a)*(i-o)}}function ua(t,e){return aa(t,.5)}function Mn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ct(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ye(t){var e=y.useRef(t),n=y.useRef();return e.current=t,n.current||(n.current=function(){return e.current}),n.current}const ue=typeof window<"u"?y.useLayoutEffect:y.useEffect;function la(t,e){return(e==null?void 0:e.seriesId)===t.id?"focused":"none"}function sa(t,e){var n;return t===e?"focused":(n=t.tooltipGroup)!=null&&n.some(function(r){r.seriesId===(e==null?void 0:e.seriesId)&&(r.index,e==null||e.index)})?"groupFocused":"none"}var tr=["area","line","rectangle","circle"];function ln(t,e){t===void 0&&(t={}),e===void 0&&(e={}),t=ca(t,e);for(var n=0;n<tr.length;n++){var r=tr[n];t[r]&&e[r]&&(t[r]=ln(t[r],e))}return t}function jt(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function ca(t,e){return G({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}function er(t){return typeof t=="number"&&!Number.isNaN(t)}var ti=$e.createContext(null);function fa(t){var e=t.value,n=t.children;return $e.createElement(ti.Provider,{value:e,children:n})}function pt(){return $e.useContext(ti)()}function ha(t){var e=t.primaryAxis,n=t.secondaryAxis,r=t.series,i=pt(),o=i.getSeriesStatusStyle,a=i.getDatumStatusStyle,u=i.focusedDatumState,l=i.gridDimensions,c=u[0],s=e.isVertical?n:e,h=e.isVertical?e:n;return y.createElement("g",{style:{transform:jt(l.left,l.top)}},r.map(function(f,d){var v=o(f,c);return y.createElement("g",{key:"lines-"+d},f.datums.map(function(g,p){var T,w,x,D,C=a(g,c),M=nr((T=ga(g,e,n))!=null?T:NaN,(w=da(g,e,n))!=null?w:NaN,s),N=M[0],R=M[1],P=nr((x=va(g,e,n))!=null?x:NaN,(D=ma(g,e,n))!=null?D:NaN,h),$=P[0],b=P[1];return y.createElement("rect",{ref:function(k){g.element=k},key:p,x:N,y:$,width:R,height:b,style:G({strokeWidth:0},v,v.rectangle,C,C.rectangle)})}))}))}function da(t,e,n){return e.isVertical?ni(t,n):bn(t,e,n)}function ma(t,e,n){return e.isVertical?bn(t,e,n):ni(t,n)}function ei(t,e){return Math.max(e.primaryBandScale.bandwidth(),1)}function bn(t,e,n){if(e.axisFamily==="band"){var r,i,o=n.stacked?e.scale.bandwidth():e.seriesBandScale.bandwidth();return Math.min(Math.max(o,(r=e.minBandSize)!=null?r:1),(i=e.maxBandSize)!=null?i:99999999)}return Math.max(n.stacked?e.primaryBandScale.bandwidth():e.seriesBandScale.bandwidth(),1)}function ni(t,e){var n=[ri(t,e),ii(t,e)];return Math.abs(n[1]-n[0])}function ga(t,e,n){return e.isVertical?ri(t,n):wn(t,e,n)}function va(t,e,n){return e.isVertical?wn(t,e,n):ii(t,n)}function wn(t,e,n){var r,i=(r=e.scale(t.primaryValue))!=null?r:NaN;if(e.axisFamily!=="band"&&(i-=ei(t,e)/2),!n.stacked){var o;i=i+((o=e.seriesBandScale(t.seriesIndex))!=null?o:NaN)}return i}function ri(t,e){var n;if(e.stacked){var r,i,o;return(r=e.scale((i=(o=t.stackData)==null?void 0:o[0])!=null?i:NaN))!=null?r:NaN}return(n=e.scale(t.secondaryValue<0?t.secondaryValue:0))!=null?n:NaN}function ii(t,e){var n;if(e.stacked){var r,i,o;return(r=e.scale((i=(o=t.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=e.scale(t.secondaryValue<0?0:t.secondaryValue))!=null?n:NaN}function nr(t,e,n){var r=n.scale.range();n.isVertical&&r.reverse();var i=function(c){return Math.max(r[0],Math.min(c,r[1]))},o=i(t),a=i(t+e),u=a-o;return[o,u]}const sn=Math.PI,cn=2*sn,bt=1e-6,pa=cn-bt;function fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _n(){return new fn}fn.prototype=_n.prototype={constructor:fn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,l=r-e,c=o-t,s=a-e,h=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>bt)if(!(Math.abs(s*u-l*c)>bt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-o,d=r-a,v=u*u+l*l,g=f*f+d*d,p=Math.sqrt(v),T=Math.sqrt(h),w=i*Math.tan((sn-Math.acos((v+h-g)/(2*p*T)))/2),x=w/T,D=w/p;Math.abs(x-1)>bt&&(this._+="L"+(t+x*c)+","+(e+x*s)),this._+="A"+i+","+i+",0,0,"+ +(s*f>c*d)+","+(this._x1=t+D*u)+","+(this._y1=e+D*l)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),u=n*Math.sin(r),l=t+a,c=e+u,s=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>bt||Math.abs(this._y1-c)>bt)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%cn+cn),h>pa?this._+="A"+n+","+n+",0,1,"+s+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=l)+","+(this._y1=c):h>bt&&(this._+="A"+n+","+n+",0,"+ +(h>=sn)+","+s+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function it(t){return function(){return t}}function Sn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oi(t){this._context=t}oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ai(t){return new oi(t)}function ui(t){return t[0]}function li(t){return t[1]}function Tn(t,e){var n=it(!0),r=null,i=ai,o=null;t=typeof t=="function"?t:t===void 0?ui:it(t),e=typeof e=="function"?e:e===void 0?li:it(e);function a(u){var l,c=(u=Sn(u)).length,s,h=!1,f;for(r==null&&(o=i(f=_n())),l=0;l<=c;++l)!(l<c&&n(s=u[l],l,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,l,u),+e(s,l,u));if(f)return o=null,f+""||null}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),a):t},a.y=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),a):e},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:it(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),a):r},a}function ya(t,e,n){var r=null,i=it(!0),o=null,a=ai,u=null;t=typeof t=="function"?t:t===void 0?ui:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?li:it(+n);function l(s){var h,f,d,v=(s=Sn(s)).length,g,p=!1,T,w=new Array(v),x=new Array(v);for(o==null&&(u=a(T=_n())),h=0;h<=v;++h){if(!(h<v&&i(g=s[h],h,s))===p)if(p=!p)f=h,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),d=h-1;d>=f;--d)u.point(w[d],x[d]);u.lineEnd(),u.areaEnd()}p&&(w[h]=+t(g,h,s),x[h]=+e(g,h,s),u.point(r?+r(g,h,s):w[h],n?+n(g,h,s):x[h]))}if(T)return u=null,T+""||null}function c(){return Tn().defined(i).curve(a).context(o)}return l.x=function(s){return arguments.length?(t=typeof s=="function"?s:it(+s),r=null,l):t},l.x0=function(s){return arguments.length?(t=typeof s=="function"?s:it(+s),l):t},l.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:it(+s),l):r},l.y=function(s){return arguments.length?(e=typeof s=="function"?s:it(+s),n=null,l):e},l.y0=function(s){return arguments.length?(e=typeof s=="function"?s:it(+s),l):e},l.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:it(+s),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(s){return arguments.length?(i=typeof s=="function"?s:it(!!s),l):i},l.curve=function(s){return arguments.length?(a=s,o!=null&&(u=a(o)),l):a},l.context=function(s){return arguments.length?(s==null?o=u=null:u=a(o=s),l):o},l}function hn(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rr(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xa(t,e){return t[e]}function Ma(t){const e=[];return e.key=t,e}function ba(){var t=it([]),e=rr,n=hn,r=xa;function i(o){var a=Array.from(t.apply(this,arguments),Ma),u,l=a.length,c=-1,s;for(const h of o)for(u=0,++c;u<l;++u)(a[u][c]=[0,+r(h,a[u].key,c,o)]).data=h;for(u=0,s=Sn(e(a));u<l;++u)a[s[u]].index=u;return n(a,s),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?rr:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??hn,i):n},i}function ir(t){return t<0?-1:1}function or(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(ir(o)+ir(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function ar(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function je(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function xe(t){this._context=t}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:je(this,this._t0,ar(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){var r=NaN;if(e=+e,n=+n,!(e===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;break;case 2:this._point=3,je(this,ar(this,r=or(this,e,n)),r);break;default:je(this,this._t0,r=or(this,e,n));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=n,this._t0=r}}};Object.create(xe.prototype).point=function(t,e){xe.prototype.point.call(this,e,t)};var wa=function(e){return new xe(e)};function _a(t){var e,n=t.primaryAxis,r=t.secondaryAxis,i=t.series,o=pt(),a=o.getSeriesStatusStyle,u=o.getDatumStatusStyle,l=o.focusedDatumState,c=o.gridDimensions,s=(e=r.curve)!=null?e:wa,h=l[0];return y.createElement("g",{style:{transform:jt(c.left,c.top)}},i.map(function(f,d){var v,g,p=a(f,h),T=null;if(r.elementType==="area"){var w=function(E){return Me(E,n)},x=function(E){return ur(Ca(E,r),r)},D=function(E){return ur(be(E,r),r)},C=ya(w,x,D).curve(s);C.defined(function(b){return[w(b),x(b),D(b)].every(er)}),T=C(f.datums)}var M=function(E){return Me(E,n)},N=function(E){return be(E,r)},R=Tn(M,N).curve(s);R.defined(function(b){return[M(b),N(b)].every(er)});var P=(r.elementType==="area"||r.elementType==="line")&&(v=R(f.datums))!=null?v:void 0,$=(g=r.showDatumElements)!=null?g:r.elementType==="bubble"||"onFocus";return y.createElement("g",{key:"lines-"+d},T?y.createElement("path",{d:T,style:G({strokeWidth:2,opacity:.5},p,p.area)}):null,P?y.createElement("path",{d:P,style:G({strokeWidth:2},p,p.line,{fill:"none"})}):null,f.datums.map(function(b,E){var k,I=u(b,h),j=$==="onFocus"?b===h?4:0:2,Y=$==="onFocus"?b===h:(k=r.showDatumElements)!=null?k:r.elementType==="bubble";return y.createElement("circle",{key:E,ref:function(A){b.element=A},cx:Sa(b,n,r)||0,cy:Ta(b,n,r)||0,style:G({r:j,transition:"all .3s ease-out"},p,p.circle,I,I.circle,Y?{}:{opacity:0})})}))}))}function Sa(t,e,n){return e.isVertical?be(t,n):Me(t,e)}function Ta(t,e,n){return e.isVertical?Me(t,e):be(t,n)}function Me(t,e){var n,r=(n=e.scale(t.primaryValue))!=null?n:NaN;return e.axisFamily==="band"&&(r+=e.scale.bandwidth()/2),r}function be(t,e){var n;if(e.stacked){var r,i,o;return(r=e.scale((i=(o=t.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=e.scale(t.secondaryValue))!=null?n:NaN}function Ca(t,e){var n;if(e.stacked){var r,i,o;return(r=e.scale((i=(o=t.stackData)==null?void 0:o[0])!=null?i:NaN))!=null?r:NaN}return(n=e.scale(0))!=null?n:NaN}function ur(t,e){var n=e.scale.range();return e.isVertical&&n.reverse(),Math.max(n[0],Math.min(t,n[1]))}function zt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const lr=Symbol("implicit");function si(){var t=new Map,e=[],n=[],r=lr;function i(o){var a=o+"",u=t.get(a);if(!u){if(r!==lr)return r;t.set(a,u=e.push(o))}return n[(u-1)%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Map;for(const a of o){const u=a+"";t.has(u)||t.set(u,e.push(a))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return si(e,n).unknown(r)},zt.apply(i,arguments),i}function Ee(){var t=si().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,l=0,c=0,s=.5;delete t.unknown;function h(){var f=e().length,d=i<r,v=d?i:r,g=d?r:i;o=(g-v)/Math.max(1,f-l+c*2),u&&(o=Math.floor(o)),v+=(g-v-o*(f-l))*s,a=o*(1-l),u&&(v=Math.round(v),a=Math.round(a));var p=Mn(f).map(function(T){return v+o*T});return n(d?p.reverse():p)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,u=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(u=!!f,h()):u},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),h()):s},t.copy=function(){return Ee(e(),[r,i]).round(u).paddingInner(l).paddingOuter(c).align(s)},zt.apply(h(),arguments)}const Cn=t=>()=>t;function Da(t,e){return function(n){return t+n*e}}function ka(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $a(t){return(t=+t)==1?ci:function(e,n){return n-e?ka(e,n,t):Cn(isNaN(e)?n:e)}}function ci(t,e){var n=e-t;return n?Da(t,n):Cn(isNaN(t)?e:t)}const sr=function t(e){var n=$a(e);function r(i,o){var a=n((i=Pn(i)).r,(o=Pn(o)).r),u=n(i.g,o.g),l=n(i.b,o.b),c=ci(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=u(s),i.b=l(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function Ea(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Aa(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Na(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Dn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Ua(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function we(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fa(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ze=new RegExp(dn.source,"g");function La(t){return function(){return t}}function Ia(t){return function(e){return t(e)+""}}function Ra(t,e){var n=dn.lastIndex=ze.lastIndex=0,r,i,o,a=-1,u=[],l=[];for(t=t+"",e=e+"";(r=dn.exec(t))&&(i=ze.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,l.push({i:a,x:we(r,i)})),n=ze.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?Ia(l[0].x):La(e):(e=l.length,function(c){for(var s=0,h;s<e;++s)u[(h=l[s]).i]=h.x(c);return u.join("")})}function Dn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cn(e):(n==="number"?we:n==="string"?(r=Bn(e))?(e=r,sr):Ra:e instanceof Bn?sr:e instanceof Date?Ua:Aa(e)?Ea:Array.isArray(e)?Na:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fa:we)(t,e)}function Oa(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Va(t){return function(){return t}}function Ya(t){return+t}var cr=[0,1];function It(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Va(isNaN(e)?NaN:.5)}function Pa(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ba(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=mn(i,r),o=n(a,o)):(r=mn(r,i),o=n(o,a)),function(u){return o(r(u))}}function Wa(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=mn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var l=qo(t,u,1,r)-1;return o[l](i[l](u))}}function kn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fi(){var t=cr,e=cr,n=Dn,r,i,o,a=It,u,l,c;function s(){var f=Math.min(t.length,e.length);return a!==It&&(a=Pa(t[0],t[f-1])),u=f>2?Wa:Ba,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=u(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((c||(c=u(e,t.map(r),we)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Ya),s()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),s()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Oa,s()},h.clamp=function(f){return arguments.length?(a=f?!0:It,s()):a!==It},h.interpolate=function(f){return arguments.length?(n=f,s()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,s()}}function hi(){return fi()(It,It)}function Ha(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bt(t){return t=_e(Math.abs(t)),t?t[1]:NaN}function ja(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function za(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ka=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Se(t){if(!(e=Ka.exec(t)))throw new Error("invalid format: "+t);var e;return new $n({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Se.prototype=$n.prototype;function $n(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}$n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ga(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var di;function Xa(t,e){var n=_e(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(di=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+_e(t,Math.max(0,e+o-1))[0]}function fr(t,e){var n=_e(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ha,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fr(t*100,e),r:fr,s:Xa,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dr(t){return t}var mr=Array.prototype.map,gr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qa(t){var e=t.grouping===void 0||t.thousands===void 0?dr:ja(mr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?dr:za(mr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Se(h);var f=h.fill,d=h.align,v=h.sign,g=h.symbol,p=h.zero,T=h.width,w=h.comma,x=h.precision,D=h.trim,C=h.type;C==="n"?(w=!0,C="g"):hr[C]||(x===void 0&&(x=12),D=!0,C="g"),(p||f==="0"&&d==="=")&&(p=!0,f="0",d="=");var M=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=g==="$"?r:/[%p]/.test(C)?a:"",R=hr[C],P=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(b){var E=M,k=N,I,j,Y;if(C==="c")k=R(b)+k,b="";else{b=+b;var S=b<0||1/b<0;if(b=isNaN(b)?l:R(Math.abs(b),x),D&&(b=Ga(b)),S&&+b==0&&v!=="+"&&(S=!1),E=(S?v==="("?v:u:v==="-"||v==="("?"":v)+E,k=(C==="s"?gr[8+di/3]:"")+k+(S&&v==="("?")":""),P){for(I=-1,j=b.length;++I<j;)if(Y=b.charCodeAt(I),48>Y||Y>57){k=(Y===46?i+b.slice(I+1):b.slice(I))+k,b=b.slice(0,I);break}}}w&&!p&&(b=e(b,1/0));var A=E.length+b.length+k.length,F=A<T?new Array(T-A+1).join(f):"";switch(w&&p&&(b=e(F+b,F.length?T-k.length:1/0),F=""),d){case"<":b=E+b+k+F;break;case"=":b=E+F+b+k;break;case"^":b=F.slice(0,A=F.length>>1)+E+b+k+F.slice(A);break;default:b=F+E+b+k;break}return o(b)}return $.toString=function(){return h+""},$}function s(h,f){var d=c((h=Se(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Bt(f)/3)))*3,g=Math.pow(10,-v),p=gr[8+v/3];return function(T){return d(g*T)+p}}return{format:c,formatPrefix:s}}var fe,En,mi;Za({thousands:",",grouping:[3],currency:["$",""]});function Za(t){return fe=qa(t),En=fe.format,mi=fe.formatPrefix,fe}function Qa(t){return Math.max(0,-Bt(Math.abs(t)))}function Ja(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bt(e)/3)))*3-Bt(Math.abs(t)))}function tu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bt(e)-Bt(t))+1}function eu(t,e,n,r){var i=un(t,e,n),o;switch(r=Se(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Ja(i,a))&&(r.precision=o),mi(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=tu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qa(i))&&(r.precision=o-(r.type==="%")*2);break}}return En(r)}function nu(t){var e=t.domain;return t.ticks=function(n){var r=e();return an(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eu(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],l,c,s=10;for(u<a&&(c=a,a=u,u=c,c=i,i=o,o=c);s-- >0;){if(c=Qr(a,u,n),c===l)return r[i]=a,r[o]=u,e(r);if(c>0)a=Math.floor(a/c)*c,u=Math.ceil(u/c)*c;else if(c<0)a=Math.ceil(a*c)/c,u=Math.floor(u*c)/c;else break;l=c}return t},t}function gi(){var t=hi();return t.copy=function(){return kn(t,gi())},zt.apply(t,arguments),nu(t)}function vi(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function vr(t){return Math.log(t)}function pr(t){return Math.exp(t)}function ru(t){return-Math.log(-t)}function iu(t){return-Math.exp(-t)}function ou(t){return isFinite(t)?+("1e"+t):t<0?0:t}function au(t){return t===10?ou:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function uu(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function yr(t){return function(e){return-t(-e)}}function lu(t){var e=t(vr,pr),n=e.domain,r=10,i,o;function a(){return i=uu(r),o=au(r),n()[0]<0?(i=yr(i),o=yr(o),t(ru,iu)):t(vr,pr),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=function(u){var l=n(),c=l[0],s=l[l.length-1],h;(h=s<c)&&(f=c,c=s,s=f);var f=i(c),d=i(s),v,g,p,T=u==null?10:+u,w=[];if(!(r%1)&&d-f<T){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(g=1,v=o(f);g<r;++g)if(p=v*g,!(p<c)){if(p>s)break;w.push(p)}}else for(;f<=d;++f)for(g=r-1,v=o(f);g>=1;--g)if(p=v*g,!(p<c)){if(p>s)break;w.push(p)}w.length*2<T&&(w=an(c,s,T))}else w=an(f,d,Math.min(d-f,T)).map(o);return h?w.reverse():w},e.tickFormat=function(u,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=En(l)),u===1/0)return l;u==null&&(u=10);var c=Math.max(1,r*u/e.ticks().length);return function(s){var h=s/o(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=c?l(s):""}},e.nice=function(){return n(vi(n(),{floor:function(u){return o(Math.floor(i(u)))},ceil:function(u){return o(Math.ceil(i(u)))}}))},e}function pi(){var t=lu(fi()).domain([1,10]);return t.copy=function(){return kn(t,pi()).base(t.base())},zt.apply(t,arguments),t}var Ke=new Date,Ge=new Date;function ut(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=function(o,a){return e(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,u){var l=[],c;if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return l;do l.push(c=new Date(+o)),e(o,u),t(o);while(c<o&&o<a);return l},i.filter=function(o){return ut(function(a){if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},function(a,u){if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););})},n&&(i.count=function(o,a){return Ke.setTime(+o),Ge.setTime(+a),t(Ke),t(Ge),Math.floor(n(Ke,Ge))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var Te=ut(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Te.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ut(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Te};Te.range;const yt=1e3,ft=yt*60,xt=ft*60,Ct=xt*24,An=Ct*7,xr=Ct*30,Xe=Ct*365;var Mt=ut(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*yt)},function(t,e){return(e-t)/yt},function(t){return t.getUTCSeconds()});Mt.range;var Ae=ut(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt)},function(t,e){t.setTime(+t+e*ft)},function(t,e){return(e-t)/ft},function(t){return t.getMinutes()});Ae.range;var Ne=ut(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*yt-t.getMinutes()*ft)},function(t,e){t.setTime(+t+e*xt)},function(t,e){return(e-t)/xt},function(t){return t.getHours()});Ne.range;var Kt=ut(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ft)/Ct,t=>t.getDate()-1);Kt.range;function $t(t){return ut(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ft)/An})}var Ue=$t(0),Ce=$t(1),su=$t(2),cu=$t(3),Wt=$t(4),fu=$t(5),hu=$t(6);Ue.range;Ce.range;su.range;cu.range;Wt.range;fu.range;hu.range;var Fe=ut(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});Fe.range;var mt=ut(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});mt.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ut(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};mt.range;var Le=ut(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ft)},function(t,e){return(e-t)/ft},function(t){return t.getUTCMinutes()});Le.range;var Ie=ut(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*xt)},function(t,e){return(e-t)/xt},function(t){return t.getUTCHours()});Ie.range;var Gt=ut(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Ct},function(t){return t.getUTCDate()-1});Gt.range;function Et(t){return ut(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/An})}var Re=Et(0),De=Et(1),du=Et(2),mu=Et(3),Ht=Et(4),gu=Et(5),vu=Et(6);Re.range;De.range;du.range;mu.range;Ht.range;gu.range;vu.range;var Oe=ut(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});Oe.range;var gt=ut(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});gt.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ut(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};gt.range;function yi(t,e,n,r,i,o){const a=[[Mt,1,yt],[Mt,5,5*yt],[Mt,15,15*yt],[Mt,30,30*yt],[o,1,ft],[o,5,5*ft],[o,15,15*ft],[o,30,30*ft],[i,1,xt],[i,3,3*xt],[i,6,6*xt],[i,12,12*xt],[r,1,Ct],[r,2,2*Ct],[n,1,An],[e,1,xr],[e,3,3*xr],[t,1,Xe]];function u(c,s,h){const f=s<c;f&&([c,s]=[s,c]);const d=h&&typeof h.range=="function"?h:l(c,s,h),v=d?d.range(c,+s+1):[];return f?v.reverse():v}function l(c,s,h){const f=Math.abs(s-c)/h,d=xn(([,,p])=>p).right(a,f);if(d===a.length)return t.every(un(c/Xe,s/Xe,h));if(d===0)return Te.every(Math.max(un(c,s,h),1));const[v,g]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return v.every(g)}return[u,l]}const[pu,yu]=yi(gt,Oe,Re,Gt,Ie,Le),[xu,Mu]=yi(mt,Fe,Ue,Kt,Ne,Ae);function qe(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ze(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function te(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bu(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=ee(i),s=ne(i),h=ee(o),f=ne(o),d=ee(a),v=ne(a),g=ee(u),p=ne(u),T=ee(l),w=ne(l),x={a:S,A,b:F,B:O,c:null,d:Tr,e:Tr,f:Hu,g:tl,G:nl,H:Pu,I:Bu,j:Wu,L:xi,m:ju,M:zu,p:X,q:H,Q:kr,s:$r,S:Ku,u:Gu,U:Xu,V:qu,w:Zu,W:Qu,x:null,X:null,y:Ju,Y:el,Z:rl,"%":Dr},D={a:W,A:B,b:q,B:rt,c:null,d:Cr,e:Cr,f:ul,g:pl,G:xl,H:il,I:ol,j:al,L:bi,m:ll,M:sl,p:ot,q:z,Q:kr,s:$r,S:cl,u:fl,U:hl,V:dl,w:ml,W:gl,x:null,X:null,y:vl,Y:yl,Z:Ml,"%":Dr},C={a:$,A:b,b:E,B:k,c:I,d:_r,e:_r,f:Ru,g:wr,G:br,H:Sr,I:Sr,j:Uu,L:Iu,m:Nu,M:Fu,p:P,q:Au,Q:Vu,s:Yu,S:Lu,u:Cu,U:Du,V:ku,w:Tu,W:$u,x:j,X:Y,y:wr,Y:br,Z:Eu,"%":Ou};x.x=M(n,x),x.X=M(r,x),x.c=M(e,x),D.x=M(n,D),D.X=M(r,D),D.c=M(e,D);function M(_,U){return function(L){var m=[],K=-1,V=0,Q=_.length,Z,et,st;for(L instanceof Date||(L=new Date(+L));++K<Q;)_.charCodeAt(K)===37&&(m.push(_.slice(V,K)),(et=Mr[Z=_.charAt(++K)])!=null?Z=_.charAt(++K):et=Z==="e"?" ":"0",(st=U[Z])&&(Z=st(L,et)),m.push(Z),V=K+1);return m.push(_.slice(V,K)),m.join("")}}function N(_,U){return function(L){var m=te(1900,void 0,1),K=R(m,_,L+="",0),V,Q;if(K!=L.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(U&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(V=Ze(te(m.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?De.ceil(V):De(V),V=Gt.offset(V,(m.V-1)*7),m.y=V.getUTCFullYear(),m.m=V.getUTCMonth(),m.d=V.getUTCDate()+(m.w+6)%7):(V=qe(te(m.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?Ce.ceil(V):Ce(V),V=Kt.offset(V,(m.V-1)*7),m.y=V.getFullYear(),m.m=V.getMonth(),m.d=V.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),Q="Z"in m?Ze(te(m.y,0,1)).getUTCDay():qe(te(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(Q+5)%7:m.w+m.U*7-(Q+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,Ze(m)):qe(m)}}function R(_,U,L,m){for(var K=0,V=U.length,Q=L.length,Z,et;K<V;){if(m>=Q)return-1;if(Z=U.charCodeAt(K++),Z===37){if(Z=U.charAt(K++),et=C[Z in Mr?U.charAt(K++):Z],!et||(m=et(_,L,m))<0)return-1}else if(Z!=L.charCodeAt(m++))return-1}return m}function P(_,U,L){var m=c.exec(U.slice(L));return m?(_.p=s.get(m[0].toLowerCase()),L+m[0].length):-1}function $(_,U,L){var m=d.exec(U.slice(L));return m?(_.w=v.get(m[0].toLowerCase()),L+m[0].length):-1}function b(_,U,L){var m=h.exec(U.slice(L));return m?(_.w=f.get(m[0].toLowerCase()),L+m[0].length):-1}function E(_,U,L){var m=T.exec(U.slice(L));return m?(_.m=w.get(m[0].toLowerCase()),L+m[0].length):-1}function k(_,U,L){var m=g.exec(U.slice(L));return m?(_.m=p.get(m[0].toLowerCase()),L+m[0].length):-1}function I(_,U,L){return R(_,e,U,L)}function j(_,U,L){return R(_,n,U,L)}function Y(_,U,L){return R(_,r,U,L)}function S(_){return a[_.getDay()]}function A(_){return o[_.getDay()]}function F(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function X(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return a[_.getUTCDay()]}function B(_){return o[_.getUTCDay()]}function q(_){return l[_.getUTCMonth()]}function rt(_){return u[_.getUTCMonth()]}function ot(_){return i[+(_.getUTCHours()>=12)]}function z(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=M(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=N(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=M(_+="",D);return U.toString=function(){return _},U},utcParse:function(_){var U=N(_+="",!0);return U.toString=function(){return _},U}}}var Mr={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,wu=/^%/,_u=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Su(t){return t.replace(_u,"\\$&")}function ee(t){return new RegExp("^(?:"+t.map(Su).join("|")+")","i")}function ne(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tu(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Cu(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Du(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ku(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $u(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function br(t,e,n){var r=lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wr(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eu(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Au(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _r(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Uu(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Sr(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Iu(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ru(t,e,n){var r=lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ou(t,e,n){var r=wu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vu(t,e,n){var r=lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yu(t,e,n){var r=lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Tr(t,e){return tt(t.getDate(),e,2)}function Pu(t,e){return tt(t.getHours(),e,2)}function Bu(t,e){return tt(t.getHours()%12||12,e,2)}function Wu(t,e){return tt(1+Kt.count(mt(t),t),e,3)}function xi(t,e){return tt(t.getMilliseconds(),e,3)}function Hu(t,e){return xi(t,e)+"000"}function ju(t,e){return tt(t.getMonth()+1,e,2)}function zu(t,e){return tt(t.getMinutes(),e,2)}function Ku(t,e){return tt(t.getSeconds(),e,2)}function Gu(t){var e=t.getDay();return e===0?7:e}function Xu(t,e){return tt(Ue.count(mt(t)-1,t),e,2)}function Mi(t){var e=t.getDay();return e>=4||e===0?Wt(t):Wt.ceil(t)}function qu(t,e){return t=Mi(t),tt(Wt.count(mt(t),t)+(mt(t).getDay()===4),e,2)}function Zu(t){return t.getDay()}function Qu(t,e){return tt(Ce.count(mt(t)-1,t),e,2)}function Ju(t,e){return tt(t.getFullYear()%100,e,2)}function tl(t,e){return t=Mi(t),tt(t.getFullYear()%100,e,2)}function el(t,e){return tt(t.getFullYear()%1e4,e,4)}function nl(t,e){var n=t.getDay();return t=n>=4||n===0?Wt(t):Wt.ceil(t),tt(t.getFullYear()%1e4,e,4)}function rl(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function Cr(t,e){return tt(t.getUTCDate(),e,2)}function il(t,e){return tt(t.getUTCHours(),e,2)}function ol(t,e){return tt(t.getUTCHours()%12||12,e,2)}function al(t,e){return tt(1+Gt.count(gt(t),t),e,3)}function bi(t,e){return tt(t.getUTCMilliseconds(),e,3)}function ul(t,e){return bi(t,e)+"000"}function ll(t,e){return tt(t.getUTCMonth()+1,e,2)}function sl(t,e){return tt(t.getUTCMinutes(),e,2)}function cl(t,e){return tt(t.getUTCSeconds(),e,2)}function fl(t){var e=t.getUTCDay();return e===0?7:e}function hl(t,e){return tt(Re.count(gt(t)-1,t),e,2)}function wi(t){var e=t.getUTCDay();return e>=4||e===0?Ht(t):Ht.ceil(t)}function dl(t,e){return t=wi(t),tt(Ht.count(gt(t),t)+(gt(t).getUTCDay()===4),e,2)}function ml(t){return t.getUTCDay()}function gl(t,e){return tt(De.count(gt(t)-1,t),e,2)}function vl(t,e){return tt(t.getUTCFullYear()%100,e,2)}function pl(t,e){return t=wi(t),tt(t.getUTCFullYear()%100,e,2)}function yl(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function xl(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ht(t):Ht.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function Ml(){return"+0000"}function Dr(){return"%"}function kr(t){return+t}function $r(t){return Math.floor(+t/1e3)}var Ut,_i,Si;bl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bl(t){return Ut=bu(t),_i=Ut.format,Ut.parse,Si=Ut.utcFormat,Ut.utcParse,Ut}function wl(t){return new Date(t)}function _l(t){return t instanceof Date?+t:+new Date(+t)}function Nn(t,e,n,r,i,o,a,u,l,c){var s=hi(),h=s.invert,f=s.domain,d=c(".%L"),v=c(":%S"),g=c("%I:%M"),p=c("%I %p"),T=c("%a %d"),w=c("%b %d"),x=c("%B"),D=c("%Y");function C(M){return(l(M)<M?d:u(M)<M?v:a(M)<M?g:o(M)<M?p:r(M)<M?i(M)<M?T:w:n(M)<M?x:D)(M)}return s.invert=function(M){return new Date(h(M))},s.domain=function(M){return arguments.length?f(Array.from(M,_l)):f().map(wl)},s.ticks=function(M){var N=f();return t(N[0],N[N.length-1],M??10)},s.tickFormat=function(M,N){return N==null?C:c(N)},s.nice=function(M){var N=f();return(!M||typeof M.range!="function")&&(M=e(N[0],N[N.length-1],M??10)),M?f(vi(N,M)):s},s.copy=function(){return kn(s,Nn(t,e,n,r,i,o,a,u,l,c))},s}function Sl(){return zt.apply(Nn(xu,Mu,mt,Fe,Ue,Kt,Ne,Ae,Mt,_i).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tl(){return zt.apply(Nn(pu,yu,gt,Oe,Re,Gt,Ie,Le,Mt,Si).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cl(t){var e,n,r,i,o,a,u,l,c,s;return G({},t,{elementType:(e=t.elementType)!=null?e:"line",minTickPaddingForRotation:(n=t.minTickPaddingForRotation)!=null?n:10,tickLabelRotationDeg:(r=t.tickLabelRotationDeg)!=null?r:60,innerBandPadding:(i=t.innerBandPadding)!=null?i:.5,outerBandPadding:(o=t.outerBandPadding)!=null?o:.2,innerSeriesBandPadding:(a=t.innerSeriesBandPadding)!=null?a:.2,outerSeriesBandPadding:(u=t.outerSeriesBandPadding)!=null?u:0,show:(l=t.show)!=null?l:!0,stacked:(c=t.stacked)!=null?c:!1,shouldNice:(s=t.shouldNice)!=null?s:!0})}function Er(t,e,n,r,i,o,a){var u=Cl(e);if(!u.position)throw new Error("Chart axes must have a valid 'position' property");var l=["left","right"].indexOf(u.position)>-1,c=l?[i.height,0]:[0,i.width],s=l?[a,0]:[0,o];return u.scaleType==="time"||u.scaleType==="localTime"?Dl(t,u,n,r,l,c,s):u.scaleType==="linear"||u.scaleType==="log"?kl(t,u,n,r,l,c,s):u.scaleType==="band"?$l(t,u,n,l,c,s):function(){throw new Error("Invalid scale type")}()}function Dl(t,e,n,r,i,o,a){var u=e.scaleType==="localTime",l=u?Sl:Tl,c=!1;n=t?n:n.filter(function(Y){return Y.secondaryAxisId===e.id}),r=t?r:r.filter(function(Y){return Y.secondaryAxisId===e.id});var s=l(o),h=en(r,function(Y){var S=e.getValue(Y.originalDatum);return Y[t?"primaryValue":"secondaryValue"]=S,S}),f=h[0],d=h[1],v,g=u?{year:mt,month:Fe,day:Kt,hour:Ne,minute:Ae,second:Mt}:{year:gt,month:Oe,day:Gt,hour:Ie,minute:Le,second:Mt};f&&d&&(g.year.count(f,d)>0||g.year.floor(d)<g.year()?v="%b %-d, %Y %-I:%M:%S.%L %p":g.month.count(f,d)>0||g.month.floor(d)<g.month()||g.day.count(f,d)>0||g.day.floor(d)<g.day()?v="%b %-d, %-I:%M:%S.%L %p":g.hour.count(f,d)>0||g.hour.floor(d)<g.hour()?v="%-I:%M:%S.%L %p":g.minute.count(f,d)>0||g.minute.floor(d)<g.minute()?v="%-I:%M:%S.%L":(g.second.count(f,d)>0||g.second.floor(d)<g.second())&&(v="%L"));var p=u?qr:Zr,T=function(S){return S.trim().replace(/(,$|^,)/,"")},w=function(S,A){return g.second(A)<A?p(S)(A):g.minute(A)<A?p(T(S.replace(/\.%L.*?(\s|$)/,"")))(A):g.hour(A)<A?p(T(S.replace(/:%S.*?(\s|$)/,"")))(A):g.day(A)<A?p(T(S.replace(/:%M.*?(\s|$)/,"")))(A):g.month(A)<A?p(T(S.replace(/%-I.*/,"")))(A):g.year(A)<A?p(T(S.replace(/%-d.*/,"")))(A):p("%Y")(A)},x=e.shouldNice;Object.prototype.toString.call(e.min)==="[object Date]"&&(f=pe([e.min,f]),x=!1),Object.prototype.toString.call(e.max)==="[object Date]"&&(d=ve([e.max,d]),x=!1),Object.prototype.toString.call(e.hardMin)==="[object Date]"&&(f=e.hardMin,x=!1),Object.prototype.toString.call(e.hardMax)==="[object Date]"&&(d=e.hardMax,x=!1),(f===void 0||d===void 0)&&(console.info("Invalid scale min/max",{options:e,series:n,range:o,values:r.map(function(Y){return t?Y.primaryValue:Y.secondaryValue})}),c=!0),s.domain([f,d]),e.invert&&s.domain(Array.from(s.domain()).reverse()),x&&s.nice();var D=s.copy().range(a),C=t?Ti(e,s,n,o):void 0,M=C?Un(e,C,n):void 0,N=C==null?void 0:C.bandwidth();if(e.padBandRange&&N){var R=s.invert(0),P=s.invert(N),$=P.valueOf()-R.valueOf();s.domain([new Date(s.domain()[0].valueOf()-$/2),new Date(s.domain()[1].valueOf()+$/2)])}var b={},E=s.tickFormat(),k=function(S){var A,F;return(A=(F=e.formatters)==null||F.scale==null?void 0:F.scale(S,G({},b,{scale:void 0})))!=null?A:w(v,S)},I=function(S){var A,F;return(A=(F=e.formatters)==null||F.tooltip==null?void 0:F.tooltip(S,G({},b,{tooltip:void 0})))!=null?A:k(S)},j=function(S){var A,F;return(A=(F=e.formatters)==null||F.cursor==null?void 0:F.cursor(S,G({},b,{cursor:void 0})))!=null?A:k(S)};return Object.assign(b,{default:E,scale:k,tooltip:I,cursor:j}),G({},e,{isInvalid:c,axisFamily:"time",isVertical:i,scale:s,range:o,outerScale:D,primaryBandScale:C,seriesBandScale:M,formatters:b})}function kl(t,e,n,r,i,o,a){var u=e.scaleType==="log"?pi():gi(),l=!1;n=t?n:n.filter(function($){return $.secondaryAxisId===e.id}),r=t?r:r.filter(function($){return $.secondaryAxisId===e.id}),e.stacked&&El(n,e);var c=e.stacked?en(n.map(function($){return $.datums.map(function(b){var E,k=e.getValue(b.originalDatum);return b[t?"primaryValue":"secondaryValue"]=k,(E=b.stackData)!=null?E:[]})}).flat(2)):en(r,function($){var b=e.getValue($.originalDatum);return $[t?"primaryValue":"secondaryValue"]=b,b}),s=c[0],h=c[1],f=e.shouldNice;if(typeof e.min=="number"&&(s=pe([e.min,s]),f=!1),typeof e.max=="number"&&(h=ve([e.max,h]),f=!1),typeof e.minDomainLength=="number"&&!(s===void 0||h===void 0)){var d=ua([s,h]),v=d+e.minDomainLength/2,g=d-e.minDomainLength/2;h=Math.max(v,h),s=Math.min(g,s)}if(typeof e.hardMin=="number"&&(s=e.hardMin,f=!1),typeof e.hardMax=="number"&&(h=e.hardMax,f=!1),s===void 0||h===void 0){var p,T;l=!0,console.info("Invalid scale min/max",{options:e,series:n,range:o,values:r.map(function($){return t?$.primaryValue:$.secondaryValue})}),s=(p=s)!=null?p:0,h=(T=h)!=null?T:0}u.domain([s,h]),e.invert&&u.domain(Array.from(u.domain()).reverse()),u.range(o),f&&u.nice();var w=u.copy().range(a),x=t?Ti(e,u,n,o):void 0,D=x?Un(e,x,n):void 0,C=u.tickFormat(),M={},N=function(b){var E,k;return(E=(k=e.formatters)==null||k.scale==null?void 0:k.scale(b,G({},M,{scale:void 0})))!=null?E:C(b)},R=function(b){var E,k;return(E=(k=e.formatters)==null||k.tooltip==null?void 0:k.tooltip(b,G({},M,{tooltip:void 0})))!=null?E:N(b)},P=function(b){var E,k;return(E=(k=e.formatters)==null||k.cursor==null?void 0:k.cursor(b,G({},M,{cursor:void 0})))!=null?E:R(b)};return Object.assign(M,{default:C,scale:N,tooltip:R,cursor:P}),G({},e,{isInvalid:l,axisFamily:"linear",isVertical:i,scale:u,range:o,outerScale:w,primaryBandScale:x,seriesBandScale:D,formatters:M})}function $l(t,e,n,r,i,o){var a,u;n=n.filter(function(x){return x.secondaryAxisId===e.id});var l=!1,c=Array.from(new Set(n.map(function(x){return x.datums}).flat().map(function(x){var D=e.getValue(x.originalDatum);return x[t?"primaryValue":"secondaryValue"]=D,D}))),s=Ee(c,i).round(!1).paddingOuter((a=e.outerBandPadding)!=null?a:0).paddingInner((u=e.innerBandPadding)!=null?u:0);e.invert&&s.domain(Array.from(s.domain()).reverse());var h=s.copy().range(o),f=s,d=Un(e,f,n),v=function(D){return D},g={},p=function(D){var C,M;return(C=(M=e.formatters)==null||M.scale==null?void 0:M.scale(D,G({},g,{scale:void 0})))!=null?C:v(D)},T=function(D){var C,M;return(C=(M=e.formatters)==null||M.tooltip==null?void 0:M.tooltip(D,G({},g,{tooltip:void 0})))!=null?C:p(D)},w=function(D){var C,M;return(C=(M=e.formatters)==null||M.cursor==null?void 0:M.cursor(D,G({},g,{cursor:void 0})))!=null?C:T(D)};return Object.assign(g,{default:v,scale:p,tooltip:T,cursor:w}),G({},e,{isInvalid:l,axisFamily:"band",isVertical:r,scale:s,range:i,outerScale:h,formatters:g,primaryBandScale:f,seriesBandScale:d})}function El(t,e){for(var n,r=Object.keys(t),i=ba().keys(r).value(function(s,h,f){var d,v,g=(d=t[Number(h)])==null||(v=d.datums[f])==null?void 0:v.originalDatum,p=typeof g<"u"?e.getValue(g):0;return typeof p>"u"||p===null?0:p}).offset((n=e.stackOffset)!=null?n:hn),o=i(Array.from({length:t.sort(function(s,h){return h.datums.length-s.datums.length})[0].datums.length})),a=0;a<o.length;a++)for(var u=o[a],l=0;l<u.length;l++){var c=u[l];t[a].datums[l]&&(c.data=t[a].datums[l],t[a].datums[l].stackData=c)}}function Ti(t,e,n,r){var i,o,a=Math.max.apply(Math,r),u=Math.max.apply(Math,r);(function(){for(var s=0;s<n.length;s++)for(var h=n[s],f=0;f<h.datums.length;f++)for(var d,v=h.datums[f],g=e((d=v.primaryValue)!=null?d:NaN),p=0;p<h.datums.length;p++){var T,w=h.datums[p],x=e((T=w.primaryValue)!=null?T:NaN);if(g!==x){var D=Math.abs(Math.max(g,x)-Math.min(g,x));if(D<a&&(a=Math.max(D,u),a===u))return}}})();var l=Mn(u/a),c=Ee(l,r).round(!1).paddingOuter((i=t.outerBandPadding)!=null?i:0).paddingInner((o=t.innerBandPadding)!=null?o:0);return c}function Un(t,e,n){var r,i,o=Mn(n.length),a=Ee(o,[0,e.bandwidth()]).round(!1).paddingOuter((r=t.outerSeriesBandPadding)!=null?r:t.outerBandPadding?t.outerBandPadding/2:0).paddingInner((i=t.innerSeriesBandPadding)!=null?i:t.innerBandPadding?t.innerBandPadding/2:0),u=function(c){var s;return a((s=n.find(function(h){return h.index===c}))==null?void 0:s.indexPerAxis)};return Object.assign(u,a)}var Qe=function(e){var n=e.getBoundingClientRect();return{top:Math.round(n.top),right:Math.round(n.right),bottom:Math.round(n.bottom),left:Math.round(n.left),width:Math.round(n.width),height:Math.round(n.height),x:Math.round(n.x),y:Math.round(n.y)}};function Al(t){var e=t.axis,n=t.elRef,r=t.gridDimensions,i=t.setShowRotated,o=pt(),a=o.axisDimensionsState,u=a[0],l=a[1],c=y.useMemo(function(){var f;return(f=u[e.position])==null?void 0:f[e.id]},[u,e.position,e.id]),s=y.useCallback(function(){var f;if(n.current){var d=e.isVertical?r.height:r.width,v=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map(function(w){return Qe(w)}),g;v.forEach(function(w){var x,D=(x=g)!=null?x:{width:0};w.width>0&&w.width>D.width&&(g=w)});var p=d;v.length>1&&v.forEach(function(w,x){var D=v[x-1];D&&(p=Math.min(p,e.isVertical?w.top-D.top:w.left-D.left))});var T=(((f=g)==null?void 0:f.width)||0)+e.minTickPaddingForRotation>p;e.isVertical||i(T)}},[n,e.isVertical,e.minTickPaddingForRotation,r.width,r.height,i]),h=y.useCallback(function(){if(!n.current){c&&l(function(w){var x,D,C=G({},(x=w[e.position])!=null?x:{});return delete C[e.id],G({},w,(D={},D[e.position]=C,D))});return}var f={width:0,height:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},d=n.current,v=d.querySelector(".Axis-Group.inner .domainAndTicks"),g=d.querySelector(".Axis-Group.inner .domain");if(!(!v||!g)){var p=Qe(v),T=Qe(g);!p||!T||(e.isVertical?(f.paddingTop=Math.round(Math.max(0,T.top-(p==null?void 0:p.top))),f.paddingBottom=Math.round(Math.max(0,(p==null?void 0:p.bottom)-T.bottom)),f.width=p==null?void 0:p.width):(f.paddingLeft=Math.round(Math.max(0,T.left-(p==null?void 0:p.left))),f.paddingRight=Math.round(Math.max(0,(p==null?void 0:p.right)-T.right)),f.height=p==null?void 0:p.height),(!u||!c||Object.keys(f).some(function(w){return f[w]!==c[w]}))&&l(function(w){var x,D,C;return G({},w,(C={},C[e.position]=G({},(x=w[e.position])!=null?x:{},(D={},D[e.id]=f,D)),C))}))}},[e.id,e.isVertical,e.position,c,u,n,l]);ue(function(){window.requestAnimationFrame(function(){s(),h()})},[s])}function Nl(t){var e=y.useState(!1),n=e[0],r=e[1],i=pt(),o=i.getOptions,a=i.gridDimensions,u=i.width,l=i.height,c=o(),s=c.dark,h=c.showDebugAxes,f=y.useRef(null);Al({axis:t,elRef:f,gridDimensions:a,setShowRotated:r});var d=function(g){var p=!g&&n,T=g?t.outerScale:t.scale,w=T.range(),x=w[0],D=w[1],C=function(){var k=t;if(k.outerScale.ticks){if(typeof k.tickCount=="number")return k.outerScale.ticks(k.tickCount);var I=k.isVertical?40:80,j=k.outerScale.range(),Y=Math.abs(j[1]-j[0])/I;return k.outerScale.ticks(Y)}return k.outerScale.domain()},M=g?l:a.height,N=g?u:a.width,R=t.position==="left"?[{x:0,y:x},{x:0,y:D}]:t.position==="right"?[{x:N,y:x},{x:N,y:D}]:t.position==="top"?[{x,y:0},{x:D,y:0}]:[{x,y:M},{x:D,y:M}],P=R[0],$=R[1],b=C().map(function(E){var k=Ul(T,E),I=t.position==="left"?[{x:0,y:k},{x:-8,y:k},{x:N,y:k}]:t.position==="right"?[{x:N,y:k},{x:N+8,y:k},{x:0,y:k}]:t.position==="top"?[{x:k,y:0},{x:k,y:-8},{x:k,y:M}]:[{x:k,y:M},{x:k,y:M+8},{x:k,y:0}],j=I[0],Y=I[1],S=I[2];return{value:E,from:j,to:Y,gridTo:S}});return y.createElement("g",{key:"Axis-Group "+(g?"outer":"inner"),className:"Axis-Group "+(g?"outer":"inner"),style:{transform:g?void 0:jt(a.left,a.top)}},y.createElement("g",{className:"Axis",style:G({},g?{opacity:h?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"})},y.createElement("g",{className:"domainAndTicks"},y.createElement("line",{className:"domain",x1:P.x,y1:P.y,x2:$.x,y2:$.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),b.map(function(E,k){var I=E.to,j=I.x,Y=I.y;return t.position==="top"?Y-=5:t.position==="bottom"?Y+=5:t.position==="left"?j-=5:t.position==="right"&&(j+=5),y.createElement("g",{key:"vx-tick-"+E+"-"+k,className:"tick"},g?null:y.createElement("line",{x1:E.from.x,y1:E.from.y,x2:E.to.x,y2:E.to.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),y.createElement("text",{className:"tickLabel",style:{fontSize:10,fill:s?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:p?"central":t.position==="bottom"?"hanging":t.position==="top"?"alphabetic":"central",textAnchor:p?"end":t.position==="right"?"start":t.position==="left"?"end":"middle"},transform:"translate("+j+", "+Y+") rotate("+(p?t.position==="top"?60:-60:0)+")"},t.formatters.scale(E.value)))})),y.createElement("g",{className:"grid"},b.map(function(E,k){var I;return y.createElement("g",{key:"vx-tick-"+E+"-"+k,className:"tick"},((I=t.showGrid)==null||I)&&!g?y.createElement("line",{x1:E.from.x,y1:E.from.y,x2:E.gridTo.x,y2:E.gridTo.y,stroke:s?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}):null)}))))};return t.show?y.createElement("g",{ref:f},d(!1),d(!0)):null}function Ul(t,e){var n,r=(n=t(e))!=null?n:NaN;return t.bandwidth?r+t.bandwidth()/2:r}function Ci(t){var e=y.useRef();return ue(function(){e.current=t},[t]),e.current}function ht(t,e){e===void 0&&(e=!0);var n=y.useRef(e?t:null);return e&&(n.current=t),n.current}function Di(){var t=$e.useState(),e=t[0],n=t[1];return ue(function(){if(!e){var r=document.getElementById("react-charts-portal");r||(r=document.createElement("div"),r.setAttribute("id","react-charts-portal"),Object.assign(r.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(r)),n(r)}}),e}function oe(t,e){var n=y.useReducer(function(){return{}},[])[1],r=y.useRef({width:0,height:0,x:0,y:0,left:0,top:0,right:0,bottom:0}),i=y.useCallback(function(){t&&(r.current=t.getBoundingClientRect())},[t]);return r.current||i(),y.useEffect(function(){if(!(!t||!e)){var o=function(){i(),n()};return document.addEventListener("scroll",o,!0),function(){document.removeEventListener("scroll",o,!0)}}},[t,e,i,n]),y.useEffect(function(){if(!(!t||!e)){i(),n();var o=new ResizeObserver(function(){i(),n()});return o.observe(t),function(){o.unobserve(t)}}},[t,e,i,n]),r.current}function Fl(t,e,n){if(Ai())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return i}var Ar=.001;function ki(t,e){return Number.isNaN(t)&&Number.isNaN(e)?!0:t>e-Ar&&t<e+Ar}function Ft(t){return ki(t,0)}var Ll=function(){function t(n,r,i,o){this._m=r,this._k=i,this._c=o,this._solution=null,this.endPosition=n,this._startTime=0}var e=t.prototype;return e.x=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this.endPosition+this._solution.x(r):this.endPosition},e.dx=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this._solution.dx(r):0},e.setEnd=function(r){var i=new Date().getTime(),o=0,a=this.endPosition;this._solution&&(Ft(o)&&(o=this._solution.dx((i-this._startTime)/1e3)),a=this._solution.x((i-this._startTime)/1e3),Ft(o)&&(o=0),Ft(a)&&(a=0),a+=this.endPosition),!(this._solution&&Ft(a-r)&&Ft(o))&&(this.endPosition=r,this._solution=this._solve(a-this.endPosition,o),this._startTime=i)},e.snap=function(r){this._startTime=new Date().getTime(),this.endPosition=r,this._solution={x:function(){return 0},dx:function(){return 0}}},e.done=function(){return ki(this.x(),this.endPosition)&&Ft(this.dx())},e._solve=function(r,i){var o=this._c,a=this._m,u=this._k,l=o*o-4*a*u;if(l===0){var c=-o/(2*a),s=r,h=i/(c*r);return{x:function(C){return(s+h*C)*Math.pow(Math.E,c*C)},dx:function(C){var M=Math.pow(Math.E,c*C);return c*(s+h*C)*M+h*M}}}else if(l>0){var f=(-o-Math.sqrt(l))/(2*a),d=(-o+Math.sqrt(l))/(2*a),v=(i-f*r)/(d-f),g=r-v;return{x:function(C){return g*Math.pow(Math.E,f*C)+v*Math.pow(Math.E,d*C)},dx:function(C){return g*f*Math.pow(Math.E,f*C)+v*d*Math.pow(Math.E,d*C)}}}else{var p=Math.sqrt(4*a*u-o*o)/(2*a),T=-(o/2*a),w=r,x=(i-T*r)/p;return{x:function(C){return Math.pow(Math.E,T*C)*(w*Math.cos(p*C)+x*Math.sin(p*C))},dx:function(C){var M=Math.pow(Math.E,T*C),N=Math.cos(p*C),R=Math.sin(p*C);return M*(x*p*N-w*p*R)+T*M*(x*R+w*N)}}}},t}();function Rt(t,e,n,r,i){var o=y.useRef(Fl(Ll,[t].concat(e))),a=ye(t),u=Il(function(){return n(o.current.x()),o.current.done()}),l=u[0],c=u[1],s=y.useRef(),h=s.current!==t;return y.useEffect(function(){if(h){if(r){o.current.snap(a()),l();return}o.current.setEnd(t),l()}s.current=t}),y.useEffect(function(){return function(){c()}},[c]),o.current}function Il(t){var e=y.useRef(null),n=y.useRef(t);n.current=t;var r=y.useCallback(function(){n.current()||(e.current=requestAnimationFrame(r))},[]);return[y.useMemo(function(){return r},[r]),y.useMemo(function(){return function(){return e.current&&cancelAnimationFrame(e.current)}},[])]}var Rl=function(e,n){return e?"rgba(255,255,255,"+(n>4?.15:.3)+")":"rgba(0, 26, 39, "+(n>4?.15:.3)+")"},Nr=function(e){return e?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Ur(t){var e,n,r;return G({},t,{show:(e=t.show)!=null?e:!0,showLine:(n=t.showLine)!=null?n:!0,showLabel:(r=t.showLabel)!=null?r:!0})}function Ol(){var t,e,n=pt(),r=n.getOptions,i=(t=r().primaryCursor)!=null?t:!0,o=(e=r().secondaryCursor)!=null?e:!0,a=y.useMemo(function(){return Ur(i?typeof i=="boolean"?{}:i:{show:!1})},[i]),u=y.useMemo(function(){return Ur(o?typeof o=="boolean"?{}:o:{show:!1})},[o]);return y.createElement(y.Fragment,null,a.show&&y.createElement(Fr,{primary:!0,options:a}),u.show&&y.createElement(Fr,{options:u}))}function Fr(t){var e,n,r,i,o,a,u,l=pt(),c=l.getOptions,s=l.svgRef,h=l.gridDimensions,f=l.focusedDatumState,d=l.primaryAxis,v=l.secondaryAxes,g=ye(t.options),p=f[0],T=ht(p,!!p),w=(e=v.find(function(At){return At.id===(T==null?void 0:T.secondaryAxisId)}))!=null?e:v[0],x=t.primary?d:w,D=t.primary?w:d,C=function(ce){var Yn;return ce?x.stacked?(Yn=ce.stackData)==null?void 0:Yn[1]:t.primary?ce.primaryValue:ce.secondaryValue:void 0},M=C(p);y.useEffect(function(){var At;(At=g())==null||At.onChange==null||At.onChange(M)},[g,M]);var N=(n=t.options.value)!=null?n:M,R=ht(t.options.value,t.options.value!=null),P=ht(C(T),C(T)!=null),$=R??P,b=D.scale.range(),E,k,I,j,Y,S,A,F,O=x.axisFamily==="band"?x.scale.bandwidth():1,X=typeof N<"u"&&!Number.isNaN(N),H=x.scale(N);if(x.isVertical){var W,B;k=H,Y=((W=k)!=null?W:0)-1,S=((B=k)!=null?B:0)+O,x.position==="left"?(I=b[0],j=b[1]):(I=b[1],j=b[0])}else{var q,rt;E=H,I=((q=E)!=null?q:0)-1,j=((rt=E)!=null?rt:0)+O,x.position==="top"?(Y=b[0],S=b[1]):(Y=b[1],S=b[0])}var ot=Math.min(I,j),z=Math.min(Y,S),_=Math.max(I,j),U=Math.max(Y,S),L=Math.max(U-z,0),m=Math.max(_-ot,0),K,V;x.isVertical?(x.position==="left"?K=ot:K=_,V=z+L/2):(x.position==="top"?V=z:V=U,K=ot+m/2),x.isVertical?(F=-50,x.position==="left"?A=-100:A=0):(A=-50,x.position==="top"?F=-100:F=0);var Q=x.formatters.cursor($),Z=oe(s.current,X),et=y.useRef(null),st=y.useRef(null),Ve=ht(ot,H!=null),le=ht(z,H!=null),se=ht(K,H!=null),Xt=ht(V,H!=null),Ye=Ci(H),dt=Ye==null&&H!==null;ot=(r=H!=null?ot:Ve)!=null?r:NaN,z=(i=H!=null?z:le)!=null?i:NaN,K=(o=H!=null?K:se)!=null?o:NaN,V=(a=H!=null?V:Xt)!=null?a:NaN;var Ln=Rt(ot,[1,210,20],function(){et.current&&(et.current.style.transform="translate("+Ln.x()+"px, "+In.x()+"px)")},dt),In=Rt(z,[1,210,20],function(){et.current&&(et.current.style.transform="translate("+Ln.x()+"px, "+In.x()+"px)")},dt),Rn=Rt(K,[1,210,20],function(){st.current&&(st.current.style.transform="translate("+Rn.x()+"px, "+On.x()+"px)")},dt),On=Rt(V,[1,210,20],function(){st.current&&(st.current.style.transform="translate("+Rn.x()+"px, "+On.x()+"px)")},dt),Vn=Di();return Vn?Pr.createPortal(y.createElement("div",{style:{fontFamily:"sans-serif",pointerEvents:"none",position:"absolute",top:0,left:0,transform:jt(Z.left+h.left,Z.top+h.top),opacity:X?1:0,transition:"opacity .3s ease"},className:"Cursor"},t.options.showLine?y.createElement("div",{ref:et,style:{width:m+"px",height:L+"px",position:"absolute",top:0,left:0,background:Rl((u=c().dark)!=null?u:!1,O)}}):null,t.options.showLabel?y.createElement("div",{ref:st,style:{position:"absolute",top:0,left:0}},y.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Nr(c().dark),color:Nr(!c().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+A+"%, "+F+"%, 0)",whiteSpace:"nowrap"}},Q)):null),Vn):null}var Vl={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function Yl(t){var e=oe(t.portalEl,t.show),n=oe(t.anchorEl,t.show),r=oe(t.tooltipEl,t.show),i=y.useMemo(function(){var u=Array.isArray(t.side)?t.side:[t.side];return u.map(function(l){var c=l.split(" "),s=c[0],h=c[1],f=h===void 0?"center":h,d=!["top","right","bottom","left"].find(function(g){return s===g});if(d)throw new Error('react-sticker: "'+s+`" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`);var v=!["center","start","end","top","right","bottom","left"].find(function(g){return f===g});if(v)throw new Error('react-sticker: "'+f+`" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`);return[s,f]})},[JSON.stringify(t.side)]),o=e&&r&&n,a=y.useMemo(function(){return o&&t.show?Pl({portalDims:e,tooltipDims:r,anchorDims:n,sides:i,useLargest:t.useLargest}):null},[n,t.show,t.useLargest,e,o,i,r]);return{fit:a,style:G({position:"absolute",visibility:o?"visible":"hidden"},a==null?void 0:a.style)}}function Pl(t){var e=t.portalDims,n=t.tooltipDims,r=t.anchorDims,i=t.sides,o=t.useLargest,a=i.map(function(u){var l=u[0],c=u[1];return Bl(G({},Vl[l],{align:c,portalDims:e,tooltipDims:n,anchorDims:r}))});return o?(a.sort(function(u,l){return l.fitRatio-u.fitRatio}),a[0]):a.find(function(u){return u.fitRatio>=1})||a[0]}function Bl(t){var e,n=t.side,r=t.align,i=t.startKey,o=t.lengthKey,a=t.crossStartKey,u=t.crossLengthKey,l=t.fromEnd,c=t.portalDims,s=t.tooltipDims,h=t.anchorDims,f=c[i],d=c[o],v=c[a],g=c[u],p=h[i]-c[i],T=h[o],w=h[a],x=h[u],D=h[u],C=s[o],M=s[u],N,R;l?(N=p+T,R=(d-(p+T))/C):(N=p-C,R=Math.min(p/C)),N=Math.max(f,Math.min(N,d));var P;return i==="left"?r==="top"?r="start":r==="bottom"&&(r="end"):r==="left"?r="start":r==="right"&&(r="end"),["start","center","end"].includes(r)||(r="center"),r==="start"?P=w:r==="end"?P=w+D-M:P=w+x/2-M/2,P=Math.max(v,Math.min(P,g-M)),{side:n,align:r,startKey:i,lengthKey:o,crossStartKey:a,crossLengthKey:u,fromEnd:l,portalDims:c,tooltipDims:s,anchorDims:h,fitRatio:R,style:(e={},e[i]=N,e[a]=P,e)}}var Wl=10,nt=7,Lr=function(e){return e?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Hl(t){return y.createElement(jl,t)}function jl(t){var e,n,r,i=ht(t.anchor.fit,!!t.anchor.fit);if(!t.focusedDatum)return null;var o=t.primaryAxis,a=t.secondaryAxis,u=t.getDatumStyle,l=t.focusedDatum,c=t.secondaryAxes,s=t.getOptions(),h=s.tooltip,f=s.dark,d=((e=(n=t.focusedDatum)==null?void 0:n.tooltipGroup)!=null?e:[]).filter(function($){var b;return(b=h.showDatumInTooltip==null?void 0:h.showDatumInTooltip($))!=null?b:!0}),v=Wl,g=d.length,p=d.findIndex(function($){return $===l}),T=p>-1?p-v/2:0;T=Math.max(T,0);var w=p>-1?T+v:g;w=Math.min(w,g),T=Math.max(w-v,0);var x=d.slice(T,w),D=T>0,C=w<g,M=(i==null?void 0:i.side)+"-"+(i==null?void 0:i.align),N,R;N||(M==="left-center"?N="right":M==="right-center"?N="left":M==="top-center"?N="bottom":M==="bottom-center"?N="top":M==="right-start"?N="bottomLeft":M==="right-end"?N="topLeft":M==="left-start"?N="bottomRight":M==="left-end"&&(N="topRight"));var P=Lr(f);return N==="bottom"?R={top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:nt*.8+"px solid transparent",borderRight:nt*.8+"px solid transparent",borderTop:nt+"px solid "+P}:N==="top"?R={top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:nt*.8+"px solid transparent",borderRight:nt*.8+"px solid transparent",borderBottom:nt+"px solid "+P}:N==="right"?R={top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderLeft:nt+"px solid "+P}:N==="left"?R={top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderRight:nt+"px solid "+P}:N==="topRight"?R={top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderLeft:nt*2+"px solid "+P}:N==="bottomRight"?R={top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderLeft:nt*2+"px solid "+P}:N==="topLeft"?R={top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderRight:nt*2+"px solid "+P}:N==="bottomLeft"?R={top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:nt*.8+"px solid transparent",borderBottom:nt*.8+"px solid transparent",borderRight:nt*2+"px solid "+P}:R={opacity:0},y.createElement("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:Lr(f),color:f?"black":"white",borderRadius:"3px"}},y.createElement("div",{style:G({position:"absolute",width:0,height:0},R)}),y.createElement("div",null,y.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},h.groupingMode==="series"?y.createElement("strong",null,l.seriesLabel):h.groupingMode==="secondary"?y.createElement("strong",null,a.formatters.tooltip(l.secondaryValue)):y.createElement("strong",null,o.formatters.tooltip(l.primaryValue))),y.createElement("table",{style:{whiteSpace:"nowrap"}},y.createElement("tbody",null,D?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,x.map(function($,b){var E=$===l,k=c.find(function(I){return I.id===$.secondaryAxisId});return y.createElement("tr",{key:b,style:{opacity:E?1:.8,fontWeight:E?"bold":void 0}},y.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},y.createElement("svg",{width:"14",height:"14"},y.createElement("circle",{cx:"7",cy:"7",r:"5",style:G({},u($),{stroke:f?"black":"white",strokeWidth:E?2:1})}))),h.groupingMode==="series"?y.createElement(y.Fragment,null,y.createElement("td",null,o.formatters.tooltip($.primaryValue),":  "),y.createElement("td",{style:{textAlign:"right"}},k.formatters.tooltip($.secondaryValue))):h.groupingMode==="secondary"?y.createElement(y.Fragment,null,y.createElement("td",null,$.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},o.formatters.tooltip($.primaryValue))):y.createElement(y.Fragment,null,y.createElement("td",null,$.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},k.formatters.tooltip($.secondaryValue))))}),C?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,((r=l.tooltipGroup)!=null?r:[]).length>1?t.secondaryAxes.filter(function($){return $.stacked}).map(function($,b){var E,k;return y.createElement("tr",{key:$.id+"_"+b},y.createElement("td",{style:{paddingTop:"5px"}},y.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:f?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),y.createElement("td",{style:{paddingTop:"5px"}},t.secondaryAxes.length>1?(E=$.id)!=null?E:"Axis "+(b+1)+" ":"","Total:  "),y.createElement("td",{style:{paddingTop:"5px"}},$.formatters.scale(ct((k=l.tooltipGroup)!=null?k:[],function(I){return I.secondaryValue}))))}):null))))}var zl=["visibility"];function Kl(t){var e,n,r,i,o,a;return t===void 0&&(t={}),t===!0?t={show:!0}:t===!1&&(t={show:!1}),G({show:!0},t,{align:(e=t.align)!=null?e:"auto",alignPriority:(n=t.alignPriority)!=null?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:(r=t.padding)!=null?r:5,arrowPadding:(i=t.arrowPadding)!=null?i:7,render:(o=t.render)!=null?o:Hl,showDatumInTooltip:(a=t.showDatumInTooltip)!=null?a:function(){return!0}})}function Gl(){var t,e,n=pt(),r=n.focusedDatumState,i=n.getOptions,o=n.primaryAxis,a=n.secondaryAxes,u=n.getDatumStatusStyle,l=n.svgRef,c=r[0],s=ht(c,!!c),h=(t=a.find(function(k){return k.id===(s==null?void 0:s.secondaryAxisId)}))!=null?t:a[0],f=Di(),d=y.useState(),v=d[0],g=d[1],p=oe(l.current,!!(c!=null&&c.element)),T=y.useMemo(function(){var k,I,j,Y,S,A,F=(k=s==null||(I=s.element)==null?void 0:I.getBoundingClientRect())!=null?k:null;if(!F)return null;if(p){var O=(j=F.left)!=null?j:0,X=(Y=F.top)!=null?Y:0,H=(S=F.width)!=null?S:0,W=(A=F.height)!=null?A:0,B=document.createElement("div");return B.getBoundingClientRect=function(){return{x:O,y:X,width:H,height:W,top:X,left:O,bottom:X+H,right:O+W}},B}},[s==null?void 0:s.element,p]),w=Yl({show:!!c,portalEl:f,anchorEl:T,tooltipEl:v,side:["right","left","top","bottom"]}),x=Ci(w),D=(e=ht(w,!!w.fit))!=null?e:w,C=D.style;C.visibility;var M=Br(C,zl),N=y.useRef(null),R=Number.isNaN(x==null?void 0:x.style.left),P=Rt(M.left||0,[1,210,30],function(){N.current&&(N.current.style.transform="translate("+P.x()+"px, "+$.x()+"px)")},R),$=Rt(M.top||0,[1,210,30],function(){N.current&&(N.current.style.transform="translate("+P.x()+"px, "+$.x()+"px)")},R),b=i().tooltip.show,E=ht(w.fit,!!w.fit);return b&&f?Pr.createPortal(y.createElement("div",{ref:N,style:{position:M.position,opacity:c?1:0,transition:"opacity .3s ease"}},y.createElement("div",{ref:function(I){return g(I)},style:G({fontFamily:"sans-serif"},(E==null?void 0:E.startKey)==="left"?{padding:"0 10px"}:{padding:"10px 0"})},i().tooltip.render({getOptions:i,focusedDatum:s,primaryAxis:o,secondaryAxes:a,secondaryAxis:h,getDatumStyle:function(I){return u(I,c)},anchor:w}))),f):null}const Ir=Math.pow(2,-52),he=new Uint32Array(512);class ke{static from(e,n=Jl,r=ts){const i=e.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const u=e[a];o[2*a]=n(u),o[2*a+1]=r(u)}return new ke(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=e.length>>1;let u=1/0,l=1/0,c=-1/0,s=-1/0;for(let $=0;$<a;$++){const b=e[2*$],E=e[2*$+1];b<u&&(u=b),E<l&&(l=E),b>c&&(c=b),E>s&&(s=E),this._ids[$]=$}const h=(u+c)/2,f=(l+s)/2;let d=1/0,v,g,p;for(let $=0;$<a;$++){const b=Je(h,f,e[2*$],e[2*$+1]);b<d&&(v=$,d=b)}const T=e[2*v],w=e[2*v+1];d=1/0;for(let $=0;$<a;$++){if($===v)continue;const b=Je(T,w,e[2*$],e[2*$+1]);b<d&&b>0&&(g=$,d=b)}let x=e[2*g],D=e[2*g+1],C=1/0;for(let $=0;$<a;$++){if($===v||$===g)continue;const b=Zl(T,w,x,D,e[2*$],e[2*$+1]);b<C&&(p=$,C=b)}let M=e[2*p],N=e[2*p+1];if(C===1/0){for(let E=0;E<a;E++)this._dists[E]=e[2*E]-e[0]||e[2*E+1]-e[1];Ot(this._ids,this._dists,0,a-1);const $=new Uint32Array(a);let b=0;for(let E=0,k=-1/0;E<a;E++){const I=this._ids[E];this._dists[I]>k&&($[b++]=I,k=this._dists[I])}this.hull=$.subarray(0,b),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(de(T,w,x,D,M,N)){const $=g,b=x,E=D;g=p,x=M,D=N,p=$,M=b,N=E}const R=Ql(T,w,x,D,M,N);this._cx=R.x,this._cy=R.y;for(let $=0;$<a;$++)this._dists[$]=Je(e[2*$],e[2*$+1],R.x,R.y);Ot(this._ids,this._dists,0,a-1),this._hullStart=v;let P=3;r[v]=n[p]=g,r[g]=n[v]=p,r[p]=n[g]=v,i[v]=0,i[g]=1,i[p]=2,o.fill(-1),o[this._hashKey(T,w)]=v,o[this._hashKey(x,D)]=g,o[this._hashKey(M,N)]=p,this.trianglesLen=0,this._addTriangle(v,g,p,-1,-1,-1);for(let $=0,b,E;$<this._ids.length;$++){const k=this._ids[$],I=e[2*k],j=e[2*k+1];if($>0&&Math.abs(I-b)<=Ir&&Math.abs(j-E)<=Ir||(b=I,E=j,k===v||k===g||k===p))continue;let Y=0;for(let X=0,H=this._hashKey(I,j);X<this._hashSize&&(Y=o[(H+X)%this._hashSize],!(Y!==-1&&Y!==r[Y]));X++);Y=n[Y];let S=Y,A;for(;A=r[S],!de(I,j,e[2*S],e[2*S+1],e[2*A],e[2*A+1]);)if(S=A,S===Y){S=-1;break}if(S===-1)continue;let F=this._addTriangle(S,k,r[S],-1,-1,i[S]);i[k]=this._legalize(F+2),i[S]=F,P++;let O=r[S];for(;A=r[O],de(I,j,e[2*O],e[2*O+1],e[2*A],e[2*A+1]);)F=this._addTriangle(O,k,A,i[k],-1,i[O]),i[k]=this._legalize(F+2),r[O]=O,P--,O=A;if(S===Y)for(;A=n[S],de(I,j,e[2*A],e[2*A+1],e[2*S],e[2*S+1]);)F=this._addTriangle(A,k,S,-1,i[S],i[A]),this._legalize(F+2),i[A]=F,r[S]=S,P--,S=A;this._hullStart=n[k]=S,r[S]=n[O]=k,r[k]=O,o[this._hashKey(I,j)]=k,o[this._hashKey(e[2*S],e[2*S+1])]=S}this.hull=new Uint32Array(P);for(let $=0,b=this._hullStart;$<P;$++)this.hull[$]=b,b=r[b];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(Xl(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const u=r[e],l=e-e%3;if(a=l+(e+2)%3,u===-1){if(o===0)break;e=he[--o];continue}const c=u-u%3,s=l+(e+1)%3,h=c+(u+2)%3,f=n[a],d=n[e],v=n[s],g=n[h];if(ql(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*v],i[2*v+1],i[2*g],i[2*g+1])){n[e]=g,n[u]=f;const T=r[h];if(T===-1){let x=this._hullStart;do{if(this._hullTri[x]===h){this._hullTri[x]=e;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(e,T),this._link(u,r[a]),this._link(a,h);const w=c+(u+1)%3;o<he.length&&(he[o++]=w)}else{if(o===0)break;e=he[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,a){const u=this.trianglesLen;return this._triangles[u]=e,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,o),this._link(u+2,a),this.trianglesLen+=3,u}}function Xl(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function Je(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function tn(t,e,n,r,i,o){const a=(r-e)*(i-t),u=(n-t)*(o-e);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function de(t,e,n,r,i,o){return(tn(i,o,t,e,n,r)||tn(t,e,n,r,i,o)||tn(n,r,i,o,t,e))<0}function ql(t,e,n,r,i,o,a,u){const l=t-a,c=e-u,s=n-a,h=r-u,f=i-a,d=o-u,v=l*l+c*c,g=s*s+h*h,p=f*f+d*d;return l*(h*p-g*d)-c*(s*p-g*f)+v*(s*d-h*f)<0}function Zl(t,e,n,r,i,o){const a=n-t,u=r-e,l=i-t,c=o-e,s=a*a+u*u,h=l*l+c*c,f=.5/(a*c-u*l),d=(c*s-u*h)*f,v=(a*h-l*s)*f;return d*d+v*v}function Ql(t,e,n,r,i,o){const a=n-t,u=r-e,l=i-t,c=o-e,s=a*a+u*u,h=l*l+c*c,f=.5/(a*c-u*l),d=t+(c*s-u*h)*f,v=e+(a*h-l*s)*f;return{x:d,y:v}}function Ot(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=t[i],a=e[o];let u=i-1;for(;u>=n&&e[t[u]]>a;)t[u+1]=t[u--];t[u+1]=o}else{const i=n+r>>1;let o=n+1,a=r;re(t,i,o),e[t[n]]>e[t[r]]&&re(t,n,r),e[t[o]]>e[t[r]]&&re(t,o,r),e[t[n]]>e[t[o]]&&re(t,n,o);const u=t[o],l=e[u];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;re(t,o,a)}t[n+1]=t[a],t[a]=u,r-o+1>=a-n?(Ot(t,e,o,r),Ot(t,e,n,a-1)):(Ot(t,e,n,a-1),Ot(t,e,o,r))}}function re(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jl(t){return t[0]}function ts(t){return t[1]}const Rr=1e-6;class _t{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;const i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Rr||Math.abs(this._y1-o)>Rr)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class gn{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}let es=class{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let d=0,v=0,g=r.length,p,T;d<g;d+=3,v+=2){const w=r[d]*2,x=r[d+1]*2,D=r[d+2]*2,C=e[w],M=e[w+1],N=e[x],R=e[x+1],P=e[D],$=e[D+1],b=N-C,E=R-M,k=P-C,I=$-M,j=b*b+E*E,Y=k*k+I*I,S=(b*I-E*k)*2;if(!S)p=(C+P)/2-1e8*I,T=(M+$)/2+1e8*k;else if(Math.abs(S)<1e-8)p=(C+P)/2,T=(M+$)/2;else{const A=1/S;p=C+(I*j-E*Y)*A,T=M+(b*Y-k*j)*A}o[v]=p,o[v+1]=T}let a=n[n.length-1],u,l=a*4,c,s=e[2*a],h,f=e[2*a+1];i.fill(0);for(let d=0;d<n.length;++d)a=n[d],u=l,c=s,h=f,l=a*4,s=e[2*a],f=e[2*a+1],i[u+2]=i[l]=h-f,i[u+3]=i[l+1]=s-c}render(e){const n=e==null?e=new _t:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:u}=this;if(o.length<=1)return null;for(let s=0,h=r.length;s<h;++s){const f=r[s];if(f<s)continue;const d=Math.floor(s/3)*2,v=Math.floor(f/3)*2,g=a[d],p=a[d+1],T=a[v],w=a[v+1];this._renderSegment(g,p,T,w,e)}let l,c=o[o.length-1];for(let s=0;s<o.length;++s){l=c,c=o[s];const h=Math.floor(i[c]/3)*2,f=a[h],d=a[h+1],v=l*4,g=this._project(f,d,u[v+2],u[v+3]);g&&this._renderSegment(f,d,g[0],g[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new _t:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const r=n==null?n=new _t:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&n.lineTo(i[a],i[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){const n=new gn;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let a;const u=this._regioncode(e,n),l=this._regioncode(r,i);u===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(a=this._clipSegment(e,n,r,i,u,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){const n=this._clip(e);if(n)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){t:for(let o=0,a=n.length;o<a;o+=2)for(let u=0,l=i.length;u<l;u+=2)if(n[o]==i[u]&&n[o+1]==i[u+1]&&n[(o+2)%a]==i[(u+l-2)%l]&&n[(o+3)%a]==i[(u+l-1)%l]){yield r;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[e];if(a===-1)return null;const u=[];let l=a;do{const c=Math.floor(l/3);if(u.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==a&&l!==-1);return u}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:r}=this,i=e*4;return r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n)}_clipFinite(e,n){const r=n.length;let i=null,o,a,u=n[r-2],l=n[r-1],c,s=this._regioncode(u,l),h,f;for(let d=0;d<r;d+=2)if(o=u,a=l,u=n[d],l=n[d+1],c=s,s=this._regioncode(u,l),c===0&&s===0)h=f,f=0,i?i.push(u,l):i=[u,l];else{let v,g,p,T,w;if(c===0){if((v=this._clipSegment(o,a,u,l,c,s))===null)continue;[g,p,T,w]=v}else{if((v=this._clipSegment(u,l,o,a,s,c))===null)continue;[T,w,g,p]=v,h=f,f=this._edgecode(g,p),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(g,p):i=[g,p]}h=f,f=this._edgecode(T,w),h&&f&&this._edge(e,h,f,i,i.length),i?i.push(T,w):i=[T,w]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(e,h,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,a){for(;;){if(o===0&&a===0)return[e,n,r,i];if(o&a)return null;let u,l,c=o||a;c&8?(u=e+(r-e)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=e+(r-e)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-e)/(r-e),u=this.xmax):(l=n+(i-n)*(this.xmin-e)/(r-e),u=this.xmin),o?(e=u,n=l,o=this._regioncode(e,n)):(r=u,i=l,a=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,a){let u=Array.from(n),l;if((l=this._project(u[0],u[1],r,i))&&u.unshift(l[0],l[1]),(l=this._project(u[u.length-2],u[u.length-1],o,a))&&u.push(l[0],l[1]),u=this._clipFinite(e,u))for(let c=0,s=u.length,h,f=this._edgecode(u[s-2],u[s-1]);c<s;c+=2)h=f,f=this._edgecode(u[c],u[c+1]),h&&f&&(c=this._edge(e,h,f,u,c),s=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(e,n,r,i,o){for(;n!==r;){let a,u;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,u=this.ymin;break}(i[o]!==a||i[o+1]!==u)&&this.contains(e,a,u)&&(i.splice(o,0,a,u),o+=2)}if(i.length>4)for(let a=0;a<i.length;a+=2){const u=(a+2)%i.length,l=(a+4)%i.length;(i[a]===i[u]&&i[u]===i[l]||i[a+1]===i[u+1]&&i[u+1]===i[l+1])&&(i.splice(u,2),a-=2)}return o}_project(e,n,r,i){let o=1/0,a,u,l;if(i<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/i)<o&&(l=this.ymin,u=e+(o=a)*r)}else if(i>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/i)<o&&(l=this.ymax,u=e+(o=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<o&&(u=this.xmax,l=n+(o=a)*i)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<o&&(u=this.xmin,l=n+(o=a)*i)}return[u,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const ns=2*Math.PI,Lt=Math.pow;function rs(t){return t[0]}function is(t){return t[1]}function os(t){const{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){const i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}function as(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Fn{static from(e,n=rs,r=is,i){return new Fn("length"in e?us(e,n,r,i):Float64Array.from(ls(e,n,r,i)))}constructor(e){this._delaunator=new ke(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&os(e)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],s=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],h=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let f=0,d=n.length/2;f<d;++f){const v=as(n[2*f],n[2*f+1],h);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new ke(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const s=o[l%3===2?l-2:l+1];(r[l]===-1||a[s]===-1)&&(a[s]=l)}for(let l=0,c=i.length;l<c;++l)u[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],a[i[0]]=1,i.length===2&&(a[i[1]]=0))}voronoi(e){return new es(this,e)}*neighbors(e){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:u}=this;if(u){const h=u.indexOf(e);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const l=n[e];if(l===-1)return;let c=l,s=-1;do{if(yield s=a[c],c=c%3===2?c-2:c+1,a[c]!==e)return;if(c=o[c],c===-1){const h=r[(i[e]+1)%r.length];h!==s&&(yield h);return}}while(c!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:u,triangles:l,points:c}=this;if(i[e]===-1||!c.length)return(e+1)%(c.length>>1);let s=e,h=Lt(n-c[e*2],2)+Lt(r-c[e*2+1],2);const f=i[e];let d=f;do{let v=l[d];const g=Lt(n-c[v*2],2)+Lt(r-c[v*2+1],2);if(g<h&&(h=g,s=v),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=u[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==v&&Lt(n-c[d*2],2)+Lt(r-c[d*2+1],2)<h)return d;break}}while(d!==f);return s}render(e){const n=e==null?e=new _t:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,u=i.length;a<u;++a){const l=i[a];if(l<a)continue;const c=o[a]*2,s=o[l]*2;e.moveTo(r[c],r[c+1]),e.lineTo(r[s],r[s+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n=2){const r=e==null?e=new _t:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const u=i[o],l=i[o+1];e.moveTo(u+n,l),e.arc(u,l,n,0,ns)}return r&&r.value()}renderHull(e){const n=e==null?e=new _t:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;e.moveTo(i[o],i[o+1]);for(let u=1;u<a;++u){const l=2*r[u];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new gn;return this.renderHull(e),e.value()}renderTriangle(e,n){const r=n==null?n=new _t:void 0,{points:i,triangles:o}=this,a=o[e*=3]*2,u=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[a],i[a+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new gn;return this.renderTriangle(e,n),n.value()}}function us(t,e,n,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const u=t[a];o[a*2]=e.call(r,u,a,t),o[a*2+1]=n.call(r,u,a,t)}return o}function*ls(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}function ss(){var t=pt(),e=t.getOptions,n=t.focusedDatumState,r=t.isInteractingState,i=n[1],o=r[0],a=e(),u=a.onFocusDatum,l=a.onClickDatum,c=a.tooltip,s=a.primaryCursor,h=a.secondaryCursor,f=a.showVoronoi,d=a.interactionMode,v=y.useCallback(function(T){var w,x;(w=(x=e()).onFocusDatum)==null||w.call(x,T),i(T)},[e,i]),g=o&&(f||u||l||c||s||h);if(!g)return null;var p={handleFocus:v};return d==="closest"?y.createElement(hs,p):y.createElement(cs,p)}function cs(t){var e=t.handleFocus,n=pt(),r=n.primaryAxis,i=n.secondaryAxes,o=n.getOptions,a=n.gridDimensions,u=n.datumsByInteractionGroup,l=i.length===1&&i[0].stacked,c=i.every(function(s){return s.elementType==="bar"&&!s.stacked});return y.useMemo(function(){var s=Array.from(u.entries()).map(function(f){f[0];var d=f[1];return d}).filter(function(f){var d=f[0];if(d){var v=d.primaryValue;return v!=="undefined"&&v!==null}}).sort(function(f,d){var v=i.find(function(w){return w.id===f[0].secondaryAxisId}),g=i.find(function(w){return w.id===d[0].secondaryAxisId}),p=wt(f[0],r,v,c),T=wt(d[0],r,g,c);return p-T});r.isVertical&&s.reverse();var h=s.map(function(f,d,v){var g,p=f[0],T=v[d-1],w=v[d+1],x=i.find(function(E){return E.id===p.secondaryAxisId}),D=wt(p,r,x,c),C=(g=r==null?void 0:r.scale.range())!=null?g:[0,0],M=C[0],N=C[1];if(T){var R=i.find(function(E){return E.id===T[0].secondaryAxisId}),P=wt(T[0],r,R,c);M=D-(D-P)/2}if(w){var $=i.find(function(E){return E.id===w[0].secondaryAxisId}),b=wt(w[0],r,$,c);N=D+(b-D)/2}return{primaryStart:M,primaryEnd:N,primaryPx:D,datumBoundaries:f.filter(function(E){var k=E.secondaryValue;return typeof k<"u"&&k!==null}).map(function(E,k,I){var j,Y,S,A=I[k-1],F=I[k+1],O=i.find(function(dt){return dt.id===E.secondaryAxisId});if(l){var X,H,W,B=(X=O==null?void 0:O.scale.range())!=null?X:[0,0],q=[(H=E.stackData)==null?void 0:H[0],(W=E.stackData)==null?void 0:W[1]];O!=null&&O.isVertical&&(B.reverse(),q.reverse());var rt=B[0],ot=B[1];if(A){var z,_;rt=(z=O==null?void 0:O.scale((_=q[0])!=null?_:NaN))!=null?z:NaN}if(F){var U,L;ot=(U=O==null?void 0:O.scale((L=q[1])!=null?L:NaN))!=null?U:NaN}return{secondaryStart:rt,secondaryEnd:ot,datum:E}}var m=(j=O==null?void 0:O.scale(O.stacked?(Y=E.stackData)==null?void 0:Y[1]:E.secondaryValue))!=null?j:NaN,K=(S=O==null?void 0:O.scale.range())!=null?S:[0,0];O!=null&&O.isVertical&&K.reverse();var V=K[0],Q=K[1];if(A){var Z,et,st=i.find(function(dt){return dt.id===(A==null?void 0:A.secondaryAxisId)}),Ve=(Z=st==null?void 0:st.scale(st.stacked?(et=A.stackData)==null?void 0:et[1]:A.secondaryValue))!=null?Z:NaN;V=m-(m-Ve)/2}if(F){var le,se,Xt=i.find(function(dt){return dt.id===(F==null?void 0:F.secondaryAxisId)}),Ye=(le=Xt==null?void 0:Xt.scale(Xt.stacked?(se=F.stackData)==null?void 0:se[1]:F.secondaryValue))!=null?le:NaN;Q=m+(Ye-m)/2}return{secondaryStart:V,secondaryEnd:Q,datum:E}})}});return y.createElement("g",{onMouseLeave:function(){return e(null)},style:{transform:jt(a.left,a.top)}},h.map(function(f,d){return y.createElement("g",{key:f.primaryPx+"_"+d},f.datumBoundaries.map(function(v,g){var p=r.isVertical?v.secondaryStart:f.primaryStart,T=r.isVertical?v.secondaryEnd:f.primaryEnd,w=r.isVertical?f.primaryStart:v.secondaryStart,x=r.isVertical?f.primaryEnd:v.secondaryEnd,D=Math.min(p,T),C=Math.min(w,x),M=Math.max(p,T),N=Math.max(w,x),R=Math.max(N-C,0),P=Math.max(M-D,0);return y.createElement("rect",{key:g,x:D,y:C,width:P,height:R,className:"action-voronoi",onMouseEnter:function(){return e(v.datum)},style:{fill:o().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:o().dark?"white":"black",opacity:o().showVoronoi?1:0}})}))}))},[u,r,a.left,a.top,i,c,l,e,o])}var fs=Tn();function hs(t){var e=t.handleFocus,n=pt(),r=n.primaryAxis,i=n.series,o=n.secondaryAxes,a=n.getOptions,u=n.gridDimensions,l=null,c=[],s=o.every(function(d){return d.elementType==="bar"&&!d.stacked});i.forEach(function(d){d.datums.filter(function(v){var g=v.primaryValue,p=v.secondaryValue;return g!=="undefined"&&g!==null&&p!=="undefined"&&p!==null}).forEach(function(v){var g=o.find(function(w){return w.id===v.secondaryAxisId}),p=ds(v,r,g,s),T=ms(v,r,g,s);typeof p!="number"||typeof T!="number"||Number.isNaN(T)||Number.isNaN(p)||c.push({x:p,y:T,datum:v})})});var h=Fn.from(c,function(d){return Math.max(d.x,0)},function(d){return Math.max(d.y,0)}),f=h.voronoi([0,0,u.width,u.height]);return l=f.cellPolygons(),l=Array.from(l),y.createElement("g",{onMouseLeave:function(){return e(null)},style:{transform:jt(u.left,u.top)}},l.map(function(d,v){var g=d.index,p=c[g].datum,T=fs(d)||void 0;return y.createElement("path",{key:v,d:T,className:"action-voronoi",onMouseEnter:function(){return e(p)},style:{fill:a().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:a().dark?"white":"black",opacity:a().showVoronoi?1:0}})}))}function ds(t,e,n,r){return e.isVertical?$i(t,n):wt(t,e,n,r)}function ms(t,e,n,r){return e.isVertical?wt(t,e,n,r):$i(t,n)}function wt(t,e,n,r){var i,o=(i=e.scale(t.primaryValue))!=null?i:NaN;if(r&&n.elementType==="bar")if(n.stacked)o+=ei(t,e)/2;else{var a;o+=(a=e.seriesBandScale(t.seriesIndex))!=null?a:NaN,o+=bn(t,e,n)/2}return o}function $i(t,e){var n;if(e.stacked){var r,i,o;return(r=e.scale((i=(o=t.stackData)==null?void 0:o[1])!=null?i:NaN))!=null?r:NaN}return(n=e.scale(t.secondaryValue))!=null?n:NaN}var gs=["options","className","style"],vs=["#0f83ab","#faa43a","#fd6868","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"],ie=5;function ps(t){var e,n,r,i,o,a,u,l,c,s,h;return G({},t,{initialWidth:(e=t.initialWidth)!=null?e:300,initialHeight:(n=t.initialHeight)!=null?n:200,getSeriesOrder:(r=t.getSeriesOrder)!=null?r:function(f){return f},interactionMode:(i=t.interactionMode)!=null?i:"primary",showVoronoi:(o=t.showVoronoi)!=null?o:!1,defaultColors:(a=t.defaultColors)!=null?a:vs,useIntersectionObserver:(u=t.useIntersectionObserver)!=null?u:!1,intersectionObserverRootMargin:(l=t.intersectionObserverRootMargin)!=null?l:"1000px",primaryCursor:(c=t.primaryCursor)!=null?c:!0,secondaryCursor:(s=t.secondaryCursor)!=null?s:!0,padding:(h=t.padding)!=null?h:ie})}function _s(t){var e=t.options,n=t.className,r=t.style,i=r===void 0?{}:r,o=Br(t,gs),a=ps(e),u=y.useState(null),l=u[0],c=u[1],s=l==null?void 0:l.parentElement,h=y.useMemo(function(){var D=function C(M){if(!M)return null;var N=M.parentElement;if(!N)return null;if(N.scrollHeight>N.clientHeight){var R=window.getComputedStyle(N),P=R.overflow;if(P.includes("scroll")||P.includes("auto"))return N}return C(N)};return D(s)},[s]),f=y.useState({width:a.initialWidth,height:a.initialHeight}),d=f[0],v=d.width,g=d.height,p=f[1];ue(function(){if(s){var D=window.getComputedStyle(s);["relative","absolute","fixed"].includes(D.position)||(s.style.position="relative")}},[s]),y.useEffect(function(){if(s){var D=new ResizeObserver(function(){var C=s==null?void 0:s.getBoundingClientRect(),M=window.getComputedStyle(s);C&&p({width:C.width-parseInt(M.borderLeftWidth)-parseInt(M.borderRightWidth),height:C.height-parseInt(M.borderTopWidth)-parseInt(M.borderBottomWidth)})});return D.observe(s),function(){D.unobserve(s)}}},[s]);var T=y.useState(!0),w=T[0],x=T[1];return y.useEffect(function(){if(!(!s||!a.useIntersectionObserver)){var D=new IntersectionObserver(function(C){for(var M=jo(C),N;!(N=M()).done;){var R=N.value;R.isIntersecting?x(!0):x(!1)}},{root:h,rootMargin:a.intersectionObserverRootMargin});return D.observe(s),function(){D.unobserve(s)}}},[s,h,a.intersectionObserverRootMargin,a.useIntersectionObserver]),y.createElement("div",G({ref:c},o,{className:"ReactChart "+(n||""),style:G({fontFamily:"sans-serif"},i,{position:"absolute",width:v,height:g})}),a.useIntersectionObserver&&!w?null:y.createElement(ys,{options:a,width:v,height:g}))}function ys(t){var e,n,r=t.options,i=t.width,o=t.height;if(!r.primaryAxis)throw new Error("A primaryAxis is required");if(!r.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var a=y.useMemo(function(){var S=Or(r.primaryAxis,r.data),A=Vr(r.primaryAxis,S);return G({position:"bottom"},A)},[r.data,r.primaryAxis]),u=y.useMemo(function(){return r.secondaryAxes.map(function(S,A){var F=Or(S,r.data),O=Vr(S,F);return O.elementType||(a.scaleType==="band"?O.elementType="bar":O.stacked&&(O.elementType="area")),typeof O.stacked>"u"&&O.elementType&&["area"].includes(O.elementType)&&(O.stacked=!0),G({position:A?"right":"left"},O)})},[r.data,r.secondaryAxes,a]),l=y.useMemo(function(){var S,A,F=Kl((S=r)==null?void 0:S.tooltip);return F.groupingMode=(A=F.groupingMode)!=null?A:function(){return r.interactionMode==="closest"?"single":"primary"}(),F},[r.interactionMode,(e=r)==null?void 0:e.tooltip]);r=G({},r,{tooltip:l});var c=y.useRef(null),s=ye(G({},r,{tooltip:l})),h=y.useState({left:{},right:{},top:{},bottom:{}}),f=h[0],d=y.useState(!1),v=d[0],g=y.useState(null),p=g[0],T=y.useMemo(function(){var S,A,F,O,X={left:typeof r.padding=="object"?(S=r.padding.left)!=null?S:ie:r.padding,right:typeof r.padding=="object"?(A=r.padding.right)!=null?A:ie:r.padding,bottom:typeof r.padding=="object"?(F=r.padding.bottom)!=null?F:ie:r.padding,top:typeof r.padding=="object"?(O=r.padding.top)!=null?O:ie:r.padding},H=X.left+Math.max(ct(Object.values(f.left),function(z){return z.width}),ct(Object.values(f.top),function(z){return z.paddingLeft}),ct(Object.values(f.bottom),function(z){return z.paddingLeft})),W=X.top+Math.max(ct(Object.values(f.top),function(z){return z.height}),ct(Object.values(f.left),function(z){return z.paddingTop}),ct(Object.values(f.right),function(z){return z.paddingTop})),B=X.right+Math.max(ct(Object.values(f.right),function(z){return z.width}),ct(Object.values(f.top),function(z){return z.paddingRight}),ct(Object.values(f.bottom),function(z){return z.paddingRight})),q=X.bottom+Math.max(ct(Object.values(f.bottom),function(z){return z.height}),ct(Object.values(f.left),function(z){return z.paddingBottom}),ct(Object.values(f.right),function(z){return z.paddingBottom})),rt=Math.max(0,i-H-B),ot=Math.max(0,o-W-q);return{left:H,top:W,right:B,bottom:q,width:rt,height:ot}},[r.padding,f.left,f.top,f.bottom,f.right,i,o]),w=y.useMemo(function(){for(var S=[],A={},F=0;F<r.data.length;F++){var O,X,H,W=r.data[F],B=(O=W.id)!=null?O:F+"",q=(X=W.label)!=null?X:"Series "+(F+1),rt=W.secondaryAxisId,ot=W.data,z=[];A[""+rt]=(H=A[""+rt])!=null?H:0;var _=A[""+rt];A[""+rt]++;for(var U=0;U<ot.length;U++){var L=ot[U];z[U]={originalSeries:W,seriesIndex:F,seriesIndexPerAxis:_,seriesId:B,seriesLabel:q,secondaryAxisId:rt,index:U,originalDatum:L}}S[F]={originalSeries:W,index:F,id:B,label:q,indexPerAxis:_,secondaryAxisId:rt,datums:z}}return S},[r.data]),x=y.useMemo(function(){return w.map(function(S){return S.datums}).flat(2)},[w]),D=y.useMemo(function(){return Er(!0,a,w,x,T,i,o)},[x,T,o,a,w,i]),C=y.useMemo(function(){return u.map(function(S){return Er(!1,S,w,x,T,i,o)})},[x,T,o,u,w,i]),M=y.useMemo(function(){if(!v)return[new Map,new Map];var S=new Map,A=new Map,F=C.every(function(W){return W.elementType==="bar"&&!W.stacked}),O=function(B){if(F){var q=C.find(function(rt){return rt.id===B.secondaryAxisId});if(q.elementType==="bar"&&!q.stacked)return wn(B,D,q)}return B.primaryValue},X=function(B){return""+O(B)},H=function(B){return""+B.primaryValue};return r.interactionMode==="closest"&&(X=function(B){return O(B)+"_"+B.secondaryValue}),l.groupingMode==="single"?H=function(B){return B.primaryValue+"_"+B.secondaryValue}:l.groupingMode==="secondary"?H=function(B){return""+B.secondaryValue}:l.groupingMode==="series"&&(H=function(B){return""+B.seriesIndex}),x.forEach(function(W){var B=X(W),q=H(W);S.has(B)||S.set(B,[]),A.has(q)||A.set(q,[]),S.get(B).push(W),A.get(q).push(W)}),S.forEach(function(W,B){S.set(B,Yr(W,C))}),A.forEach(function(W,B){A.set(B,Yr(W,C))}),x.forEach(function(W){var B=X(W),q=H(W);W.interactiveGroup=S.get(B),W.tooltipGroup=A.get(q)}),[S,A]},[v,x,r.interactionMode,D,C,l.groupingMode]),N=M[0],R=M[1],P=y.useCallback(function(S,A){var F,O,X,H={color:s().defaultColors[S.index%s().defaultColors.length]},W=la(S,A),B=(F=(O=(X=s()).getSeriesStyle)==null?void 0:O.call(X,S,W))!=null?F:{};return S.style=ln(B,H),S.style},[s]),$=y.useCallback(function(S,A){var F,O,X,H,W=G({},(F=w[S.seriesIndex])==null?void 0:F.style,{color:s().defaultColors[S.seriesIndex%s().defaultColors.length]}),B=sa(S,A),q=(O=(X=(H=s()).getDatumStyle)==null?void 0:X.call(H,S,B))!=null?O:{};return S.style=ln(q,W),S.style},[s,w]),b=y.useMemo(function(){var S=[].concat(w).reverse();return s().getSeriesOrder(S)},[s,w]);ue(function(){c.current&&c.current.parentElement&&!c.current.parentElement.style.position&&(c.current.parentElement.style.position="relative")});var E={getOptions:s,gridDimensions:T,primaryAxis:D,secondaryAxes:C,series:w,orderedSeries:b,datumsByInteractionGroup:N,datumsByTooltipGroup:R,width:i,height:o,getSeriesStatusStyle:P,getDatumStatusStyle:$,axisDimensionsState:h,focusedDatumState:g,svgRef:c,isInteractingState:d},k=y.useMemo(function(){return oa(na(b,function(S){return S.secondaryAxisId}),function(S){var A=S[0];return C.findIndex(function(F){return F.id===A})})},[b,C]),I=function(){return{primaryAxis:D,secondaryAxes:C,seriesByAxisId:k}},j=y.useCallback(function(){return{primaryAxis:D,secondaryAxes:C,seriesByAxisId:k}},[D,C,k]);r.memoizeSeries&&(I=j);var Y=y.useMemo(function(){var S=I(),A=S.primaryAxis,F=S.secondaryAxes,O=S.seriesByAxisId;return O.map(function(X){var H=X[0],W=X[1],B=F.find(function(ot){return ot.id===H});if(!B)return null;var q=B.elementType,rt=function(){if(q==="line"||q==="bubble"||q==="area")return _a;if(q==="bar")return ha;throw new Error("Invalid elementType")}();return A.isInvalid||B.isInvalid?null:y.createElement(rt,{key:H??"__default__",primaryAxis:A,secondaryAxis:B,series:W})})},[I]);return y.createElement(fa,{value:ye(E)},y.createElement("div",null,y.createElement("svg",{ref:c,style:{width:i,height:o,overflow:r.brush?"hidden":"visible"},onClick:function(A){return r.onClickDatum==null?void 0:r.onClickDatum(p,A)},onMouseEnter:function(){d[1](!0)},onMouseLeave:function(){d[1](!1)}},y.createElement("g",{className:"axes"},[D].concat(C).map(function(S){return y.createElement(Nl,G({key:[S.position,S.id].join("")},S))})),y.createElement("g",{className:"Series",style:{pointerEvents:"none"}},Y),y.createElement(ss,null),(n=r.renderSVG==null?void 0:r.renderSVG())!=null?n:null),y.createElement(Ol,null),y.createElement(Gl,null)))}function Or(t,e){var n;return e.some(function(r){return r.data.some(function(i){var o=t.getValue(i);if(o!==null&&typeof o<"u")return n=o,!0})}),n}function Vr(t,e){var n=t.scaleType;if(!t.scaleType)if(typeof e=="number")n="linear";else if(typeof(e==null?void 0:e.getMonth)=="function")n="time";else if(typeof e=="string"||typeof e=="boolean")n="band";else throw new Error("Invalid scale type: Unable to infer type from data");return G({},t,{scaleType:n})}function Yr(t,e){if(e.every(function(r){return r.stacked})){var n=e.some(function(r){return r.invert})&&e.some(function(r){return!r.invert});if(!n)return t}return[].concat(t).sort(function(r,i){var o,a,u,l,c=e.find(function(d){return d.id===r.secondaryAxisId}),s=e.find(function(d){return d.id===i.secondaryAxisId}),h=(o=c==null?void 0:c.scale(c.stacked?(a=r.stackData)==null?void 0:a[1]:r.secondaryValue))!=null?o:NaN,f=(u=s==null?void 0:s.scale(s.stacked?(l=i.stackData)==null?void 0:l[1]:i.secondaryValue))!=null?u:NaN;return h>f?1:h<f?-1:0})}export{_s as C};
