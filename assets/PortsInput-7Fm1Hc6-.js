import{R as P,r as o,j as t}from"./index-Z48k0RZH.js";import{a as p,L as b,b as j,I as y,D as I,B as k,A as C,T as h,F as f,c as L,S as R,P as S,M as x,d as A}from"./App-XcBPpDfQ.js";const g=P.forwardRef(({value:s,onChange:l,defaultRange:a,disableAnyProtocol:c},u)=>{const e=o.useCallback((r,n)=>l(p(s||[],{[r]:{$set:n}})),[l,s]),i=o.useCallback(()=>l(p(s||[],{$push:[a||{}]})),[a,l,s]),d=o.useCallback(r=>l(p(s||[],{$splice:[[r,1]]})),[l,s]);return t.jsxs(b,{gap:1,children:[s==null?void 0:s.map((r,n)=>t.jsxs(j,{gap:2,style:{alignItems:"center"},children:[t.jsx(z,{range:r,onChange:m=>e(n,m),disableAnyProtocol:c}),t.jsx("div",{children:t.jsx(y,{size:"small",onClick:()=>d(n),children:t.jsx(I,{fontSize:"small"})})})]},n)),t.jsx("div",{children:t.jsx(k,{startIcon:t.jsx(C,{fontSize:"small",color:"action"}),size:"small",variant:"text",onClick:i,children:"Add Port Range"})})]})});function z({range:s,disableAnyProtocol:l,onChange:a}){const c=o.useCallback((e,i)=>{let d=e.target.value===""?"":+e.target.value;a({...s,[i]:d||""})},[a,s]),u=o.useCallback(e=>{a({...s,protocol:e.target.value||void 0})},[a,s]);return t.jsxs(j,{gap:2,style:{alignItems:"center"},children:[t.jsx(h,{label:"Start Port",placeholder:"1-65535",InputLabelProps:{shrink:!0},inputProps:{type:"number"},value:s.start||"",onChange:e=>c(e,"start")}),t.jsx(h,{label:"End Port",placeholder:"1-65535",InputLabelProps:{shrink:!0},inputProps:{type:"number"},value:s.end||"",onChange:e=>c(e,"end")}),t.jsxs(f,{children:[t.jsx(L,{shrink:!0,children:"Protocol"}),t.jsxs(R,{value:s.protocol||"",onChange:u,style:{minWidth:120},displayEmpty:!0,children:[!l&&t.jsx(x,{value:"",children:t.jsx(A,{color:"textSecondary",children:"Any"})}),S.map(e=>t.jsx(x,{value:e,children:e},e))]})]})]})}export{g as P};
