import{ac as Ei,R as y,K as G,r as $t,b5 as Pr,b6 as Br}from"./index-Ba6YVotX.js";import{r as Pn,c as Bn}from"./color-9lF95FHy.js";import{jn as Ai}from"./App-CM6DQiPl.js";const Pt=new Date,Bt=new Date;function pe(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const l=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;let c;do l.push(c=new Date(+a)),t(a,u),e(a);while(c<a&&a<o);return l},i.filter=a=>pe(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Pt.setTime(+a),Bt.setTime(+o),e(Pt),e(Bt),Math.floor(n(Pt,Bt))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ni=1e3,pn=Ni*60,Ui=pn*60,ot=Ui*24,Wr=ot*7,vn=pe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/ot,e=>e.getDate()-1);vn.range;const yn=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ot,e=>e.getUTCDate()-1);yn.range;const Fi=pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ot,e=>Math.floor(e/ot));Fi.range;function De(e){return pe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pn)/Wr)}const Hr=De(0),mt=De(1),Li=De(2),Ii=De(3),Ye=De(4),Ri=De(5),Oi=De(6);Hr.range;mt.range;Li.range;Ii.range;Ye.range;Ri.range;Oi.range;function ke(e){return pe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Wr)}const jr=ke(0),gt=ke(1),Vi=ke(2),Yi=ke(3),Pe=ke(4),Pi=ke(5),Bi=ke(6);jr.range;gt.range;Vi.range;Yi.range;Pe.range;Pi.range;Bi.range;const Se=pe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Se.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Se.range;const Te=pe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Te.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Te.range;function Wt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ht(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Wi(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,c=Ze(i),s=Qe(i),h=Ze(a),f=Qe(a),d=Ze(o),p=Qe(o),g=Ze(u),v=Qe(u),T=Ze(l),w=Qe(l),x={a:S,A,b:F,B:O,c:null,d:Gn,e:Gn,f:ha,g:wa,G:Sa,H:sa,I:ca,j:fa,L:zr,m:da,M:ma,p:X,q:H,Q:Zn,s:Qn,S:ga,u:pa,U:va,V:ya,w:xa,W:Ma,x:null,X:null,y:ba,Y:_a,Z:Ta,"%":qn},D={a:W,A:B,b:q,B:re,c:null,d:Xn,e:Xn,f:$a,g:Va,G:Pa,H:Ca,I:Da,j:ka,L:Gr,m:Ea,M:Aa,p:ae,q:z,Q:Zn,s:Qn,S:Na,u:Ua,U:Fa,V:La,w:Ia,W:Ra,x:null,X:null,y:Oa,Y:Ya,Z:Ba,"%":qn},C={a:$,A:b,b:E,B:k,c:I,d:zn,e:zn,f:aa,g:jn,G:Hn,H:Kn,I:Kn,j:ta,L:ia,m:ea,M:na,p:P,q:Ji,Q:ua,s:la,S:ra,u:Gi,U:Xi,V:qi,w:Ki,W:Zi,x:j,X:Y,y:jn,Y:Hn,Z:Qi,"%":oa};x.x=M(n,x),x.X=M(r,x),x.c=M(t,x),D.x=M(n,D),D.X=M(r,D),D.c=M(t,D);function M(_,U){return function(L){var m=[],K=-1,V=0,Q=_.length,Z,te,se;for(L instanceof Date||(L=new Date(+L));++K<Q;)_.charCodeAt(K)===37&&(m.push(_.slice(V,K)),(te=Wn[Z=_.charAt(++K)])!=null?Z=_.charAt(++K):te=Z==="e"?" ":"0",(se=U[Z])&&(Z=se(L,te)),m.push(Z),V=K+1);return m.push(_.slice(V,K)),m.join("")}}function N(_,U){return function(L){var m=qe(1900,void 0,1),K=R(m,_,L+="",0),V,Q;if(K!=L.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(U&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(V=Ht(qe(m.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?gt.ceil(V):gt(V),V=yn.offset(V,(m.V-1)*7),m.y=V.getUTCFullYear(),m.m=V.getUTCMonth(),m.d=V.getUTCDate()+(m.w+6)%7):(V=Wt(qe(m.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?mt.ceil(V):mt(V),V=vn.offset(V,(m.V-1)*7),m.y=V.getFullYear(),m.m=V.getMonth(),m.d=V.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),Q="Z"in m?Ht(qe(m.y,0,1)).getUTCDay():Wt(qe(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(Q+5)%7:m.w+m.U*7-(Q+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,Ht(m)):Wt(m)}}function R(_,U,L,m){for(var K=0,V=U.length,Q=L.length,Z,te;K<V;){if(m>=Q)return-1;if(Z=U.charCodeAt(K++),Z===37){if(Z=U.charAt(K++),te=C[Z in Wn?U.charAt(K++):Z],!te||(m=te(_,L,m))<0)return-1}else if(Z!=L.charCodeAt(m++))return-1}return m}function P(_,U,L){var m=c.exec(U.slice(L));return m?(_.p=s.get(m[0].toLowerCase()),L+m[0].length):-1}function $(_,U,L){var m=d.exec(U.slice(L));return m?(_.w=p.get(m[0].toLowerCase()),L+m[0].length):-1}function b(_,U,L){var m=h.exec(U.slice(L));return m?(_.w=f.get(m[0].toLowerCase()),L+m[0].length):-1}function E(_,U,L){var m=T.exec(U.slice(L));return m?(_.m=w.get(m[0].toLowerCase()),L+m[0].length):-1}function k(_,U,L){var m=g.exec(U.slice(L));return m?(_.m=v.get(m[0].toLowerCase()),L+m[0].length):-1}function I(_,U,L){return R(_,t,U,L)}function j(_,U,L){return R(_,n,U,L)}function Y(_,U,L){return R(_,r,U,L)}function S(_){return o[_.getDay()]}function A(_){return a[_.getDay()]}function F(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function X(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return o[_.getUTCDay()]}function B(_){return a[_.getUTCDay()]}function q(_){return l[_.getUTCMonth()]}function re(_){return u[_.getUTCMonth()]}function ae(_){return i[+(_.getUTCHours()>=12)]}function z(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=M(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=N(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=M(_+="",D);return U.toString=function(){return _},U},utcParse:function(_){var U=N(_+="",!0);return U.toString=function(){return _},U}}}var Wn={"-":"",_:" ",0:"0"},oe=/^\s*\d+/,Hi=/^%/,ji=/[\\^$*+?|[\]().{}]/g;function J(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function zi(e){return e.replace(ji,"\\$&")}function Ze(e){return new RegExp("^(?:"+e.map(zi).join("|")+")","i")}function Qe(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ki(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gi(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Xi(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qi(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Zi(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Hn(e,t,n){var r=oe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function jn(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qi(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ji(e,t,n){var r=oe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ea(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zn(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ta(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kn(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function na(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ra(e,t,n){var r=oe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ia(e,t,n){var r=oe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function aa(e,t,n){var r=oe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oa(e,t,n){var r=Hi.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ua(e,t,n){var r=oe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function la(e,t,n){var r=oe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Gn(e,t){return J(e.getDate(),t,2)}function sa(e,t){return J(e.getHours(),t,2)}function ca(e,t){return J(e.getHours()%12||12,t,2)}function fa(e,t){return J(1+vn.count(Se(e),e),t,3)}function zr(e,t){return J(e.getMilliseconds(),t,3)}function ha(e,t){return zr(e,t)+"000"}function da(e,t){return J(e.getMonth()+1,t,2)}function ma(e,t){return J(e.getMinutes(),t,2)}function ga(e,t){return J(e.getSeconds(),t,2)}function pa(e){var t=e.getDay();return t===0?7:t}function va(e,t){return J(Hr.count(Se(e)-1,e),t,2)}function Kr(e){var t=e.getDay();return t>=4||t===0?Ye(e):Ye.ceil(e)}function ya(e,t){return e=Kr(e),J(Ye.count(Se(e),e)+(Se(e).getDay()===4),t,2)}function xa(e){return e.getDay()}function Ma(e,t){return J(mt.count(Se(e)-1,e),t,2)}function ba(e,t){return J(e.getFullYear()%100,t,2)}function wa(e,t){return e=Kr(e),J(e.getFullYear()%100,t,2)}function _a(e,t){return J(e.getFullYear()%1e4,t,4)}function Sa(e,t){var n=e.getDay();return e=n>=4||n===0?Ye(e):Ye.ceil(e),J(e.getFullYear()%1e4,t,4)}function Ta(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+J(t/60|0,"0",2)+J(t%60,"0",2)}function Xn(e,t){return J(e.getUTCDate(),t,2)}function Ca(e,t){return J(e.getUTCHours(),t,2)}function Da(e,t){return J(e.getUTCHours()%12||12,t,2)}function ka(e,t){return J(1+yn.count(Te(e),e),t,3)}function Gr(e,t){return J(e.getUTCMilliseconds(),t,3)}function $a(e,t){return Gr(e,t)+"000"}function Ea(e,t){return J(e.getUTCMonth()+1,t,2)}function Aa(e,t){return J(e.getUTCMinutes(),t,2)}function Na(e,t){return J(e.getUTCSeconds(),t,2)}function Ua(e){var t=e.getUTCDay();return t===0?7:t}function Fa(e,t){return J(jr.count(Te(e)-1,e),t,2)}function Xr(e){var t=e.getUTCDay();return t>=4||t===0?Pe(e):Pe.ceil(e)}function La(e,t){return e=Xr(e),J(Pe.count(Te(e),e)+(Te(e).getUTCDay()===4),t,2)}function Ia(e){return e.getUTCDay()}function Ra(e,t){return J(gt.count(Te(e)-1,e),t,2)}function Oa(e,t){return J(e.getUTCFullYear()%100,t,2)}function Va(e,t){return e=Xr(e),J(e.getUTCFullYear()%100,t,2)}function Ya(e,t){return J(e.getUTCFullYear()%1e4,t,4)}function Pa(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pe(e):Pe.ceil(e),J(e.getUTCFullYear()%1e4,t,4)}function Ba(){return"+0000"}function qn(){return"%"}function Zn(e){return+e}function Qn(e){return Math.floor(+e/1e3)}var Ne,qr,Zr;Wa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wa(e){return Ne=Wi(e),qr=Ne.format,Ne.parse,Zr=Ne.utcFormat,Ne.utcParse,Ne}function Ha(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ei(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xn(e){let t=e,n=e;e.length===1&&(t=(o,u)=>e(o)-u,n=ja(e));function r(o,u,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const s=l+c>>>1;n(o[s],u)<0?l=s+1:c=s}return l}function i(o,u,l,c){for(l==null&&(l=0),c==null&&(c=o.length);l<c;){const s=l+c>>>1;n(o[s],u)>0?c=s:l=s+1}return l}function a(o,u,l,c){l==null&&(l=0),c==null&&(c=o.length);const s=r(o,u,l,c-1);return s>l&&t(o[s-1],u)>-t(o[s],u)?s-1:s}return{left:r,center:a,right:i}}function ja(e){return(t,n)=>Ve(e(t),n)}function za(e){return e===null?NaN:+e}function*Ka(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Ga=xn(Ve),Xa=Ga.right;xn(za).center;function tn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class qa extends Map{constructor(t,n=Ja){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Jn(this,t))}has(t){return super.has(Jn(this,t))}set(t,n){return super.set(Za(this,t),n)}delete(t){return super.delete(Qa(this,t))}}function Jn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Za({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qa({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function Ja(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eo(e){return e}function to(e,...t){return no(e,Array.from,eo,t)}function no(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new qa,l=r[o++];let c=-1;for(const s of a){const h=l(s,++c,a),f=u.get(h);f?f.push(s):u.set(h,[s])}for(const[s,h]of u)u.set(s,i(h,o));return t(u)}(e,0)}function ro(e,t){return Array.from(t,n=>e[n])}function io(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n=Ve]=t;if(n.length===1||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const u=Ve(o[i],o[a]);if(u)return u}})):(n=e.map(n),r.sort((i,a)=>Ve(n[i],n[a]))),ro(e,r)}return e.sort(n)}var nn=Math.sqrt(50),rn=Math.sqrt(10),an=Math.sqrt(2);function on(e,t,n){var r,i=-1,a,o,u;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(u=Qr(e,t,n))===0||!isFinite(u))return[];if(u>0){let l=Math.round(e/u),c=Math.round(t/u);for(l*u<e&&++l,c*u>t&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)*u}else{u=-u;let l=Math.round(e*u),c=Math.round(t*u);for(l/u<e&&++l,c/u>t&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)/u}return r&&o.reverse(),o}function Qr(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=nn?10:a>=rn?5:a>=an?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=nn?10:a>=rn?5:a>=an?2:1)}function un(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=nn?i*=10:a>=rn?i*=5:a>=an&&(i*=2),t<e?-i:i}function pt(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vt(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Jr(e,t,n=0,r=e.length-1,i=Ve){for(;r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,s=Math.log(l),h=.5*Math.exp(2*s/3),f=.5*Math.sqrt(s*h*(l-h)/l)*(c-l/2<0?-1:1),d=Math.max(n,Math.floor(t-c*h/l+f)),p=Math.min(r,Math.floor(t+(l-c)*h/l+f));Jr(e,t,d,p,i)}const a=e[t];let o=n,u=r;for(Je(e,n,t),i(e[r],a)>0&&Je(e,n,r);o<u;){for(Je(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Je(e,n,u):(++u,Je(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Je(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ao(e,t,n){if(e=Float64Array.from(Ka(e)),!!(r=e.length)){if((t=+t)<=0||r<2)return vt(e);if(t>=1)return pt(e);var r,i=(r-1)*t,a=Math.floor(i),o=pt(Jr(e,a).subarray(0,a+1)),u=vt(e.subarray(a+1));return o+(u-o)*(i-a)}}function oo(e,t){return ao(e,.5)}function Mn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ce(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function yt(e){var t=y.useRef(e),n=y.useRef();return t.current=e,n.current||(n.current=function(){return t.current}),n.current}const ut=typeof window<"u"?y.useLayoutEffect:y.useEffect;function uo(e,t){return(t==null?void 0:t.seriesId)===e.id?"focused":"none"}function lo(e,t){var n;return e===t?"focused":(n=e.tooltipGroup)!=null&&n.some(function(r){r.seriesId===(t==null?void 0:t.seriesId)&&(r.index,t==null||t.index)})?"groupFocused":"none"}var er=["area","line","rectangle","circle"];function ln(e,t){e===void 0&&(e={}),t===void 0&&(t={}),e=so(e,t);for(var n=0;n<er.length;n++){var r=er[n];e[r]&&t[r]&&(e[r]=ln(e[r],t))}return e}function je(e,t){return"translate3d("+Math.round(e)+"px, "+Math.round(t)+"px, 0)"}function so(e,t){return G({},e,{stroke:e.stroke||e.color||t.stroke||t.color,fill:e.fill||e.color||t.fill||t.color})}function tr(e){return typeof e=="number"&&!Number.isNaN(e)}var ei=$t.createContext(null);function co(e){var t=e.value,n=e.children;return $t.createElement(ei.Provider,{value:t,children:n})}function ve(){return $t.useContext(ei)()}function fo(e){var t=e.primaryAxis,n=e.secondaryAxis,r=e.series,i=ve(),a=i.getSeriesStatusStyle,o=i.getDatumStatusStyle,u=i.focusedDatumState,l=i.gridDimensions,c=u[0],s=t.isVertical?n:t,h=t.isVertical?t:n;return y.createElement("g",{style:{transform:je(l.left,l.top)}},r.map(function(f,d){var p=a(f,c);return y.createElement("g",{key:"lines-"+d},f.datums.map(function(g,v){var T,w,x,D,C=o(g,c),M=nr((T=go(g,t,n))!=null?T:NaN,(w=ho(g,t,n))!=null?w:NaN,s),N=M[0],R=M[1],P=nr((x=po(g,t,n))!=null?x:NaN,(D=mo(g,t,n))!=null?D:NaN,h),$=P[0],b=P[1];return y.createElement("rect",{ref:function(k){g.element=k},key:v,x:N,y:$,width:R,height:b,style:G({strokeWidth:0},p,p.rectangle,C,C.rectangle)})}))}))}function ho(e,t,n){return t.isVertical?ni(e,n):bn(e,t,n)}function mo(e,t,n){return t.isVertical?bn(e,t,n):ni(e,n)}function ti(e,t){return Math.max(t.primaryBandScale.bandwidth(),1)}function bn(e,t,n){if(t.axisFamily==="band"){var r,i,a=n.stacked?t.scale.bandwidth():t.seriesBandScale.bandwidth();return Math.min(Math.max(a,(r=t.minBandSize)!=null?r:1),(i=t.maxBandSize)!=null?i:99999999)}return Math.max(n.stacked?t.primaryBandScale.bandwidth():t.seriesBandScale.bandwidth(),1)}function ni(e,t){var n=[ri(e,t),ii(e,t)];return Math.abs(n[1]-n[0])}function go(e,t,n){return t.isVertical?ri(e,n):wn(e,t,n)}function po(e,t,n){return t.isVertical?wn(e,t,n):ii(e,n)}function wn(e,t,n){var r,i=(r=t.scale(e.primaryValue))!=null?r:NaN;if(t.axisFamily!=="band"&&(i-=ti(e,t)/2),!n.stacked){var a;i=i+((a=t.seriesBandScale(e.seriesIndex))!=null?a:NaN)}return i}function ri(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?e.secondaryValue:0))!=null?n:NaN}function ii(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue<0?0:e.secondaryValue))!=null?n:NaN}function nr(e,t,n){var r=n.scale.range();n.isVertical&&r.reverse();var i=function(c){return Math.max(r[0],Math.min(c,r[1]))},a=i(e),o=i(e+t),u=o-a;return[a,u]}const sn=Math.PI,cn=2*sn,be=1e-6,vo=cn-be;function fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _n(){return new fn}fn.prototype=_n.prototype={constructor:fn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,l=r-t,c=a-e,s=o-t,h=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>be)if(!(Math.abs(s*u-l*c)>be)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-a,d=r-o,p=u*u+l*l,g=f*f+d*d,v=Math.sqrt(p),T=Math.sqrt(h),w=i*Math.tan((sn-Math.acos((p+h-g)/(2*v*T)))/2),x=w/T,D=w/v;Math.abs(x-1)>be&&(this._+="L"+(e+x*c)+","+(t+x*s)),this._+="A"+i+","+i+",0,0,"+ +(s*f>c*d)+","+(this._x1=e+D*u)+","+(this._y1=t+D*l)}},arc:function(e,t,n,r,i,a){e=+e,t=+t,n=+n,a=!!a;var o=n*Math.cos(r),u=n*Math.sin(r),l=e+o,c=t+u,s=1^a,h=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>be||Math.abs(this._y1-c)>be)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%cn+cn),h>vo?this._+="A"+n+","+n+",0,1,"+s+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=l)+","+(this._y1=c):h>be&&(this._+="A"+n+","+n+",0,"+ +(h>=sn)+","+s+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function ie(e){return function(){return e}}function Sn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ai(e){this._context=e}ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oi(e){return new ai(e)}function ui(e){return e[0]}function li(e){return e[1]}function Tn(e,t){var n=ie(!0),r=null,i=oi,a=null;e=typeof e=="function"?e:e===void 0?ui:ie(e),t=typeof t=="function"?t:t===void 0?li:ie(t);function o(u){var l,c=(u=Sn(u)).length,s,h=!1,f;for(r==null&&(a=i(f=_n())),l=0;l<=c;++l)!(l<c&&n(s=u[l],l,u))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(s,l,u),+t(s,l,u));if(f)return a=null,f+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:ie(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:ie(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ie(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function yo(e,t,n){var r=null,i=ie(!0),a=null,o=oi,u=null;e=typeof e=="function"?e:e===void 0?ui:ie(+e),t=typeof t=="function"?t:ie(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?li:ie(+n);function l(s){var h,f,d,p=(s=Sn(s)).length,g,v=!1,T,w=new Array(p),x=new Array(p);for(a==null&&(u=o(T=_n())),h=0;h<=p;++h){if(!(h<p&&i(g=s[h],h,s))===v)if(v=!v)f=h,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),d=h-1;d>=f;--d)u.point(w[d],x[d]);u.lineEnd(),u.areaEnd()}v&&(w[h]=+e(g,h,s),x[h]=+t(g,h,s),u.point(r?+r(g,h,s):w[h],n?+n(g,h,s):x[h]))}if(T)return u=null,T+""||null}function c(){return Tn().defined(i).curve(o).context(a)}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:ie(+s),r=null,l):e},l.x0=function(s){return arguments.length?(e=typeof s=="function"?s:ie(+s),l):e},l.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:ie(+s),l):r},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:ie(+s),n=null,l):t},l.y0=function(s){return arguments.length?(t=typeof s=="function"?s:ie(+s),l):t},l.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:ie(+s),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(s){return arguments.length?(i=typeof s=="function"?s:ie(!!s),l):i},l.curve=function(s){return arguments.length?(o=s,a!=null&&(u=o(a)),l):o},l.context=function(s){return arguments.length?(s==null?a=u=null:u=o(a=s),l):a},l}function hn(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,u=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xo(e,t){return e[t]}function Mo(e){const t=[];return t.key=e,t}function bo(){var e=ie([]),t=rr,n=hn,r=xo;function i(a){var o=Array.from(e.apply(this,arguments),Mo),u,l=o.length,c=-1,s;for(const h of a)for(u=0,++c;u<l;++u)(o[u][c]=[0,+r(h,o[u].key,c,a)]).data=h;for(u=0,s=Sn(t(o));u<l;++u)o[s[u]].index=u;return n(o,s),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ie(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ie(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?rr:typeof a=="function"?a:ie(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??hn,i):n},i}function ir(e){return e<0?-1:1}function ar(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(ir(a)+ir(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function or(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jt(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function xt(e){this._context=e}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jt(this,this._t0,or(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,jt(this,or(this,r=ar(this,t,n)),r);break;default:jt(this,this._t0,r=ar(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}};Object.create(xt.prototype).point=function(e,t){xt.prototype.point.call(this,t,e)};var wo=function(t){return new xt(t)};function _o(e){var t,n=e.primaryAxis,r=e.secondaryAxis,i=e.series,a=ve(),o=a.getSeriesStatusStyle,u=a.getDatumStatusStyle,l=a.focusedDatumState,c=a.gridDimensions,s=(t=r.curve)!=null?t:wo,h=l[0];return y.createElement("g",{style:{transform:je(c.left,c.top)}},i.map(function(f,d){var p,g,v=o(f,h),T=null;if(r.elementType==="area"){var w=function(E){return Mt(E,n)},x=function(E){return ur(Co(E,r),r)},D=function(E){return ur(bt(E,r),r)},C=yo(w,x,D).curve(s);C.defined(function(b){return[w(b),x(b),D(b)].every(tr)}),T=C(f.datums)}var M=function(E){return Mt(E,n)},N=function(E){return bt(E,r)},R=Tn(M,N).curve(s);R.defined(function(b){return[M(b),N(b)].every(tr)});var P=(r.elementType==="area"||r.elementType==="line")&&(p=R(f.datums))!=null?p:void 0,$=(g=r.showDatumElements)!=null?g:r.elementType==="bubble"||"onFocus";return y.createElement("g",{key:"lines-"+d},T?y.createElement("path",{d:T,style:G({strokeWidth:2,opacity:.5},v,v.area)}):null,P?y.createElement("path",{d:P,style:G({strokeWidth:2},v,v.line,{fill:"none"})}):null,f.datums.map(function(b,E){var k,I=u(b,h),j=$==="onFocus"?b===h?4:0:2,Y=$==="onFocus"?b===h:(k=r.showDatumElements)!=null?k:r.elementType==="bubble";return y.createElement("circle",{key:E,ref:function(A){b.element=A},cx:So(b,n,r)||0,cy:To(b,n,r)||0,style:G({r:j,transition:"all .3s ease-out"},v,v.circle,I,I.circle,Y?{}:{opacity:0})})}))}))}function So(e,t,n){return t.isVertical?bt(e,n):Mt(e,t)}function To(e,t,n){return t.isVertical?Mt(e,t):bt(e,n)}function Mt(e,t){var n,r=(n=t.scale(e.primaryValue))!=null?n:NaN;return t.axisFamily==="band"&&(r+=t.scale.bandwidth()/2),r}function bt(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}function Co(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[0])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(0))!=null?n:NaN}function ur(e,t){var n=t.scale.range();return t.isVertical&&n.reverse(),Math.max(n[0],Math.min(e,n[1]))}function ze(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const lr=Symbol("implicit");function si(){var e=new Map,t=[],n=[],r=lr;function i(a){var o=a+"",u=e.get(o);if(!u){if(r!==lr)return r;e.set(o,u=t.push(a))}return n[(u-1)%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Map;for(const o of a){const u=o+"";e.has(u)||e.set(u,t.push(o))}return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return si(t,n).unknown(r)},ze.apply(i,arguments),i}function Et(){var e=si().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,u=!1,l=0,c=0,s=.5;delete e.unknown;function h(){var f=t().length,d=i<r,p=d?i:r,g=d?r:i;a=(g-p)/Math.max(1,f-l+c*2),u&&(a=Math.floor(a)),p+=(g-p-a*(f-l))*s,o=a*(1-l),u&&(p=Math.round(p),o=Math.round(o));var v=Mn(f).map(function(T){return p+a*T});return n(d?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,u=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(u=!!f,h()):u},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},e.align=function(f){return arguments.length?(s=Math.max(0,Math.min(1,f)),h()):s},e.copy=function(){return Et(t(),[r,i]).round(u).paddingInner(l).paddingOuter(c).align(s)},ze.apply(h(),arguments)}const Cn=e=>()=>e;function Do(e,t){return function(n){return e+n*t}}function ko(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function $o(e){return(e=+e)==1?ci:function(t,n){return n-t?ko(t,n,e):Cn(isNaN(t)?n:t)}}function ci(e,t){var n=t-e;return n?Do(e,n):Cn(isNaN(e)?t:e)}const sr=function e(t){var n=$o(t);function r(i,a){var o=n((i=Pn(i)).r,(a=Pn(a)).r),u=n(i.g,a.g),l=n(i.b,a.b),c=ci(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=u(s),i.b=l(s),i.opacity=c(s),i+""}}return r.gamma=e,r}(1);function Eo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Ao(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function No(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Dn(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function Uo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function wt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fo(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Dn(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zt=new RegExp(dn.source,"g");function Lo(e){return function(){return e}}function Io(e){return function(t){return e(t)+""}}function Ro(e,t){var n=dn.lastIndex=zt.lastIndex=0,r,i,a,o=-1,u=[],l=[];for(e=e+"",t=t+"";(r=dn.exec(e))&&(i=zt.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:wt(r,i)})),n=zt.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?Io(l[0].x):Lo(t):(t=l.length,function(c){for(var s=0,h;s<t;++s)u[(h=l[s]).i]=h.x(c);return u.join("")})}function Dn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Cn(t):(n==="number"?wt:n==="string"?(r=Bn(t))?(t=r,sr):Ro:t instanceof Bn?sr:t instanceof Date?Uo:Ao(t)?Eo:Array.isArray(t)?No:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fo:wt)(e,t)}function Oo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Vo(e){return function(){return e}}function Yo(e){return+e}var cr=[0,1];function Ie(e){return e}function mn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Vo(isNaN(t)?NaN:.5)}function Po(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bo(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=mn(i,r),a=n(o,a)):(r=mn(r,i),a=n(a,o)),function(u){return a(r(u))}}function Wo(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=mn(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var l=Xa(e,u,1,r)-1;return a[l](i[l](u))}}function kn(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fi(){var e=cr,t=cr,n=Dn,r,i,a,o=Ie,u,l,c;function s(){var f=Math.min(e.length,t.length);return o!==Ie&&(o=Po(e[0],e[f-1])),u=f>2?Wo:Bo,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?a:(l||(l=u(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(i((c||(c=u(t,e.map(r),wt)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Yo),s()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),s()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=Oo,s()},h.clamp=function(f){return arguments.length?(o=f?!0:Ie,s()):o!==Ie},h.interpolate=function(f){return arguments.length?(n=f,s()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,d){return r=f,i=d,s()}}function hi(){return fi()(Ie,Ie)}function Ho(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Be(e){return e=_t(Math.abs(e)),e?e[1]:NaN}function jo(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),a.push(n.substring(i-=u,i+u)),!((l+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function zo(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ko=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function St(e){if(!(t=Ko.exec(e)))throw new Error("invalid format: "+e);var t;return new $n({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}St.prototype=$n.prototype;function $n(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Go(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var di;function Xo(e,t){var n=_t(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(di=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_t(e,Math.max(0,t+a-1))[0]}function fr(e,t){var n=_t(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ho,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fr(e*100,t),r:fr,s:Xo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dr(e){return e}var mr=Array.prototype.map,gr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qo(e){var t=e.grouping===void 0||e.thousands===void 0?dr:jo(mr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dr:zo(mr.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(h){h=St(h);var f=h.fill,d=h.align,p=h.sign,g=h.symbol,v=h.zero,T=h.width,w=h.comma,x=h.precision,D=h.trim,C=h.type;C==="n"?(w=!0,C="g"):hr[C]||(x===void 0&&(x=12),D=!0,C="g"),(v||f==="0"&&d==="=")&&(v=!0,f="0",d="=");var M=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=g==="$"?r:/[%p]/.test(C)?o:"",R=hr[C],P=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(b){var E=M,k=N,I,j,Y;if(C==="c")k=R(b)+k,b="";else{b=+b;var S=b<0||1/b<0;if(b=isNaN(b)?l:R(Math.abs(b),x),D&&(b=Go(b)),S&&+b==0&&p!=="+"&&(S=!1),E=(S?p==="("?p:u:p==="-"||p==="("?"":p)+E,k=(C==="s"?gr[8+di/3]:"")+k+(S&&p==="("?")":""),P){for(I=-1,j=b.length;++I<j;)if(Y=b.charCodeAt(I),48>Y||Y>57){k=(Y===46?i+b.slice(I+1):b.slice(I))+k,b=b.slice(0,I);break}}}w&&!v&&(b=t(b,1/0));var A=E.length+b.length+k.length,F=A<T?new Array(T-A+1).join(f):"";switch(w&&v&&(b=t(F+b,F.length?T-k.length:1/0),F=""),d){case"<":b=E+b+k+F;break;case"=":b=E+F+b+k;break;case"^":b=F.slice(0,A=F.length>>1)+E+b+k+F.slice(A);break;default:b=F+E+b+k;break}return a(b)}return $.toString=function(){return h+""},$}function s(h,f){var d=c((h=St(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Be(f)/3)))*3,g=Math.pow(10,-p),v=gr[8+p/3];return function(T){return d(g*T)+v}}return{format:c,formatPrefix:s}}var ft,En,mi;Zo({thousands:",",grouping:[3],currency:["$",""]});function Zo(e){return ft=qo(e),En=ft.format,mi=ft.formatPrefix,ft}function Qo(e){return Math.max(0,-Be(Math.abs(e)))}function Jo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(t)/3)))*3-Be(Math.abs(e)))}function eu(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Be(t)-Be(e))+1}function tu(e,t,n,r){var i=un(e,t,n),a;switch(r=St(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Jo(i,o))&&(r.precision=a),mi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=eu(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qo(i))&&(r.precision=a-(r.type==="%")*2);break}}return En(r)}function nu(e){var t=e.domain;return e.ticks=function(n){var r=t();return on(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tu(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],l,c,s=10;for(u<o&&(c=o,o=u,u=c,c=i,i=a,a=c);s-- >0;){if(c=Qr(o,u,n),c===l)return r[i]=o,r[a]=u,t(r);if(c>0)o=Math.floor(o/c)*c,u=Math.ceil(u/c)*c;else if(c<0)o=Math.ceil(o*c)/c,u=Math.floor(u*c)/c;else break;l=c}return e},e}function gi(){var e=hi();return e.copy=function(){return kn(e,gi())},ze.apply(e,arguments),nu(e)}function pi(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function pr(e){return Math.log(e)}function vr(e){return Math.exp(e)}function ru(e){return-Math.log(-e)}function iu(e){return-Math.exp(-e)}function au(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ou(e){return e===10?au:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function uu(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function yr(e){return function(t){return-e(-t)}}function lu(e){var t=e(pr,vr),n=t.domain,r=10,i,a;function o(){return i=uu(r),a=ou(r),n()[0]<0?(i=yr(i),a=yr(a),e(ru,iu)):e(pr,vr),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=function(u){var l=n(),c=l[0],s=l[l.length-1],h;(h=s<c)&&(f=c,c=s,s=f);var f=i(c),d=i(s),p,g,v,T=u==null?10:+u,w=[];if(!(r%1)&&d-f<T){if(f=Math.floor(f),d=Math.ceil(d),c>0){for(;f<=d;++f)for(g=1,p=a(f);g<r;++g)if(v=p*g,!(v<c)){if(v>s)break;w.push(v)}}else for(;f<=d;++f)for(g=r-1,p=a(f);g>=1;--g)if(v=p*g,!(v<c)){if(v>s)break;w.push(v)}w.length*2<T&&(w=on(c,s,T))}else w=on(f,d,Math.min(d-f,T)).map(a);return h?w.reverse():w},t.tickFormat=function(u,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=En(l)),u===1/0)return l;u==null&&(u=10);var c=Math.max(1,r*u/t.ticks().length);return function(s){var h=s/a(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=c?l(s):""}},t.nice=function(){return n(pi(n(),{floor:function(u){return a(Math.floor(i(u)))},ceil:function(u){return a(Math.ceil(i(u)))}}))},t}function vi(){var e=lu(fi()).domain([1,10]);return e.copy=function(){return kn(e,vi()).base(e.base())},ze.apply(e,arguments),e}var Kt=new Date,Gt=new Date;function ue(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},i.round=function(a){var o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=function(a,o){return t(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,u){var l=[],c;if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return l;do l.push(c=new Date(+a)),t(a,u),e(a);while(c<a&&a<o);return l},i.filter=function(a){return ue(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,u){if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););})},n&&(i.count=function(a,o){return Kt.setTime(+a),Gt.setTime(+o),e(Kt),e(Gt),Math.floor(n(Kt,Gt))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var Tt=ue(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Tt.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ue(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Tt};Tt.range;const ye=1e3,fe=ye*60,xe=fe*60,Ce=xe*24,An=Ce*7,xr=Ce*30,Xt=Ce*365;var Me=ue(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*ye)},function(e,t){return(t-e)/ye},function(e){return e.getUTCSeconds()});Me.range;var At=ue(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye)},function(e,t){e.setTime(+e+t*fe)},function(e,t){return(t-e)/fe},function(e){return e.getMinutes()});At.range;var Nt=ue(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye-e.getMinutes()*fe)},function(e,t){e.setTime(+e+t*xe)},function(e,t){return(t-e)/xe},function(e){return e.getHours()});Nt.range;var Ke=ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fe)/Ce,e=>e.getDate()-1);Ke.range;function $e(e){return ue(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fe)/An})}var Ut=$e(0),Ct=$e(1),su=$e(2),cu=$e(3),We=$e(4),fu=$e(5),hu=$e(6);Ut.range;Ct.range;su.range;cu.range;We.range;fu.range;hu.range;var Ft=ue(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});Ft.range;var me=ue(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});me.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ue(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};me.range;var Lt=ue(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*fe)},function(e,t){return(t-e)/fe},function(e){return e.getUTCMinutes()});Lt.range;var It=ue(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*xe)},function(e,t){return(t-e)/xe},function(e){return e.getUTCHours()});It.range;var Ge=ue(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Ce},function(e){return e.getUTCDate()-1});Ge.range;function Ee(e){return ue(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/An})}var Rt=Ee(0),Dt=Ee(1),du=Ee(2),mu=Ee(3),He=Ee(4),gu=Ee(5),pu=Ee(6);Rt.range;Dt.range;du.range;mu.range;He.range;gu.range;pu.range;var Ot=ue(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});Ot.range;var ge=ue(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ge.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:ue(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};ge.range;function yi(e,t,n,r,i,a){const o=[[Me,1,ye],[Me,5,5*ye],[Me,15,15*ye],[Me,30,30*ye],[a,1,fe],[a,5,5*fe],[a,15,15*fe],[a,30,30*fe],[i,1,xe],[i,3,3*xe],[i,6,6*xe],[i,12,12*xe],[r,1,Ce],[r,2,2*Ce],[n,1,An],[t,1,xr],[t,3,3*xr],[e,1,Xt]];function u(c,s,h){const f=s<c;f&&([c,s]=[s,c]);const d=h&&typeof h.range=="function"?h:l(c,s,h),p=d?d.range(c,+s+1):[];return f?p.reverse():p}function l(c,s,h){const f=Math.abs(s-c)/h,d=xn(([,,v])=>v).right(o,f);if(d===o.length)return e.every(un(c/Xt,s/Xt,h));if(d===0)return Tt.every(Math.max(un(c,s,h),1));const[p,g]=o[f/o[d-1][2]<o[d][2]/f?d-1:d];return p.every(g)}return[u,l]}const[vu,yu]=yi(ge,Ot,Rt,Ge,It,Lt),[xu,Mu]=yi(me,Ft,Ut,Ke,Nt,At);function qt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function et(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bu(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,l=e.shortMonths,c=tt(i),s=nt(i),h=tt(a),f=nt(a),d=tt(o),p=nt(o),g=tt(u),v=nt(u),T=tt(l),w=nt(l),x={a:S,A,b:F,B:O,c:null,d:Tr,e:Tr,f:Hu,g:el,G:nl,H:Pu,I:Bu,j:Wu,L:xi,m:ju,M:zu,p:X,q:H,Q:kr,s:$r,S:Ku,u:Gu,U:Xu,V:qu,w:Zu,W:Qu,x:null,X:null,y:Ju,Y:tl,Z:rl,"%":Dr},D={a:W,A:B,b:q,B:re,c:null,d:Cr,e:Cr,f:ul,g:vl,G:xl,H:il,I:al,j:ol,L:bi,m:ll,M:sl,p:ae,q:z,Q:kr,s:$r,S:cl,u:fl,U:hl,V:dl,w:ml,W:gl,x:null,X:null,y:pl,Y:yl,Z:Ml,"%":Dr},C={a:$,A:b,b:E,B:k,c:I,d:_r,e:_r,f:Ru,g:wr,G:br,H:Sr,I:Sr,j:Uu,L:Iu,m:Nu,M:Fu,p:P,q:Au,Q:Vu,s:Yu,S:Lu,u:Cu,U:Du,V:ku,w:Tu,W:$u,x:j,X:Y,y:wr,Y:br,Z:Eu,"%":Ou};x.x=M(n,x),x.X=M(r,x),x.c=M(t,x),D.x=M(n,D),D.X=M(r,D),D.c=M(t,D);function M(_,U){return function(L){var m=[],K=-1,V=0,Q=_.length,Z,te,se;for(L instanceof Date||(L=new Date(+L));++K<Q;)_.charCodeAt(K)===37&&(m.push(_.slice(V,K)),(te=Mr[Z=_.charAt(++K)])!=null?Z=_.charAt(++K):te=Z==="e"?" ":"0",(se=U[Z])&&(Z=se(L,te)),m.push(Z),V=K+1);return m.push(_.slice(V,K)),m.join("")}}function N(_,U){return function(L){var m=et(1900,void 0,1),K=R(m,_,L+="",0),V,Q;if(K!=L.length)return null;if("Q"in m)return new Date(m.Q);if("s"in m)return new Date(m.s*1e3+("L"in m?m.L:0));if(U&&!("Z"in m)&&(m.Z=0),"p"in m&&(m.H=m.H%12+m.p*12),m.m===void 0&&(m.m="q"in m?m.q:0),"V"in m){if(m.V<1||m.V>53)return null;"w"in m||(m.w=1),"Z"in m?(V=Zt(et(m.y,0,1)),Q=V.getUTCDay(),V=Q>4||Q===0?Dt.ceil(V):Dt(V),V=Ge.offset(V,(m.V-1)*7),m.y=V.getUTCFullYear(),m.m=V.getUTCMonth(),m.d=V.getUTCDate()+(m.w+6)%7):(V=qt(et(m.y,0,1)),Q=V.getDay(),V=Q>4||Q===0?Ct.ceil(V):Ct(V),V=Ke.offset(V,(m.V-1)*7),m.y=V.getFullYear(),m.m=V.getMonth(),m.d=V.getDate()+(m.w+6)%7)}else("W"in m||"U"in m)&&("w"in m||(m.w="u"in m?m.u%7:"W"in m?1:0),Q="Z"in m?Zt(et(m.y,0,1)).getUTCDay():qt(et(m.y,0,1)).getDay(),m.m=0,m.d="W"in m?(m.w+6)%7+m.W*7-(Q+5)%7:m.w+m.U*7-(Q+6)%7);return"Z"in m?(m.H+=m.Z/100|0,m.M+=m.Z%100,Zt(m)):qt(m)}}function R(_,U,L,m){for(var K=0,V=U.length,Q=L.length,Z,te;K<V;){if(m>=Q)return-1;if(Z=U.charCodeAt(K++),Z===37){if(Z=U.charAt(K++),te=C[Z in Mr?U.charAt(K++):Z],!te||(m=te(_,L,m))<0)return-1}else if(Z!=L.charCodeAt(m++))return-1}return m}function P(_,U,L){var m=c.exec(U.slice(L));return m?(_.p=s.get(m[0].toLowerCase()),L+m[0].length):-1}function $(_,U,L){var m=d.exec(U.slice(L));return m?(_.w=p.get(m[0].toLowerCase()),L+m[0].length):-1}function b(_,U,L){var m=h.exec(U.slice(L));return m?(_.w=f.get(m[0].toLowerCase()),L+m[0].length):-1}function E(_,U,L){var m=T.exec(U.slice(L));return m?(_.m=w.get(m[0].toLowerCase()),L+m[0].length):-1}function k(_,U,L){var m=g.exec(U.slice(L));return m?(_.m=v.get(m[0].toLowerCase()),L+m[0].length):-1}function I(_,U,L){return R(_,t,U,L)}function j(_,U,L){return R(_,n,U,L)}function Y(_,U,L){return R(_,r,U,L)}function S(_){return o[_.getDay()]}function A(_){return a[_.getDay()]}function F(_){return l[_.getMonth()]}function O(_){return u[_.getMonth()]}function X(_){return i[+(_.getHours()>=12)]}function H(_){return 1+~~(_.getMonth()/3)}function W(_){return o[_.getUTCDay()]}function B(_){return a[_.getUTCDay()]}function q(_){return l[_.getUTCMonth()]}function re(_){return u[_.getUTCMonth()]}function ae(_){return i[+(_.getUTCHours()>=12)]}function z(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var U=M(_+="",x);return U.toString=function(){return _},U},parse:function(_){var U=N(_+="",!1);return U.toString=function(){return _},U},utcFormat:function(_){var U=M(_+="",D);return U.toString=function(){return _},U},utcParse:function(_){var U=N(_+="",!0);return U.toString=function(){return _},U}}}var Mr={"-":"",_:" ",0:"0"},le=/^\s*\d+/,wu=/^%/,_u=/[\\^$*+?|[\]().{}]/g;function ee(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Su(e){return e.replace(_u,"\\$&")}function tt(e){return new RegExp("^(?:"+e.map(Su).join("|")+")","i")}function nt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Tu(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Cu(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Du(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function ku(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function $u(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function br(e,t,n){var r=le.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Eu(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Au(e,t,n){var r=le.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Nu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function _r(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Uu(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Sr(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Lu(e,t,n){var r=le.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Iu(e,t,n){var r=le.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ru(e,t,n){var r=le.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ou(e,t,n){var r=wu.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Vu(e,t,n){var r=le.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yu(e,t,n){var r=le.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Tr(e,t){return ee(e.getDate(),t,2)}function Pu(e,t){return ee(e.getHours(),t,2)}function Bu(e,t){return ee(e.getHours()%12||12,t,2)}function Wu(e,t){return ee(1+Ke.count(me(e),e),t,3)}function xi(e,t){return ee(e.getMilliseconds(),t,3)}function Hu(e,t){return xi(e,t)+"000"}function ju(e,t){return ee(e.getMonth()+1,t,2)}function zu(e,t){return ee(e.getMinutes(),t,2)}function Ku(e,t){return ee(e.getSeconds(),t,2)}function Gu(e){var t=e.getDay();return t===0?7:t}function Xu(e,t){return ee(Ut.count(me(e)-1,e),t,2)}function Mi(e){var t=e.getDay();return t>=4||t===0?We(e):We.ceil(e)}function qu(e,t){return e=Mi(e),ee(We.count(me(e),e)+(me(e).getDay()===4),t,2)}function Zu(e){return e.getDay()}function Qu(e,t){return ee(Ct.count(me(e)-1,e),t,2)}function Ju(e,t){return ee(e.getFullYear()%100,t,2)}function el(e,t){return e=Mi(e),ee(e.getFullYear()%100,t,2)}function tl(e,t){return ee(e.getFullYear()%1e4,t,4)}function nl(e,t){var n=e.getDay();return e=n>=4||n===0?We(e):We.ceil(e),ee(e.getFullYear()%1e4,t,4)}function rl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ee(t/60|0,"0",2)+ee(t%60,"0",2)}function Cr(e,t){return ee(e.getUTCDate(),t,2)}function il(e,t){return ee(e.getUTCHours(),t,2)}function al(e,t){return ee(e.getUTCHours()%12||12,t,2)}function ol(e,t){return ee(1+Ge.count(ge(e),e),t,3)}function bi(e,t){return ee(e.getUTCMilliseconds(),t,3)}function ul(e,t){return bi(e,t)+"000"}function ll(e,t){return ee(e.getUTCMonth()+1,t,2)}function sl(e,t){return ee(e.getUTCMinutes(),t,2)}function cl(e,t){return ee(e.getUTCSeconds(),t,2)}function fl(e){var t=e.getUTCDay();return t===0?7:t}function hl(e,t){return ee(Rt.count(ge(e)-1,e),t,2)}function wi(e){var t=e.getUTCDay();return t>=4||t===0?He(e):He.ceil(e)}function dl(e,t){return e=wi(e),ee(He.count(ge(e),e)+(ge(e).getUTCDay()===4),t,2)}function ml(e){return e.getUTCDay()}function gl(e,t){return ee(Dt.count(ge(e)-1,e),t,2)}function pl(e,t){return ee(e.getUTCFullYear()%100,t,2)}function vl(e,t){return e=wi(e),ee(e.getUTCFullYear()%100,t,2)}function yl(e,t){return ee(e.getUTCFullYear()%1e4,t,4)}function xl(e,t){var n=e.getUTCDay();return e=n>=4||n===0?He(e):He.ceil(e),ee(e.getUTCFullYear()%1e4,t,4)}function Ml(){return"+0000"}function Dr(){return"%"}function kr(e){return+e}function $r(e){return Math.floor(+e/1e3)}var Ue,_i,Si;bl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bl(e){return Ue=bu(e),_i=Ue.format,Ue.parse,Si=Ue.utcFormat,Ue.utcParse,Ue}function wl(e){return new Date(e)}function _l(e){return e instanceof Date?+e:+new Date(+e)}function Nn(e,t,n,r,i,a,o,u,l,c){var s=hi(),h=s.invert,f=s.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),v=c("%I %p"),T=c("%a %d"),w=c("%b %d"),x=c("%B"),D=c("%Y");function C(M){return(l(M)<M?d:u(M)<M?p:o(M)<M?g:a(M)<M?v:r(M)<M?i(M)<M?T:w:n(M)<M?x:D)(M)}return s.invert=function(M){return new Date(h(M))},s.domain=function(M){return arguments.length?f(Array.from(M,_l)):f().map(wl)},s.ticks=function(M){var N=f();return e(N[0],N[N.length-1],M??10)},s.tickFormat=function(M,N){return N==null?C:c(N)},s.nice=function(M){var N=f();return(!M||typeof M.range!="function")&&(M=t(N[0],N[N.length-1],M??10)),M?f(pi(N,M)):s},s.copy=function(){return kn(s,Nn(e,t,n,r,i,a,o,u,l,c))},s}function Sl(){return ze.apply(Nn(xu,Mu,me,Ft,Ut,Ke,Nt,At,Me,_i).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tl(){return ze.apply(Nn(vu,yu,ge,Ot,Rt,Ge,It,Lt,Me,Si).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cl(e){var t,n,r,i,a,o,u,l,c,s;return G({},e,{elementType:(t=e.elementType)!=null?t:"line",minTickPaddingForRotation:(n=e.minTickPaddingForRotation)!=null?n:10,tickLabelRotationDeg:(r=e.tickLabelRotationDeg)!=null?r:60,innerBandPadding:(i=e.innerBandPadding)!=null?i:.5,outerBandPadding:(a=e.outerBandPadding)!=null?a:.2,innerSeriesBandPadding:(o=e.innerSeriesBandPadding)!=null?o:.2,outerSeriesBandPadding:(u=e.outerSeriesBandPadding)!=null?u:0,show:(l=e.show)!=null?l:!0,stacked:(c=e.stacked)!=null?c:!1,shouldNice:(s=e.shouldNice)!=null?s:!0})}function Er(e,t,n,r,i,a,o){var u=Cl(t);if(!u.position)throw new Error("Chart axes must have a valid 'position' property");var l=["left","right"].indexOf(u.position)>-1,c=l?[i.height,0]:[0,i.width],s=l?[o,0]:[0,a];return u.scaleType==="time"||u.scaleType==="localTime"?Dl(e,u,n,r,l,c,s):u.scaleType==="linear"||u.scaleType==="log"?kl(e,u,n,r,l,c,s):u.scaleType==="band"?$l(e,u,n,l,c,s):function(){throw new Error("Invalid scale type")}()}function Dl(e,t,n,r,i,a,o){var u=t.scaleType==="localTime",l=u?Sl:Tl,c=!1;n=e?n:n.filter(function(Y){return Y.secondaryAxisId===t.id}),r=e?r:r.filter(function(Y){return Y.secondaryAxisId===t.id});var s=l(a),h=tn(r,function(Y){var S=t.getValue(Y.originalDatum);return Y[e?"primaryValue":"secondaryValue"]=S,S}),f=h[0],d=h[1],p,g=u?{year:me,month:Ft,day:Ke,hour:Nt,minute:At,second:Me}:{year:ge,month:Ot,day:Ge,hour:It,minute:Lt,second:Me};f&&d&&(g.year.count(f,d)>0||g.year.floor(d)<g.year()?p="%b %-d, %Y %-I:%M:%S.%L %p":g.month.count(f,d)>0||g.month.floor(d)<g.month()||g.day.count(f,d)>0||g.day.floor(d)<g.day()?p="%b %-d, %-I:%M:%S.%L %p":g.hour.count(f,d)>0||g.hour.floor(d)<g.hour()?p="%-I:%M:%S.%L %p":g.minute.count(f,d)>0||g.minute.floor(d)<g.minute()?p="%-I:%M:%S.%L":(g.second.count(f,d)>0||g.second.floor(d)<g.second())&&(p="%L"));var v=u?qr:Zr,T=function(S){return S.trim().replace(/(,$|^,)/,"")},w=function(S,A){return g.second(A)<A?v(S)(A):g.minute(A)<A?v(T(S.replace(/\.%L.*?(\s|$)/,"")))(A):g.hour(A)<A?v(T(S.replace(/:%S.*?(\s|$)/,"")))(A):g.day(A)<A?v(T(S.replace(/:%M.*?(\s|$)/,"")))(A):g.month(A)<A?v(T(S.replace(/%-I.*/,"")))(A):g.year(A)<A?v(T(S.replace(/%-d.*/,"")))(A):v("%Y")(A)},x=t.shouldNice;Object.prototype.toString.call(t.min)==="[object Date]"&&(f=vt([t.min,f]),x=!1),Object.prototype.toString.call(t.max)==="[object Date]"&&(d=pt([t.max,d]),x=!1),Object.prototype.toString.call(t.hardMin)==="[object Date]"&&(f=t.hardMin,x=!1),Object.prototype.toString.call(t.hardMax)==="[object Date]"&&(d=t.hardMax,x=!1),(f===void 0||d===void 0)&&(console.info("Invalid scale min/max",{options:t,series:n,range:a,values:r.map(function(Y){return e?Y.primaryValue:Y.secondaryValue})}),c=!0),s.domain([f,d]),t.invert&&s.domain(Array.from(s.domain()).reverse()),x&&s.nice();var D=s.copy().range(o),C=e?Ti(t,s,n,a):void 0,M=C?Un(t,C,n):void 0,N=C==null?void 0:C.bandwidth();if(t.padBandRange&&N){var R=s.invert(0),P=s.invert(N),$=P.valueOf()-R.valueOf();s.domain([new Date(s.domain()[0].valueOf()-$/2),new Date(s.domain()[1].valueOf()+$/2)])}var b={},E=s.tickFormat(),k=function(S){var A,F;return(A=(F=t.formatters)==null||F.scale==null?void 0:F.scale(S,G({},b,{scale:void 0})))!=null?A:w(p,S)},I=function(S){var A,F;return(A=(F=t.formatters)==null||F.tooltip==null?void 0:F.tooltip(S,G({},b,{tooltip:void 0})))!=null?A:k(S)},j=function(S){var A,F;return(A=(F=t.formatters)==null||F.cursor==null?void 0:F.cursor(S,G({},b,{cursor:void 0})))!=null?A:k(S)};return Object.assign(b,{default:E,scale:k,tooltip:I,cursor:j}),G({},t,{isInvalid:c,axisFamily:"time",isVertical:i,scale:s,range:a,outerScale:D,primaryBandScale:C,seriesBandScale:M,formatters:b})}function kl(e,t,n,r,i,a,o){var u=t.scaleType==="log"?vi():gi(),l=!1;n=e?n:n.filter(function($){return $.secondaryAxisId===t.id}),r=e?r:r.filter(function($){return $.secondaryAxisId===t.id}),t.stacked&&El(n,t);var c=t.stacked?tn(n.map(function($){return $.datums.map(function(b){var E,k=t.getValue(b.originalDatum);return b[e?"primaryValue":"secondaryValue"]=k,(E=b.stackData)!=null?E:[]})}).flat(2)):tn(r,function($){var b=t.getValue($.originalDatum);return $[e?"primaryValue":"secondaryValue"]=b,b}),s=c[0],h=c[1],f=t.shouldNice;if(typeof t.min=="number"&&(s=vt([t.min,s]),f=!1),typeof t.max=="number"&&(h=pt([t.max,h]),f=!1),typeof t.minDomainLength=="number"&&!(s===void 0||h===void 0)){var d=oo([s,h]),p=d+t.minDomainLength/2,g=d-t.minDomainLength/2;h=Math.max(p,h),s=Math.min(g,s)}if(typeof t.hardMin=="number"&&(s=t.hardMin,f=!1),typeof t.hardMax=="number"&&(h=t.hardMax,f=!1),s===void 0||h===void 0){var v,T;l=!0,console.info("Invalid scale min/max",{options:t,series:n,range:a,values:r.map(function($){return e?$.primaryValue:$.secondaryValue})}),s=(v=s)!=null?v:0,h=(T=h)!=null?T:0}u.domain([s,h]),t.invert&&u.domain(Array.from(u.domain()).reverse()),u.range(a),f&&u.nice();var w=u.copy().range(o),x=e?Ti(t,u,n,a):void 0,D=x?Un(t,x,n):void 0,C=u.tickFormat(),M={},N=function(b){var E,k;return(E=(k=t.formatters)==null||k.scale==null?void 0:k.scale(b,G({},M,{scale:void 0})))!=null?E:C(b)},R=function(b){var E,k;return(E=(k=t.formatters)==null||k.tooltip==null?void 0:k.tooltip(b,G({},M,{tooltip:void 0})))!=null?E:N(b)},P=function(b){var E,k;return(E=(k=t.formatters)==null||k.cursor==null?void 0:k.cursor(b,G({},M,{cursor:void 0})))!=null?E:R(b)};return Object.assign(M,{default:C,scale:N,tooltip:R,cursor:P}),G({},t,{isInvalid:l,axisFamily:"linear",isVertical:i,scale:u,range:a,outerScale:w,primaryBandScale:x,seriesBandScale:D,formatters:M})}function $l(e,t,n,r,i,a){var o,u;n=n.filter(function(x){return x.secondaryAxisId===t.id});var l=!1,c=Array.from(new Set(n.map(function(x){return x.datums}).flat().map(function(x){var D=t.getValue(x.originalDatum);return x[e?"primaryValue":"secondaryValue"]=D,D}))),s=Et(c,i).round(!1).paddingOuter((o=t.outerBandPadding)!=null?o:0).paddingInner((u=t.innerBandPadding)!=null?u:0);t.invert&&s.domain(Array.from(s.domain()).reverse());var h=s.copy().range(a),f=s,d=Un(t,f,n),p=function(D){return D},g={},v=function(D){var C,M;return(C=(M=t.formatters)==null||M.scale==null?void 0:M.scale(D,G({},g,{scale:void 0})))!=null?C:p(D)},T=function(D){var C,M;return(C=(M=t.formatters)==null||M.tooltip==null?void 0:M.tooltip(D,G({},g,{tooltip:void 0})))!=null?C:v(D)},w=function(D){var C,M;return(C=(M=t.formatters)==null||M.cursor==null?void 0:M.cursor(D,G({},g,{cursor:void 0})))!=null?C:T(D)};return Object.assign(g,{default:p,scale:v,tooltip:T,cursor:w}),G({},t,{isInvalid:l,axisFamily:"band",isVertical:r,scale:s,range:i,outerScale:h,formatters:g,primaryBandScale:f,seriesBandScale:d})}function El(e,t){for(var n,r=Object.keys(e),i=bo().keys(r).value(function(s,h,f){var d,p,g=(d=e[Number(h)])==null||(p=d.datums[f])==null?void 0:p.originalDatum,v=typeof g<"u"?t.getValue(g):0;return typeof v>"u"||v===null?0:v}).offset((n=t.stackOffset)!=null?n:hn),a=i(Array.from({length:e.sort(function(s,h){return h.datums.length-s.datums.length})[0].datums.length})),o=0;o<a.length;o++)for(var u=a[o],l=0;l<u.length;l++){var c=u[l];e[o].datums[l]&&(c.data=e[o].datums[l],e[o].datums[l].stackData=c)}}function Ti(e,t,n,r){var i,a,o=Math.max.apply(Math,r),u=Math.max.apply(Math,r);(function(){for(var s=0;s<n.length;s++)for(var h=n[s],f=0;f<h.datums.length;f++)for(var d,p=h.datums[f],g=t((d=p.primaryValue)!=null?d:NaN),v=0;v<h.datums.length;v++){var T,w=h.datums[v],x=t((T=w.primaryValue)!=null?T:NaN);if(g!==x){var D=Math.abs(Math.max(g,x)-Math.min(g,x));if(D<o&&(o=Math.max(D,u),o===u))return}}})();var l=Mn(u/o),c=Et(l,r).round(!1).paddingOuter((i=e.outerBandPadding)!=null?i:0).paddingInner((a=e.innerBandPadding)!=null?a:0);return c}function Un(e,t,n){var r,i,a=Mn(n.length),o=Et(a,[0,t.bandwidth()]).round(!1).paddingOuter((r=e.outerSeriesBandPadding)!=null?r:e.outerBandPadding?e.outerBandPadding/2:0).paddingInner((i=e.innerSeriesBandPadding)!=null?i:e.innerBandPadding?e.innerBandPadding/2:0),u=function(c){var s;return o((s=n.find(function(h){return h.index===c}))==null?void 0:s.indexPerAxis)};return Object.assign(u,o)}var Qt=function(t){var n=t.getBoundingClientRect();return{top:Math.round(n.top),right:Math.round(n.right),bottom:Math.round(n.bottom),left:Math.round(n.left),width:Math.round(n.width),height:Math.round(n.height),x:Math.round(n.x),y:Math.round(n.y)}};function Al(e){var t=e.axis,n=e.elRef,r=e.gridDimensions,i=e.setShowRotated,a=ve(),o=a.axisDimensionsState,u=o[0],l=o[1],c=y.useMemo(function(){var f;return(f=u[t.position])==null?void 0:f[t.id]},[u,t.position,t.id]),s=y.useCallback(function(){var f;if(n.current){var d=t.isVertical?r.height:r.width,p=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map(function(w){return Qt(w)}),g;p.forEach(function(w){var x,D=(x=g)!=null?x:{width:0};w.width>0&&w.width>D.width&&(g=w)});var v=d;p.length>1&&p.forEach(function(w,x){var D=p[x-1];D&&(v=Math.min(v,t.isVertical?w.top-D.top:w.left-D.left))});var T=(((f=g)==null?void 0:f.width)||0)+t.minTickPaddingForRotation>v;t.isVertical||i(T)}},[n,t.isVertical,t.minTickPaddingForRotation,r.width,r.height,i]),h=y.useCallback(function(){if(!n.current){c&&l(function(w){var x,D,C=G({},(x=w[t.position])!=null?x:{});return delete C[t.id],G({},w,(D={},D[t.position]=C,D))});return}var f={width:0,height:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},d=n.current,p=d.querySelector(".Axis-Group.inner .domainAndTicks"),g=d.querySelector(".Axis-Group.inner .domain");if(!(!p||!g)){var v=Qt(p),T=Qt(g);!v||!T||(t.isVertical?(f.paddingTop=Math.round(Math.max(0,T.top-(v==null?void 0:v.top))),f.paddingBottom=Math.round(Math.max(0,(v==null?void 0:v.bottom)-T.bottom)),f.width=v==null?void 0:v.width):(f.paddingLeft=Math.round(Math.max(0,T.left-(v==null?void 0:v.left))),f.paddingRight=Math.round(Math.max(0,(v==null?void 0:v.right)-T.right)),f.height=v==null?void 0:v.height),(!u||!c||Object.keys(f).some(function(w){return f[w]!==c[w]}))&&l(function(w){var x,D,C;return G({},w,(C={},C[t.position]=G({},(x=w[t.position])!=null?x:{},(D={},D[t.id]=f,D)),C))}))}},[t.id,t.isVertical,t.position,c,u,n,l]);ut(function(){window.requestAnimationFrame(function(){s(),h()})},[s])}function Nl(e){var t=y.useState(!1),n=t[0],r=t[1],i=ve(),a=i.getOptions,o=i.gridDimensions,u=i.width,l=i.height,c=a(),s=c.dark,h=c.showDebugAxes,f=y.useRef(null);Al({axis:e,elRef:f,gridDimensions:o,showRotated:n,setShowRotated:r});var d=function(g){var v=!g&&n,T=g?e.outerScale:e.scale,w=T.range(),x=w[0],D=w[1],C=function(){var k=e;if(k.outerScale.ticks){if(typeof k.tickCount=="number")return k.outerScale.ticks(k.tickCount);var I=k.isVertical?40:80,j=k.outerScale.range(),Y=Math.abs(j[1]-j[0])/I;return k.outerScale.ticks(Y)}return k.outerScale.domain()},M=g?l:o.height,N=g?u:o.width,R=e.position==="left"?[{x:0,y:x},{x:0,y:D}]:e.position==="right"?[{x:N,y:x},{x:N,y:D}]:e.position==="top"?[{x,y:0},{x:D,y:0}]:[{x,y:M},{x:D,y:M}],P=R[0],$=R[1],b=C().map(function(E){var k=Ul(T,E),I=e.position==="left"?[{x:0,y:k},{x:-8,y:k},{x:N,y:k}]:e.position==="right"?[{x:N,y:k},{x:N+8,y:k},{x:0,y:k}]:e.position==="top"?[{x:k,y:0},{x:k,y:-8},{x:k,y:M}]:[{x:k,y:M},{x:k,y:M+8},{x:k,y:0}],j=I[0],Y=I[1],S=I[2];return{value:E,from:j,to:Y,gridTo:S}});return y.createElement("g",{key:"Axis-Group "+(g?"outer":"inner"),className:"Axis-Group "+(g?"outer":"inner"),style:{transform:g?void 0:je(o.left,o.top)}},y.createElement("g",{className:"Axis",style:G({},g?{opacity:h?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"})},y.createElement("g",{className:"domainAndTicks"},y.createElement("line",{className:"domain",x1:P.x,y1:P.y,x2:$.x,y2:$.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),b.map(function(E,k){var I=E.to,j=I.x,Y=I.y;return e.position==="top"?Y-=5:e.position==="bottom"?Y+=5:e.position==="left"?j-=5:e.position==="right"&&(j+=5),y.createElement("g",{key:"vx-tick-"+E+"-"+k,className:"tick"},g?null:y.createElement("line",{x1:E.from.x,y1:E.from.y,x2:E.to.x,y2:E.to.y,stroke:s?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),y.createElement("text",{className:"tickLabel",style:{fontSize:10,fill:s?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:v?"central":e.position==="bottom"?"hanging":e.position==="top"?"alphabetic":"central",textAnchor:v?"end":e.position==="right"?"start":e.position==="left"?"end":"middle"},transform:"translate("+j+", "+Y+") rotate("+(v?e.position==="top"?60:-60:0)+")"},e.formatters.scale(E.value)))})),y.createElement("g",{className:"grid"},b.map(function(E,k){var I;return y.createElement("g",{key:"vx-tick-"+E+"-"+k,className:"tick"},((I=e.showGrid)==null||I)&&!g?y.createElement("line",{x1:E.from.x,y1:E.from.y,x2:E.gridTo.x,y2:E.gridTo.y,stroke:s?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}):null)}))))};return e.show?y.createElement("g",{ref:f},d(!1),d(!0)):null}function Ul(e,t){var n,r=(n=e(t))!=null?n:NaN;return e.bandwidth?r+e.bandwidth()/2:r}function Ci(e){var t=y.useRef();return ut(function(){t.current=e},[e]),t.current}function he(e,t){t===void 0&&(t=!0);var n=y.useRef(t?e:null);return t&&(n.current=e),n.current}function Di(){var e=$t.useState(),t=e[0],n=e[1];return ut(function(){if(!t){var r=document.getElementById("react-charts-portal");r||(r=document.createElement("div"),r.setAttribute("id","react-charts-portal"),Object.assign(r.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(r)),n(r)}}),t}function at(e,t){var n=y.useReducer(function(){return{}},[])[1],r=y.useRef({width:0,height:0,x:0,y:0,left:0,top:0,right:0,bottom:0}),i=y.useCallback(function(){e&&(r.current=e.getBoundingClientRect())},[e]);return r.current||i(),y.useEffect(function(){if(!(!e||!t)){var a=function(){i(),n()};return document.addEventListener("scroll",a,!0),function(){document.removeEventListener("scroll",a,!0)}}},[e,t,i,n]),y.useEffect(function(){if(!(!e||!t)){i(),n();var a=new ResizeObserver(function(){i(),n()});return a.observe(e),function(){a.unobserve(e)}}},[e,t,i,n]),r.current}function Fl(e,t,n){if(Ai())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return i}var Ar=.001;function ki(e,t){return Number.isNaN(e)&&Number.isNaN(t)?!0:e>t-Ar&&e<t+Ar}function Fe(e){return ki(e,0)}var Ll=function(){function e(n,r,i,a){this._m=r,this._k=i,this._c=a,this._solution=null,this.endPosition=n,this._startTime=0}var t=e.prototype;return t.x=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this.endPosition+this._solution.x(r):this.endPosition},t.dx=function(r){return r===void 0&&(r=(new Date().getTime()-this._startTime)/1e3),this._solution?this._solution.dx(r):0},t.setEnd=function(r){var i=new Date().getTime(),a=0,o=this.endPosition;this._solution&&(Fe(a)&&(a=this._solution.dx((i-this._startTime)/1e3)),o=this._solution.x((i-this._startTime)/1e3),Fe(a)&&(a=0),Fe(o)&&(o=0),o+=this.endPosition),!(this._solution&&Fe(o-r)&&Fe(a))&&(this.endPosition=r,this._solution=this._solve(o-this.endPosition,a),this._startTime=i)},t.snap=function(r){this._startTime=new Date().getTime(),this.endPosition=r,this._solution={x:function(){return 0},dx:function(){return 0}}},t.done=function(){return ki(this.x(),this.endPosition)&&Fe(this.dx())},t._solve=function(r,i){var a=this._c,o=this._m,u=this._k,l=a*a-4*o*u;if(l===0){var c=-a/(2*o),s=r,h=i/(c*r);return{x:function(C){return(s+h*C)*Math.pow(Math.E,c*C)},dx:function(C){var M=Math.pow(Math.E,c*C);return c*(s+h*C)*M+h*M}}}else if(l>0){var f=(-a-Math.sqrt(l))/(2*o),d=(-a+Math.sqrt(l))/(2*o),p=(i-f*r)/(d-f),g=r-p;return{x:function(C){return g*Math.pow(Math.E,f*C)+p*Math.pow(Math.E,d*C)},dx:function(C){return g*f*Math.pow(Math.E,f*C)+p*d*Math.pow(Math.E,d*C)}}}else{var v=Math.sqrt(4*o*u-a*a)/(2*o),T=-(a/2*o),w=r,x=(i-T*r)/v;return{x:function(C){return Math.pow(Math.E,T*C)*(w*Math.cos(v*C)+x*Math.sin(v*C))},dx:function(C){var M=Math.pow(Math.E,T*C),N=Math.cos(v*C),R=Math.sin(v*C);return M*(x*v*N-w*v*R)+T*M*(x*R+w*N)}}}},e}();function Re(e,t,n,r,i){var a=y.useRef(Fl(Ll,[e].concat(t))),o=yt(e),u=Il(function(){return n(a.current.x()),a.current.done()}),l=u[0],c=u[1],s=y.useRef(),h=s.current!==e;return y.useEffect(function(){if(h){if(r){a.current.snap(o()),l();return}a.current.setEnd(e),l()}s.current=e}),y.useEffect(function(){return function(){c()}},[c]),a.current}function Il(e){var t=y.useRef(null),n=y.useRef(e);n.current=e;var r=y.useCallback(function(){n.current()||(t.current=requestAnimationFrame(r))},[]);return[y.useMemo(function(){return r},[r]),y.useMemo(function(){return function(){return t.current&&cancelAnimationFrame(t.current)}},[])]}var Rl=function(t,n){return t?"rgba(255,255,255,"+(n>4?.15:.3)+")":"rgba(0, 26, 39, "+(n>4?.15:.3)+")"},Nr=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Ur(e){var t,n,r;return G({},e,{show:(t=e.show)!=null?t:!0,showLine:(n=e.showLine)!=null?n:!0,showLabel:(r=e.showLabel)!=null?r:!0})}function Ol(){var e,t,n=ve(),r=n.getOptions,i=(e=r().primaryCursor)!=null?e:!0,a=(t=r().secondaryCursor)!=null?t:!0,o=y.useMemo(function(){return Ur(i?typeof i=="boolean"?{}:i:{show:!1})},[i]),u=y.useMemo(function(){return Ur(a?typeof a=="boolean"?{}:a:{show:!1})},[a]);return y.createElement(y.Fragment,null,o.show&&y.createElement(Fr,{primary:!0,options:o}),u.show&&y.createElement(Fr,{options:u}))}function Fr(e){var t,n,r,i,a,o,u,l=ve(),c=l.getOptions,s=l.svgRef,h=l.gridDimensions,f=l.focusedDatumState,d=l.primaryAxis,p=l.secondaryAxes,g=yt(e.options),v=f[0],T=he(v,!!v),w=(t=p.find(function(Ae){return Ae.id===(T==null?void 0:T.secondaryAxisId)}))!=null?t:p[0],x=e.primary?d:w,D=e.primary?w:d,C=function(ct){var Yn;return ct?x.stacked?(Yn=ct.stackData)==null?void 0:Yn[1]:e.primary?ct.primaryValue:ct.secondaryValue:void 0},M=C(v);y.useEffect(function(){var Ae;(Ae=g())==null||Ae.onChange==null||Ae.onChange(M)},[g,M]);var N=(n=e.options.value)!=null?n:M,R=he(e.options.value,e.options.value!=null),P=he(C(T),C(T)!=null),$=R??P,b=D.scale.range(),E,k,I,j,Y,S,A,F,O=x.axisFamily==="band"?x.scale.bandwidth():1,X=typeof N<"u"&&!Number.isNaN(N),H=x.scale(N);if(x.isVertical){var W,B;k=H,Y=((W=k)!=null?W:0)-1,S=((B=k)!=null?B:0)+O,x.position==="left"?(I=b[0],j=b[1]):(I=b[1],j=b[0])}else{var q,re;E=H,I=((q=E)!=null?q:0)-1,j=((re=E)!=null?re:0)+O,x.position==="top"?(Y=b[0],S=b[1]):(Y=b[1],S=b[0])}var ae=Math.min(I,j),z=Math.min(Y,S),_=Math.max(I,j),U=Math.max(Y,S),L=Math.max(U-z,0),m=Math.max(_-ae,0),K,V;x.isVertical?(x.position==="left"?K=ae:K=_,V=z+L/2):(x.position==="top"?V=z:V=U,K=ae+m/2),x.isVertical?(F=-50,x.position==="left"?A=-100:A=0):(A=-50,x.position==="top"?F=-100:F=0);var Q=x.formatters.cursor($),Z=at(s.current,X),te=y.useRef(null),se=y.useRef(null),Vt=he(ae,H!=null),lt=he(z,H!=null),st=he(K,H!=null),Xe=he(V,H!=null),Yt=Ci(H),de=Yt==null&&H!==null;ae=(r=H!=null?ae:Vt)!=null?r:NaN,z=(i=H!=null?z:lt)!=null?i:NaN,K=(a=H!=null?K:st)!=null?a:NaN,V=(o=H!=null?V:Xe)!=null?o:NaN;var Ln=Re(ae,[1,210,20],function(){te.current&&(te.current.style.transform="translate("+Ln.x()+"px, "+In.x()+"px)")},de),In=Re(z,[1,210,20],function(){te.current&&(te.current.style.transform="translate("+Ln.x()+"px, "+In.x()+"px)")},de),Rn=Re(K,[1,210,20],function(){se.current&&(se.current.style.transform="translate("+Rn.x()+"px, "+On.x()+"px)")},de),On=Re(V,[1,210,20],function(){se.current&&(se.current.style.transform="translate("+Rn.x()+"px, "+On.x()+"px)")},de),Vn=Di();return Vn?Pr.createPortal(y.createElement("div",{style:{fontFamily:"sans-serif",pointerEvents:"none",position:"absolute",top:0,left:0,transform:je(Z.left+h.left,Z.top+h.top),opacity:X?1:0,transition:"opacity .3s ease"},className:"Cursor"},e.options.showLine?y.createElement("div",{ref:te,style:{width:m+"px",height:L+"px",position:"absolute",top:0,left:0,background:Rl((u=c().dark)!=null?u:!1,O)}}):null,e.options.showLabel?y.createElement("div",{ref:se,style:{position:"absolute",top:0,left:0}},y.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Nr(c().dark),color:Nr(!c().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+A+"%, "+F+"%, 0)",whiteSpace:"nowrap"}},Q)):null),Vn):null}var Vl={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function Yl(e){var t=at(e.portalEl,e.show),n=at(e.anchorEl,e.show),r=at(e.tooltipEl,e.show),i=y.useMemo(function(){var u=Array.isArray(e.side)?e.side:[e.side];return u.map(function(l){var c=l.split(" "),s=c[0],h=c[1],f=h===void 0?"center":h,d=!["top","right","bottom","left"].find(function(g){return s===g});if(d)throw new Error('react-sticker: "'+s+`" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`);var p=!["center","start","end","top","right","bottom","left"].find(function(g){return f===g});if(p)throw new Error('react-sticker: "'+f+`" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`);return[s,f]})},[JSON.stringify(e.side)]),a=t&&r&&n,o=y.useMemo(function(){return a&&e.show?Pl({portalDims:t,tooltipDims:r,anchorDims:n,sides:i,useLargest:e.useLargest}):null},[n,e.show,e.useLargest,t,a,i,r]);return{fit:o,style:G({position:"absolute",visibility:a?"visible":"hidden"},o==null?void 0:o.style)}}function Pl(e){var t=e.portalDims,n=e.tooltipDims,r=e.anchorDims,i=e.sides,a=e.useLargest,o=i.map(function(u){var l=u[0],c=u[1];return Bl(G({},Vl[l],{align:c,portalDims:t,tooltipDims:n,anchorDims:r}))});return a?(o.sort(function(u,l){return l.fitRatio-u.fitRatio}),o[0]):o.find(function(u){return u.fitRatio>=1})||o[0]}function Bl(e){var t,n=e.side,r=e.align,i=e.startKey,a=e.lengthKey,o=e.crossStartKey,u=e.crossLengthKey,l=e.fromEnd,c=e.portalDims,s=e.tooltipDims,h=e.anchorDims,f=c[i],d=c[a],p=c[o],g=c[u],v=h[i]-c[i],T=h[a],w=h[o],x=h[u],D=h[u],C=s[a],M=s[u],N,R;l?(N=v+T,R=(d-(v+T))/C):(N=v-C,R=Math.min(v/C)),N=Math.max(f,Math.min(N,d));var P;return i==="left"?r==="top"?r="start":r==="bottom"&&(r="end"):r==="left"?r="start":r==="right"&&(r="end"),["start","center","end"].includes(r)||(r="center"),r==="start"?P=w:r==="end"?P=w+D-M:P=w+x/2-M/2,P=Math.max(p,Math.min(P,g-M)),{side:n,align:r,startKey:i,lengthKey:a,crossStartKey:o,crossLengthKey:u,fromEnd:l,portalDims:c,tooltipDims:s,anchorDims:h,fitRatio:R,style:(t={},t[i]=N,t[o]=P,t)}}var Wl=10,ne=7,Lr=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Hl(e){return y.createElement(jl,e)}function jl(e){var t,n,r,i=he(e.anchor.fit,!!e.anchor.fit);if(!e.focusedDatum)return null;var a=e.primaryAxis,o=e.secondaryAxis,u=e.getDatumStyle,l=e.focusedDatum,c=e.secondaryAxes,s=e.getOptions(),h=s.tooltip,f=s.dark,d=((t=(n=e.focusedDatum)==null?void 0:n.tooltipGroup)!=null?t:[]).filter(function($){var b;return(b=h.showDatumInTooltip==null?void 0:h.showDatumInTooltip($))!=null?b:!0}),p=Wl,g=d.length,v=d.findIndex(function($){return $===l}),T=v>-1?v-p/2:0;T=Math.max(T,0);var w=v>-1?T+p:g;w=Math.min(w,g),T=Math.max(w-p,0);var x=d.slice(T,w),D=T>0,C=w<g,M=(i==null?void 0:i.side)+"-"+(i==null?void 0:i.align),N,R;N||(M==="left-center"?N="right":M==="right-center"?N="left":M==="top-center"?N="bottom":M==="bottom-center"?N="top":M==="right-start"?N="bottomLeft":M==="right-end"?N="topLeft":M==="left-start"?N="bottomRight":M==="left-end"&&(N="topRight"));var P=Lr(f);return N==="bottom"?R={top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:ne*.8+"px solid transparent",borderRight:ne*.8+"px solid transparent",borderTop:ne+"px solid "+P}:N==="top"?R={top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:ne*.8+"px solid transparent",borderRight:ne*.8+"px solid transparent",borderBottom:ne+"px solid "+P}:N==="right"?R={top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne+"px solid "+P}:N==="left"?R={top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne+"px solid "+P}:N==="topRight"?R={top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne*2+"px solid "+P}:N==="bottomRight"?R={top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderLeft:ne*2+"px solid "+P}:N==="topLeft"?R={top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne*2+"px solid "+P}:N==="bottomLeft"?R={top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:ne*.8+"px solid transparent",borderBottom:ne*.8+"px solid transparent",borderRight:ne*2+"px solid "+P}:R={opacity:0},y.createElement("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:Lr(f),color:f?"black":"white",borderRadius:"3px"}},y.createElement("div",{style:G({position:"absolute",width:0,height:0},R)}),y.createElement("div",null,y.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},h.groupingMode==="series"?y.createElement("strong",null,l.seriesLabel):h.groupingMode==="secondary"?y.createElement("strong",null,o.formatters.tooltip(l.secondaryValue)):y.createElement("strong",null,a.formatters.tooltip(l.primaryValue))),y.createElement("table",{style:{whiteSpace:"nowrap"}},y.createElement("tbody",null,D?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,x.map(function($,b){var E=$===l,k=c.find(function(I){return I.id===$.secondaryAxisId});return y.createElement("tr",{key:b,style:{opacity:E?1:.8,fontWeight:E?"bold":void 0}},y.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},y.createElement("svg",{width:"14",height:"14"},y.createElement("circle",{cx:"7",cy:"7",r:"5",style:G({},u($),{stroke:f?"black":"white",strokeWidth:E?2:1})}))),h.groupingMode==="series"?y.createElement(y.Fragment,null,y.createElement("td",null,a.formatters.tooltip($.primaryValue),":  "),y.createElement("td",{style:{textAlign:"right"}},k.formatters.tooltip($.secondaryValue))):h.groupingMode==="secondary"?y.createElement(y.Fragment,null,y.createElement("td",null,$.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},a.formatters.tooltip($.primaryValue))):y.createElement(y.Fragment,null,y.createElement("td",null,$.seriesLabel,":  "),y.createElement("td",{style:{textAlign:"right"}},k.formatters.tooltip($.secondaryValue))))}),C?y.createElement("tr",{style:{opacity:.8}},y.createElement("td",null),y.createElement("td",null,"..."),y.createElement("td",null)):null,((r=l.tooltipGroup)!=null?r:[]).length>1?e.secondaryAxes.filter(function($){return $.stacked}).map(function($,b){var E,k;return y.createElement("tr",{key:$.id+"_"+b},y.createElement("td",{style:{paddingTop:"5px"}},y.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:f?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),y.createElement("td",{style:{paddingTop:"5px"}},e.secondaryAxes.length>1?(E=$.id)!=null?E:"Axis "+(b+1)+" ":"","Total:  "),y.createElement("td",{style:{paddingTop:"5px"}},$.formatters.scale(ce((k=l.tooltipGroup)!=null?k:[],function(I){return I.secondaryValue}))))}):null))))}var zl=["visibility"];function Kl(e){var t,n,r,i,a,o;return e===void 0&&(e={}),e===!0?e={show:!0}:e===!1&&(e={show:!1}),G({show:!0},e,{align:(t=e.align)!=null?t:"auto",alignPriority:(n=e.alignPriority)!=null?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:(r=e.padding)!=null?r:5,arrowPadding:(i=e.arrowPadding)!=null?i:7,render:(a=e.render)!=null?a:Hl,showDatumInTooltip:(o=e.showDatumInTooltip)!=null?o:function(){return!0}})}function Gl(){var e,t,n=ve(),r=n.focusedDatumState,i=n.getOptions,a=n.primaryAxis,o=n.secondaryAxes,u=n.getDatumStatusStyle,l=n.svgRef,c=r[0],s=he(c,!!c),h=(e=o.find(function(k){return k.id===(s==null?void 0:s.secondaryAxisId)}))!=null?e:o[0],f=Di(),d=y.useState(),p=d[0],g=d[1],v=at(l.current,!!(c!=null&&c.element)),T=y.useMemo(function(){var k,I,j,Y,S,A,F=(k=s==null||(I=s.element)==null?void 0:I.getBoundingClientRect())!=null?k:null;if(!F)return null;if(v){var O=(j=F.left)!=null?j:0,X=(Y=F.top)!=null?Y:0,H=(S=F.width)!=null?S:0,W=(A=F.height)!=null?A:0,B=document.createElement("div");return B.getBoundingClientRect=function(){return{x:O,y:X,width:H,height:W,top:X,left:O,bottom:X+H,right:O+W}},B}},[s==null?void 0:s.element,v]),w=Yl({show:!!c,portalEl:f,anchorEl:T,tooltipEl:p,side:["right","left","top","bottom"]}),x=Ci(w),D=(t=he(w,!!w.fit))!=null?t:w,C=D.style;C.visibility;var M=Br(C,zl),N=y.useRef(null),R=Number.isNaN(x==null?void 0:x.style.left),P=Re(M.left||0,[1,210,30],function(){N.current&&(N.current.style.transform="translate("+P.x()+"px, "+$.x()+"px)")},R),$=Re(M.top||0,[1,210,30],function(){N.current&&(N.current.style.transform="translate("+P.x()+"px, "+$.x()+"px)")},R),b=i().tooltip.show,E=he(w.fit,!!w.fit);return b&&f?Pr.createPortal(y.createElement("div",{ref:N,style:{position:M.position,opacity:c?1:0,transition:"opacity .3s ease"}},y.createElement("div",{ref:function(I){return g(I)},style:G({fontFamily:"sans-serif"},(E==null?void 0:E.startKey)==="left"?{padding:"0 10px"}:{padding:"10px 0"})},i().tooltip.render({getOptions:i,focusedDatum:s,primaryAxis:a,secondaryAxes:o,secondaryAxis:h,getDatumStyle:function(I){return u(I,c)},anchor:w}))),f):null}const Ir=Math.pow(2,-52),ht=new Uint32Array(512);class kt{static from(t,n=Jl,r=es){const i=t.length,a=new Float64Array(i*2);for(let o=0;o<i;o++){const u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new kt(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,o=t.length>>1;let u=1/0,l=1/0,c=-1/0,s=-1/0;for(let $=0;$<o;$++){const b=t[2*$],E=t[2*$+1];b<u&&(u=b),E<l&&(l=E),b>c&&(c=b),E>s&&(s=E),this._ids[$]=$}const h=(u+c)/2,f=(l+s)/2;let d=1/0,p,g,v;for(let $=0;$<o;$++){const b=Jt(h,f,t[2*$],t[2*$+1]);b<d&&(p=$,d=b)}const T=t[2*p],w=t[2*p+1];d=1/0;for(let $=0;$<o;$++){if($===p)continue;const b=Jt(T,w,t[2*$],t[2*$+1]);b<d&&b>0&&(g=$,d=b)}let x=t[2*g],D=t[2*g+1],C=1/0;for(let $=0;$<o;$++){if($===p||$===g)continue;const b=Zl(T,w,x,D,t[2*$],t[2*$+1]);b<C&&(v=$,C=b)}let M=t[2*v],N=t[2*v+1];if(C===1/0){for(let E=0;E<o;E++)this._dists[E]=t[2*E]-t[0]||t[2*E+1]-t[1];Oe(this._ids,this._dists,0,o-1);const $=new Uint32Array(o);let b=0;for(let E=0,k=-1/0;E<o;E++){const I=this._ids[E];this._dists[I]>k&&($[b++]=I,k=this._dists[I])}this.hull=$.subarray(0,b),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(dt(T,w,x,D,M,N)){const $=g,b=x,E=D;g=v,x=M,D=N,v=$,M=b,N=E}const R=Ql(T,w,x,D,M,N);this._cx=R.x,this._cy=R.y;for(let $=0;$<o;$++)this._dists[$]=Jt(t[2*$],t[2*$+1],R.x,R.y);Oe(this._ids,this._dists,0,o-1),this._hullStart=p;let P=3;r[p]=n[v]=g,r[g]=n[p]=v,r[v]=n[g]=p,i[p]=0,i[g]=1,i[v]=2,a.fill(-1),a[this._hashKey(T,w)]=p,a[this._hashKey(x,D)]=g,a[this._hashKey(M,N)]=v,this.trianglesLen=0,this._addTriangle(p,g,v,-1,-1,-1);for(let $=0,b,E;$<this._ids.length;$++){const k=this._ids[$],I=t[2*k],j=t[2*k+1];if($>0&&Math.abs(I-b)<=Ir&&Math.abs(j-E)<=Ir||(b=I,E=j,k===p||k===g||k===v))continue;let Y=0;for(let X=0,H=this._hashKey(I,j);X<this._hashSize&&(Y=a[(H+X)%this._hashSize],!(Y!==-1&&Y!==r[Y]));X++);Y=n[Y];let S=Y,A;for(;A=r[S],!dt(I,j,t[2*S],t[2*S+1],t[2*A],t[2*A+1]);)if(S=A,S===Y){S=-1;break}if(S===-1)continue;let F=this._addTriangle(S,k,r[S],-1,-1,i[S]);i[k]=this._legalize(F+2),i[S]=F,P++;let O=r[S];for(;A=r[O],dt(I,j,t[2*O],t[2*O+1],t[2*A],t[2*A+1]);)F=this._addTriangle(O,k,A,i[k],-1,i[O]),i[k]=this._legalize(F+2),r[O]=O,P--,O=A;if(S===Y)for(;A=n[S],dt(I,j,t[2*A],t[2*A+1],t[2*S],t[2*S+1]);)F=this._addTriangle(A,k,S,-1,i[S],i[A]),this._legalize(F+2),i[A]=F,r[S]=S,P--,S=A;this._hullStart=n[k]=S,r[S]=n[O]=k,r[k]=O,a[this._hashKey(I,j)]=k,a[this._hashKey(t[2*S],t[2*S+1])]=S}this.hull=new Uint32Array(P);for(let $=0,b=this._hullStart;$<P;$++)this.hull[$]=b,b=r[b];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Xl(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,o=0;for(;;){const u=r[t],l=t-t%3;if(o=l+(t+2)%3,u===-1){if(a===0)break;t=ht[--a];continue}const c=u-u%3,s=l+(t+1)%3,h=c+(u+2)%3,f=n[o],d=n[t],p=n[s],g=n[h];if(ql(i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[u]=f;const T=r[h];if(T===-1){let x=this._hullStart;do{if(this._hullTri[x]===h){this._hullTri[x]=t;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(t,T),this._link(u,r[o]),this._link(o,h);const w=c+(u+1)%3;a<ht.length&&(ht[a++]=w)}else{if(a===0)break;t=ht[--a]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,o){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,a),this._link(u+2,o),this.trianglesLen+=3,u}}function Xl(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Jt(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function en(e,t,n,r,i,a){const o=(r-t)*(i-e),u=(n-e)*(a-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function dt(e,t,n,r,i,a){return(en(i,a,e,t,n,r)||en(e,t,n,r,i,a)||en(n,r,i,a,e,t))<0}function ql(e,t,n,r,i,a,o,u){const l=e-o,c=t-u,s=n-o,h=r-u,f=i-o,d=a-u,p=l*l+c*c,g=s*s+h*h,v=f*f+d*d;return l*(h*v-g*d)-c*(s*v-g*f)+p*(s*d-h*f)<0}function Zl(e,t,n,r,i,a){const o=n-e,u=r-t,l=i-e,c=a-t,s=o*o+u*u,h=l*l+c*c,f=.5/(o*c-u*l),d=(c*s-u*h)*f,p=(o*h-l*s)*f;return d*d+p*p}function Ql(e,t,n,r,i,a){const o=n-e,u=r-t,l=i-e,c=a-t,s=o*o+u*u,h=l*l+c*c,f=.5/(o*c-u*l),d=e+(c*s-u*h)*f,p=t+(o*h-l*s)*f;return{x:d,y:p}}function Oe(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],o=t[a];let u=i-1;for(;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{const i=n+r>>1;let a=n+1,o=r;rt(e,i,a),t[e[n]]>t[e[r]]&&rt(e,n,r),t[e[a]]>t[e[r]]&&rt(e,a,r),t[e[n]]>t[e[a]]&&rt(e,n,a);const u=e[a],l=t[u];for(;;){do a++;while(t[e[a]]<l);do o--;while(t[e[o]]>l);if(o<a)break;rt(e,a,o)}e[n+1]=e[o],e[o]=u,r-a+1>=o-n?(Oe(e,t,a,r),Oe(e,t,n,o-1)):(Oe(e,t,n,o-1),Oe(e,t,a,r))}}function rt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Jl(e){return e[0]}function es(e){return e[1]}const Rr=1e-6;class _e{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>Rr||Math.abs(this._y1-a)>Rr)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class gn{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let ts=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let d=0,p=0,g=r.length,v,T;d<g;d+=3,p+=2){const w=r[d]*2,x=r[d+1]*2,D=r[d+2]*2,C=t[w],M=t[w+1],N=t[x],R=t[x+1],P=t[D],$=t[D+1],b=N-C,E=R-M,k=P-C,I=$-M,j=b*b+E*E,Y=k*k+I*I,S=(b*I-E*k)*2;if(!S)v=(C+P)/2-1e8*I,T=(M+$)/2+1e8*k;else if(Math.abs(S)<1e-8)v=(C+P)/2,T=(M+$)/2;else{const A=1/S;v=C+(I*j-E*Y)*A,T=M+(b*Y-k*j)*A}a[p]=v,a[p+1]=T}let o=n[n.length-1],u,l=o*4,c,s=t[2*o],h,f=t[2*o+1];i.fill(0);for(let d=0;d<n.length;++d)o=n[d],u=l,c=s,h=f,l=o*4,s=t[2*o],f=t[2*o+1],i[u+2]=i[l]=h-f,i[u+3]=i[l+1]=s-c}render(t){const n=t==null?t=new _e:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:o,vectors:u}=this;if(a.length<=1)return null;for(let s=0,h=r.length;s<h;++s){const f=r[s];if(f<s)continue;const d=Math.floor(s/3)*2,p=Math.floor(f/3)*2,g=o[d],v=o[d+1],T=o[p],w=o[p+1];this._renderSegment(g,v,T,w,t)}let l,c=a[a.length-1];for(let s=0;s<a.length;++s){l=c,c=a[s];const h=Math.floor(i[c]/3)*2,f=o[h],d=o[h+1],p=l*4,g=this._project(f,d,u[p+2],u[p+3]);g&&this._renderSegment(f,d,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new _e:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new _e:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let o=2;o<a;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&n.lineTo(i[o],i[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new gn;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let o;const u=this._regioncode(t,n),l=this._regioncode(r,i);u===0&&l===0?(a.moveTo(t,n),a.lineTo(r,i)):(o=this._clipSegment(t,n,r,i,u,l))&&(a.moveTo(o[0],o[1]),a.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,o=n.length;a<o;a+=2)for(let u=0,l=i.length;u<l;u+=2)if(n[a]==i[u]&&n[a+1]==i[u+1]&&n[(a+2)%o]==i[(u+l-2)%l]&&n[(a+3)%o]==i[(u+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,o=r[t];if(o===-1)return null;const u=[];let l=o;do{const c=Math.floor(l/3);if(u.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,a[l]!==t)break;l=i[l]}while(l!==o&&l!==-1);return u}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n)}_clipFinite(t,n){const r=n.length;let i=null,a,o,u=n[r-2],l=n[r-1],c,s=this._regioncode(u,l),h,f;for(let d=0;d<r;d+=2)if(a=u,o=l,u=n[d],l=n[d+1],c=s,s=this._regioncode(u,l),c===0&&s===0)h=f,f=0,i?i.push(u,l):i=[u,l];else{let p,g,v,T,w;if(c===0){if((p=this._clipSegment(a,o,u,l,c,s))===null)continue;[g,v,T,w]=p}else{if((p=this._clipSegment(u,l,a,o,s,c))===null)continue;[T,w,g,v]=p,h=f,f=this._edgecode(g,v),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(g,v):i=[g,v]}h=f,f=this._edgecode(T,w),h&&f&&this._edge(t,h,f,i,i.length),i?i.push(T,w):i=[T,w]}if(i)h=f,f=this._edgecode(i[0],i[1]),h&&f&&this._edge(t,h,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,o){for(;;){if(a===0&&o===0)return[t,n,r,i];if(a&o)return null;let u,l,c=a||o;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),a?(t=u,n=l,a=this._regioncode(t,n)):(r=u,i=l,o=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,o){let u=Array.from(n),l;if((l=this._project(u[0],u[1],r,i))&&u.unshift(l[0],l[1]),(l=this._project(u[u.length-2],u[u.length-1],a,o))&&u.push(l[0],l[1]),u=this._clipFinite(t,u))for(let c=0,s=u.length,h,f=this._edgecode(u[s-2],u[s-1]);c<s;c+=2)h=f,f=this._edgecode(u[c],u[c+1]),h&&f&&(c=this._edge(t,h,f,u,c),s=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,r,i,a){for(;n!==r;){let o,u;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,u=this.ymin;break}(i[a]!==o||i[a+1]!==u)&&this.contains(t,o,u)&&(i.splice(a,0,o,u),a+=2)}if(i.length>4)for(let o=0;o<i.length;o+=2){const u=(o+2)%i.length,l=(o+4)%i.length;(i[o]===i[u]&&i[u]===i[l]||i[o+1]===i[u+1]&&i[u+1]===i[l+1])&&(i.splice(u,2),o-=2)}return a}_project(t,n,r,i){let a=1/0,o,u,l;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<a&&(l=this.ymin,u=t+(a=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<a&&(l=this.ymax,u=t+(a=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<a&&(u=this.xmax,l=n+(a=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<a&&(u=this.xmin,l=n+(a=o)*i)}return[u,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}};const ns=2*Math.PI,Le=Math.pow;function rs(e){return e[0]}function is(e){return e[1]}function as(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}function os(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Fn{static from(t,n=rs,r=is,i){return new Fn("length"in t?us(t,n,r,i):Float64Array.from(ls(t,n,r,i)))}constructor(t){this._delaunator=new kt(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&as(t)){this.collinear=Int32Array.from({length:n.length/2},(f,d)=>d).sort((f,d)=>n[2*f]-n[2*d]||n[2*f+1]-n[2*d+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],s=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],h=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let f=0,d=n.length/2;f<d;++f){const p=os(n[2*f],n[2*f+1],h);n[2*f]=p[0],n[2*f+1]=p[1]}this._delaunator=new kt(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const s=a[l%3===2?l-2:l+1];(r[l]===-1||o[s]===-1)&&(o[s]=l)}for(let l=0,c=i.length;l<c;++l)u[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,i.length===2&&(o[i[1]]=0))}voronoi(t){return new ts(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:o,collinear:u}=this;if(u){const h=u.indexOf(t);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const l=n[t];if(l===-1)return;let c=l,s=-1;do{if(yield s=o[c],c=c%3===2?c-2:c+1,o[c]!==t)return;if(c=a[c],c===-1){const h=r[(i[t]+1)%r.length];h!==s&&(yield h);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:o,halfedges:u,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let s=t,h=Le(n-c[t*2],2)+Le(r-c[t*2+1],2);const f=i[t];let d=f;do{let p=l[d];const g=Le(n-c[p*2],2)+Le(r-c[p*2+1],2);if(g<h&&(h=g,s=p),d=d%3===2?d-2:d+1,l[d]!==t)break;if(d=u[d],d===-1){if(d=a[(o[t]+1)%a.length],d!==p&&Le(n-c[d*2],2)+Le(r-c[d*2+1],2)<h)return d;break}}while(d!==f);return s}render(t){const n=t==null?t=new _e:void 0,{points:r,halfedges:i,triangles:a}=this;for(let o=0,u=i.length;o<u;++o){const l=i[o];if(l<o)continue;const c=a[o]*2,s=a[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[s],r[s+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const r=t==null?t=new _e:void 0,{points:i}=this;for(let a=0,o=i.length;a<o;a+=2){const u=i[a],l=i[a+1];t.moveTo(u+n,l),t.arc(u,l,n,0,ns)}return r&&r.value()}renderHull(t){const n=t==null?t=new _e:void 0,{hull:r,points:i}=this,a=r[0]*2,o=r.length;t.moveTo(i[a],i[a+1]);for(let u=1;u<o;++u){const l=2*r[u];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new gn;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new _e:void 0,{points:i,triangles:a}=this,o=a[t*=3]*2,u=a[t+1]*2,l=a[t+2]*2;return n.moveTo(i[o],i[o+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new gn;return this.renderTriangle(t,n),n.value()}}function us(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let o=0;o<i;++o){const u=e[o];a[o*2]=t.call(r,u,o,e),a[o*2+1]=n.call(r,u,o,e)}return a}function*ls(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function ss(){var e=ve(),t=e.getOptions,n=e.focusedDatumState,r=e.isInteractingState,i=n[1],a=r[0],o=t(),u=o.onFocusDatum,l=o.onClickDatum,c=o.tooltip,s=o.primaryCursor,h=o.secondaryCursor,f=o.showVoronoi,d=o.interactionMode,p=y.useCallback(function(T){var w,x;(w=(x=t()).onFocusDatum)==null||w.call(x,T),i(T)},[t,i]),g=a&&(f||u||l||c||s||h);if(!g)return null;var v={handleFocus:p};return d==="closest"?y.createElement(hs,v):y.createElement(cs,v)}function cs(e){var t=e.handleFocus,n=ve(),r=n.primaryAxis,i=n.secondaryAxes,a=n.getOptions,o=n.gridDimensions,u=n.datumsByInteractionGroup,l=i.length===1&&i[0].stacked,c=i.every(function(s){return s.elementType==="bar"&&!s.stacked});return y.useMemo(function(){var s=Array.from(u.entries()).map(function(f){f[0];var d=f[1];return d}).filter(function(f){var d=f[0];if(d){var p=d.primaryValue;return p!=="undefined"&&p!==null}}).sort(function(f,d){var p=i.find(function(w){return w.id===f[0].secondaryAxisId}),g=i.find(function(w){return w.id===d[0].secondaryAxisId}),v=we(f[0],r,p,c),T=we(d[0],r,g,c);return v-T});r.isVertical&&s.reverse();var h=s.map(function(f,d,p){var g,v=f[0],T=p[d-1],w=p[d+1],x=i.find(function(E){return E.id===v.secondaryAxisId}),D=we(v,r,x,c),C=(g=r==null?void 0:r.scale.range())!=null?g:[0,0],M=C[0],N=C[1];if(T){var R=i.find(function(E){return E.id===T[0].secondaryAxisId}),P=we(T[0],r,R,c);M=D-(D-P)/2}if(w){var $=i.find(function(E){return E.id===w[0].secondaryAxisId}),b=we(w[0],r,$,c);N=D+(b-D)/2}return{primaryStart:M,primaryEnd:N,primaryPx:D,datumBoundaries:f.filter(function(E){var k=E.secondaryValue;return typeof k<"u"&&k!==null}).map(function(E,k,I){var j,Y,S,A=I[k-1],F=I[k+1],O=i.find(function(de){return de.id===E.secondaryAxisId});if(l){var X,H,W,B=(X=O==null?void 0:O.scale.range())!=null?X:[0,0],q=[(H=E.stackData)==null?void 0:H[0],(W=E.stackData)==null?void 0:W[1]];O!=null&&O.isVertical&&(B.reverse(),q.reverse());var re=B[0],ae=B[1];if(A){var z,_;re=(z=O==null?void 0:O.scale((_=q[0])!=null?_:NaN))!=null?z:NaN}if(F){var U,L;ae=(U=O==null?void 0:O.scale((L=q[1])!=null?L:NaN))!=null?U:NaN}return{secondaryStart:re,secondaryEnd:ae,datum:E}}var m=(j=O==null?void 0:O.scale(O.stacked?(Y=E.stackData)==null?void 0:Y[1]:E.secondaryValue))!=null?j:NaN,K=(S=O==null?void 0:O.scale.range())!=null?S:[0,0];O!=null&&O.isVertical&&K.reverse();var V=K[0],Q=K[1];if(A){var Z,te,se=i.find(function(de){return de.id===(A==null?void 0:A.secondaryAxisId)}),Vt=(Z=se==null?void 0:se.scale(se.stacked?(te=A.stackData)==null?void 0:te[1]:A.secondaryValue))!=null?Z:NaN;V=m-(m-Vt)/2}if(F){var lt,st,Xe=i.find(function(de){return de.id===(F==null?void 0:F.secondaryAxisId)}),Yt=(lt=Xe==null?void 0:Xe.scale(Xe.stacked?(st=F.stackData)==null?void 0:st[1]:F.secondaryValue))!=null?lt:NaN;Q=m+(Yt-m)/2}return{secondaryStart:V,secondaryEnd:Q,datum:E}})}});return y.createElement("g",{onMouseLeave:function(){return t(null)},style:{transform:je(o.left,o.top)}},h.map(function(f,d){return y.createElement("g",{key:f.primaryPx+"_"+d},f.datumBoundaries.map(function(p,g){var v=r.isVertical?p.secondaryStart:f.primaryStart,T=r.isVertical?p.secondaryEnd:f.primaryEnd,w=r.isVertical?f.primaryStart:p.secondaryStart,x=r.isVertical?f.primaryEnd:p.secondaryEnd,D=Math.min(v,T),C=Math.min(w,x),M=Math.max(v,T),N=Math.max(w,x),R=Math.max(N-C,0),P=Math.max(M-D,0);return y.createElement("rect",{key:g,x:D,y:C,width:P,height:R,className:"action-voronoi",onMouseEnter:function(){return t(p.datum)},style:{fill:a().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:a().dark?"white":"black",opacity:a().showVoronoi?1:0}})}))}))},[u,r,o.left,o.top,i,c,l,t,a])}var fs=Tn();function hs(e){var t=e.handleFocus,n=ve(),r=n.primaryAxis,i=n.series,a=n.secondaryAxes,o=n.getOptions,u=n.gridDimensions,l=null,c=[],s=a.every(function(d){return d.elementType==="bar"&&!d.stacked});i.forEach(function(d){d.datums.filter(function(p){var g=p.primaryValue,v=p.secondaryValue;return g!=="undefined"&&g!==null&&v!=="undefined"&&v!==null}).forEach(function(p){var g=a.find(function(w){return w.id===p.secondaryAxisId}),v=ds(p,r,g,s),T=ms(p,r,g,s);typeof v!="number"||typeof T!="number"||Number.isNaN(T)||Number.isNaN(v)||c.push({x:v,y:T,datum:p})})});var h=Fn.from(c,function(d){return Math.max(d.x,0)},function(d){return Math.max(d.y,0)}),f=h.voronoi([0,0,u.width,u.height]);return l=f.cellPolygons(),l=Array.from(l),y.createElement("g",{onMouseLeave:function(){return t(null)},style:{transform:je(u.left,u.top)}},l.map(function(d,p){var g=d.index,v=c[g].datum,T=fs(d)||void 0;return y.createElement("path",{key:p,d:T,className:"action-voronoi",onMouseEnter:function(){return t(v)},style:{fill:o().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:o().dark?"white":"black",opacity:o().showVoronoi?1:0}})}))}function ds(e,t,n,r){return t.isVertical?$i(e,n):we(e,t,n,r)}function ms(e,t,n,r){return t.isVertical?we(e,t,n,r):$i(e,n)}function we(e,t,n,r){var i,a=(i=t.scale(e.primaryValue))!=null?i:NaN;if(r&&n.elementType==="bar")if(n.stacked)a+=ti(e,t)/2;else{var o;a+=(o=t.seriesBandScale(e.seriesIndex))!=null?o:NaN,a+=bn(e,t,n)/2}return a}function $i(e,t){var n;if(t.stacked){var r,i,a;return(r=t.scale((i=(a=e.stackData)==null?void 0:a[1])!=null?i:NaN))!=null?r:NaN}return(n=t.scale(e.secondaryValue))!=null?n:NaN}var gs=["options","className","style"],ps=["#0f83ab","#faa43a","#fd6868","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"],it=5;function vs(e){var t,n,r,i,a,o,u,l,c,s,h;return G({},e,{initialWidth:(t=e.initialWidth)!=null?t:300,initialHeight:(n=e.initialHeight)!=null?n:200,getSeriesOrder:(r=e.getSeriesOrder)!=null?r:function(f){return f},interactionMode:(i=e.interactionMode)!=null?i:"primary",showVoronoi:(a=e.showVoronoi)!=null?a:!1,defaultColors:(o=e.defaultColors)!=null?o:ps,useIntersectionObserver:(u=e.useIntersectionObserver)!=null?u:!1,intersectionObserverRootMargin:(l=e.intersectionObserverRootMargin)!=null?l:"1000px",primaryCursor:(c=e.primaryCursor)!=null?c:!0,secondaryCursor:(s=e.secondaryCursor)!=null?s:!0,padding:(h=e.padding)!=null?h:it})}function _s(e){var t=e.options,n=e.className,r=e.style,i=r===void 0?{}:r,a=Br(e,gs),o=vs(t),u=y.useState(null),l=u[0],c=u[1],s=l==null?void 0:l.parentElement,h=y.useMemo(function(){var D=function C(M){if(!M)return null;var N=M.parentElement;if(!N)return null;if(N.scrollHeight>N.clientHeight){var R=window.getComputedStyle(N),P=R.overflow;if(P.includes("scroll")||P.includes("auto"))return N}return C(N)};return D(s)},[s]),f=y.useState({width:o.initialWidth,height:o.initialHeight}),d=f[0],p=d.width,g=d.height,v=f[1];ut(function(){if(s){var D=window.getComputedStyle(s);["relative","absolute","fixed"].includes(D.position)||(s.style.position="relative")}},[s]),y.useEffect(function(){if(s){var D=new ResizeObserver(function(){var C=s==null?void 0:s.getBoundingClientRect(),M=window.getComputedStyle(s);C&&v({width:C.width-parseInt(M.borderLeftWidth)-parseInt(M.borderRightWidth),height:C.height-parseInt(M.borderTopWidth)-parseInt(M.borderBottomWidth)})});return D.observe(s),function(){D.unobserve(s)}}},[s]);var T=y.useState(!0),w=T[0],x=T[1];return y.useEffect(function(){if(!(!s||!o.useIntersectionObserver)){var D=new IntersectionObserver(function(C){for(var M=Ha(C),N;!(N=M()).done;){var R=N.value;R.isIntersecting?x(!0):x(!1)}},{root:h,rootMargin:o.intersectionObserverRootMargin});return D.observe(s),function(){D.unobserve(s)}}},[s,h,o.intersectionObserverRootMargin,o.useIntersectionObserver]),y.createElement("div",G({ref:c},a,{className:"ReactChart "+(n||""),style:G({fontFamily:"sans-serif"},i,{position:"absolute",width:p,height:g})}),o.useIntersectionObserver&&!w?null:y.createElement(ys,{options:o,width:p,height:g}))}function ys(e){var t,n,r=e.options,i=e.width,a=e.height;if(!r.primaryAxis)throw new Error("A primaryAxis is required");if(!r.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var o=y.useMemo(function(){var S=Or(r.primaryAxis,r.data),A=Vr(r.primaryAxis,S);return G({position:"bottom"},A)},[r.data,r.primaryAxis]),u=y.useMemo(function(){return r.secondaryAxes.map(function(S,A){var F=Or(S,r.data),O=Vr(S,F);return O.elementType||(o.scaleType==="band"?O.elementType="bar":O.stacked&&(O.elementType="area")),typeof O.stacked>"u"&&O.elementType&&["area"].includes(O.elementType)&&(O.stacked=!0),G({position:A?"right":"left"},O)})},[r.data,r.secondaryAxes,o]),l=y.useMemo(function(){var S,A,F=Kl((S=r)==null?void 0:S.tooltip);return F.groupingMode=(A=F.groupingMode)!=null?A:function(){return r.interactionMode==="closest"?"single":"primary"}(),F},[r.interactionMode,(t=r)==null?void 0:t.tooltip]);r=G({},r,{tooltip:l});var c=y.useRef(null),s=yt(G({},r,{tooltip:l})),h=y.useState({left:{},right:{},top:{},bottom:{}}),f=h[0],d=y.useState(!1),p=d[0],g=y.useState(null),v=g[0],T=y.useMemo(function(){var S,A,F,O,X={left:typeof r.padding=="object"?(S=r.padding.left)!=null?S:it:r.padding,right:typeof r.padding=="object"?(A=r.padding.right)!=null?A:it:r.padding,bottom:typeof r.padding=="object"?(F=r.padding.bottom)!=null?F:it:r.padding,top:typeof r.padding=="object"?(O=r.padding.top)!=null?O:it:r.padding},H=X.left+Math.max(ce(Object.values(f.left),function(z){return z.width}),ce(Object.values(f.top),function(z){return z.paddingLeft}),ce(Object.values(f.bottom),function(z){return z.paddingLeft})),W=X.top+Math.max(ce(Object.values(f.top),function(z){return z.height}),ce(Object.values(f.left),function(z){return z.paddingTop}),ce(Object.values(f.right),function(z){return z.paddingTop})),B=X.right+Math.max(ce(Object.values(f.right),function(z){return z.width}),ce(Object.values(f.top),function(z){return z.paddingRight}),ce(Object.values(f.bottom),function(z){return z.paddingRight})),q=X.bottom+Math.max(ce(Object.values(f.bottom),function(z){return z.height}),ce(Object.values(f.left),function(z){return z.paddingBottom}),ce(Object.values(f.right),function(z){return z.paddingBottom})),re=Math.max(0,i-H-B),ae=Math.max(0,a-W-q);return{left:H,top:W,right:B,bottom:q,width:re,height:ae}},[r.padding,f.left,f.top,f.bottom,f.right,i,a]),w=y.useMemo(function(){for(var S=[],A={},F=0;F<r.data.length;F++){var O,X,H,W=r.data[F],B=(O=W.id)!=null?O:F+"",q=(X=W.label)!=null?X:"Series "+(F+1),re=W.secondaryAxisId,ae=W.data,z=[];A[""+re]=(H=A[""+re])!=null?H:0;var _=A[""+re];A[""+re]++;for(var U=0;U<ae.length;U++){var L=ae[U];z[U]={originalSeries:W,seriesIndex:F,seriesIndexPerAxis:_,seriesId:B,seriesLabel:q,secondaryAxisId:re,index:U,originalDatum:L}}S[F]={originalSeries:W,index:F,id:B,label:q,indexPerAxis:_,secondaryAxisId:re,datums:z}}return S},[r.data]),x=y.useMemo(function(){return w.map(function(S){return S.datums}).flat(2)},[w]),D=y.useMemo(function(){return Er(!0,o,w,x,T,i,a)},[x,T,a,o,w,i]),C=y.useMemo(function(){return u.map(function(S){return Er(!1,S,w,x,T,i,a)})},[x,T,a,u,w,i]),M=y.useMemo(function(){if(!p)return[new Map,new Map];var S=new Map,A=new Map,F=C.every(function(W){return W.elementType==="bar"&&!W.stacked}),O=function(B){if(F){var q=C.find(function(re){return re.id===B.secondaryAxisId});if(q.elementType==="bar"&&!q.stacked)return wn(B,D,q)}return B.primaryValue},X=function(B){return""+O(B)},H=function(B){return""+B.primaryValue};return r.interactionMode==="closest"&&(X=function(B){return O(B)+"_"+B.secondaryValue}),l.groupingMode==="single"?H=function(B){return B.primaryValue+"_"+B.secondaryValue}:l.groupingMode==="secondary"?H=function(B){return""+B.secondaryValue}:l.groupingMode==="series"&&(H=function(B){return""+B.seriesIndex}),x.forEach(function(W){var B=X(W),q=H(W);S.has(B)||S.set(B,[]),A.has(q)||A.set(q,[]),S.get(B).push(W),A.get(q).push(W)}),S.forEach(function(W,B){S.set(B,Yr(W,C))}),A.forEach(function(W,B){A.set(B,Yr(W,C))}),x.forEach(function(W){var B=X(W),q=H(W);W.interactiveGroup=S.get(B),W.tooltipGroup=A.get(q)}),[S,A]},[p,x,r.interactionMode,D,C,l.groupingMode]),N=M[0],R=M[1],P=y.useCallback(function(S,A){var F,O,X,H={color:s().defaultColors[S.index%s().defaultColors.length]},W=uo(S,A),B=(F=(O=(X=s()).getSeriesStyle)==null?void 0:O.call(X,S,W))!=null?F:{};return S.style=ln(B,H),S.style},[s]),$=y.useCallback(function(S,A){var F,O,X,H,W=G({},(F=w[S.seriesIndex])==null?void 0:F.style,{color:s().defaultColors[S.seriesIndex%s().defaultColors.length]}),B=lo(S,A),q=(O=(X=(H=s()).getDatumStyle)==null?void 0:X.call(H,S,B))!=null?O:{};return S.style=ln(q,W),S.style},[s,w]),b=y.useMemo(function(){var S=[].concat(w).reverse();return s().getSeriesOrder(S)},[s,w]);ut(function(){c.current&&c.current.parentElement&&!c.current.parentElement.style.position&&(c.current.parentElement.style.position="relative")});var E={getOptions:s,gridDimensions:T,primaryAxis:D,secondaryAxes:C,series:w,orderedSeries:b,datumsByInteractionGroup:N,datumsByTooltipGroup:R,width:i,height:a,getSeriesStatusStyle:P,getDatumStatusStyle:$,axisDimensionsState:h,focusedDatumState:g,svgRef:c,isInteractingState:d},k=y.useMemo(function(){return io(to(b,function(S){return S.secondaryAxisId}),function(S){var A=S[0];return C.findIndex(function(F){return F.id===A})})},[b,C]),I=function(){return{primaryAxis:D,secondaryAxes:C,seriesByAxisId:k}},j=y.useCallback(function(){return{primaryAxis:D,secondaryAxes:C,seriesByAxisId:k}},[D,C,k]);r.memoizeSeries&&(I=j);var Y=y.useMemo(function(){var S=I(),A=S.primaryAxis,F=S.secondaryAxes,O=S.seriesByAxisId;return O.map(function(X){var H=X[0],W=X[1],B=F.find(function(ae){return ae.id===H});if(!B)return null;var q=B.elementType,re=function(){if(q==="line"||q==="bubble"||q==="area")return _o;if(q==="bar")return fo;throw new Error("Invalid elementType")}();return A.isInvalid||B.isInvalid?null:y.createElement(re,{key:H??"__default__",primaryAxis:A,secondaryAxis:B,series:W})})},[I]);return y.createElement(co,{value:yt(E)},y.createElement("div",null,y.createElement("svg",{ref:c,style:{width:i,height:a,overflow:r.brush?"hidden":"visible"},onClick:function(A){return r.onClickDatum==null?void 0:r.onClickDatum(v,A)},onMouseEnter:function(){d[1](!0)},onMouseLeave:function(){d[1](!1)}},y.createElement("g",{className:"axes"},[D].concat(C).map(function(S){return y.createElement(Nl,G({key:[S.position,S.id].join("")},S))})),y.createElement("g",{className:"Series",style:{pointerEvents:"none"}},Y),y.createElement(ss,null),(n=r.renderSVG==null?void 0:r.renderSVG())!=null?n:null),y.createElement(Ol,null),y.createElement(Gl,null)))}function Or(e,t){var n;return t.some(function(r){return r.data.some(function(i){var a=e.getValue(i);if(a!==null&&typeof a<"u")return n=a,!0})}),n}function Vr(e,t){var n=e.scaleType;if(!e.scaleType)if(typeof t=="number")n="linear";else if(typeof(t==null?void 0:t.getMonth)=="function")n="time";else if(typeof t=="string"||typeof t=="boolean")n="band";else throw new Error("Invalid scale type: Unable to infer type from data");return G({},e,{scaleType:n})}function Yr(e,t){if(t.every(function(r){return r.stacked})){var n=t.some(function(r){return r.invert})&&t.some(function(r){return!r.invert});if(!n)return e}return[].concat(e).sort(function(r,i){var a,o,u,l,c=t.find(function(d){return d.id===r.secondaryAxisId}),s=t.find(function(d){return d.id===i.secondaryAxisId}),h=(a=c==null?void 0:c.scale(c.stacked?(o=r.stackData)==null?void 0:o[1]:r.secondaryValue))!=null?a:NaN,f=(u=s==null?void 0:s.scale(s.stacked?(l=i.stackData)==null?void 0:l[1]:i.secondaryValue))!=null?u:NaN;return h>f?1:h<f?-1:0})}export{_s as C};
