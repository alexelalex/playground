const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Accept-BUl1ttkD.js","assets/index-SzT5NDvv.js","assets/index-CgOdrxkI.css","assets/Action-Bzk1YShu.js","assets/ActionsMenu-B11ZswHr.js","assets/Activities-DgKiNHu5.js","assets/ActivityLog-BTt2rmAr.js","assets/Add-Dts8lsxP.js","assets/AddGroup-DP4svPYg.js","assets/AddTicket-DiWZzI1y.js","assets/AddUsers-CGKNSyll.js","assets/AddWorkspace-DGcgECpB.js","assets/Added-DjcnP_Sp.js","assets/AdminPrivileges-CvRvtRzL.js","assets/Administrator-CuWUV-Qh.js","assets/AdvancedSearch-UN3Jx6Ak.js","assets/AllowedPorts-BEZBtGlj.js","assets/AnomalousActivity-D6L1pKYz.js","assets/Any-DTUTYJAe.js","assets/Archive-Dh2QVlRC.js","assets/ArrowDown-X70ZEHLG.js","assets/ArrowLeft-CKQtyNMr.js","assets/ArrowRight-BFaczKer.js","assets/Assistant-CakGU_mv.js","assets/Association-Cp3O7B-r.js","assets/AttackPath-BHNf9PHj.js","assets/AttackPathWidget-B9K5T8OV.js","assets/Attacker-CQycntZP.js","assets/Attributes-BTlguwh5.js","assets/AutoFix-BVQr5tjd.js","assets/AutoRemediation-BqIQ5pzG.js","assets/Availability-qRkOERnE.js","assets/Avatar-C72rhz_d.js","assets/AzureBoards-Bg_-UAA4.js","assets/Back-BCUSgkU1.js","assets/BriefcaseOutline-nftapHtY.js","assets/Calander-8Kjarc3h.js","assets/CancelInvite-R7DkxdVs.js","assets/ChartBarStacked-CjtvWSM1.js","assets/ChartLine-JF6vraC5.js","assets/Check-u27u3SbC.js","assets/CheckFilled-B_akkvxy.js","assets/CheckMark-CvSVO1mT.js","assets/CheckSymbol-IFfto4JH.js","assets/Close-DvSsMksV.js","assets/ClosedConnections-OC9gSxr4.js","assets/CloudShell-CP43dY02.js","assets/Code-CZZs77pe.js","assets/Cog-C26UxIbF.js","assets/CollapseUp-BgNbIy8K.js","assets/Collapsed-yHYsl42Q.js","assets/Compliance-BUEnXmJe.js","assets/ComplianceScore-3rVhvH3u.js","assets/Condition-B8Zs9VGK.js","assets/ConfigChanges-CHaT8D6P.js","assets/Configuration-DYtT1JjL.js","assets/Connections-CSPOW1IR.js","assets/Copy-B6JVpqPY.js","assets/Cortex-Cf6oOMWL.js","assets/Cost-CBQ6XVk8.js","assets/CrowdStrike-CFehm7ca.js","assets/CrownJewel-BD5ml-ez.js","assets/CrownJewelAccess-BZx09AIt.js","assets/Dashboard-DyAIOpZK.js","assets/Data--k6XrTIP.js","assets/DataAccess-Cy5zQTAY.js","assets/DataSecurity-DqX98y4p.js","assets/Delete-DEILc5JP.js","assets/Deleted-C96wlZKQ.js","assets/Description-BBAcWAoF.js","assets/Details-D5tdBk_5.js","assets/Detections-B8lIDNT7.js","assets/Disabled-CWNO9pfJ.js","assets/Discovery-CXnAO9zR.js","assets/Docs-CoBhys2i.js","assets/Download-agkCnpGA.js","assets/Draft-C19HQvDY.js","assets/DropDown-Db6wfRw1.js","assets/Earth-8N48lcNl.js","assets/Edges-DBw1WheP.js","assets/Edit-PONvW4Jq.js","assets/EditDetails-BicA2nw4.js","assets/EditProfile-BeOFJt9o.js","assets/EditUser-Bc5aObQL.js","assets/Empty-Brd3WiNQ.js","assets/Enabled-tGj-1pVx.js","assets/Encryption-nkFGHWHJ.js","assets/Error-Dl31Xeld.js","assets/ErrorFilled-DR3zmJSY.js","assets/EventName-BglDq7lq.js","assets/Events-xU1e0ZJH.js","assets/Exclude-Di2VuUd8.js","assets/ExcludeCondition-DmCogCsJ.js","assets/ExpandDown-C_itfOd1.js","assets/ExpandRight-DaO-31D-.js","assets/Expanded-Cg0nnV--.js","assets/Exploit-B8bw00i-.js","assets/Export-D6WTmCvC.js","assets/ExposedAll-B8KfPPLe.js","assets/Exposure-CW_alS2W.js","assets/ExternalExposure-CDrWZL9z.js","assets/Failure-nvUsfc6U.js","assets/Feedback-CIjzZfZb.js","assets/Filter-BjOcIMK1.js","assets/FilterAdd-CMy3BFYt.js","assets/FilterDelete-BvPbQwBJ.js","assets/Focus-ENEef62v.js","assets/FocusCenter-c1YHy-ex.js","assets/Graph-riKMG6Os.js","assets/GroupBy-FmXtwAhY.js","assets/GuardDuty-DqrXdCEm.js","assets/Help-DskxmKgN.js","assets/HelpFilled-DUyoPTxc.js","assets/Hierarchy-2oTq7fWE.js","assets/HighPrivileges-BvSP47MS.js","assets/HighestSpending-Cox9frHy.js","assets/HighestSpendingRegions-BG_MXSGP.js","assets/IPAddress-C96a8MSG.js","assets/Identifier-ozbSR99z.js","assets/IdentityAccess-CmVA3hwt.js","assets/IdentityLog-DlswT28w.js","assets/Impact-DO7Payp7.js","assets/Info-CEgY4zQK.js","assets/InsecureIdentity-GA-IY4hR.js","assets/Insight-3Zztqh9H.js","assets/Inspect-Bfw_NfqB.js","assets/Integrations-kIxgoIh3.js","assets/InternetExposed-DpC_WE_s.js","assets/Intersection-DoGO9MA-.js","assets/Investigator-BcBjZDep.js","assets/InviteUser-C0tFXVww.js","assets/InvitedEmail-ebXPPf76.js","assets/Jira-lIwROpZt.js","assets/Label-CgoJeDcB.js","assets/Labs-kCYap-XO.js","assets/LearnMore-D6kRWOm4.js","assets/List-BDzQ61Yo.js","assets/Location-BLsdjgGc.js","assets/LoggingMonitoring-DR99U-xB.js","assets/Logo-CAq1_0VN.js","assets/Logout-BzlKD0DF.js","assets/Members-D0__fyBo.js","assets/Message-DsXv5_yB.js","assets/Misconfiguration-DLyV94FF.js","assets/MissingPolicy-C7204cnd.js","assets/Mitre-CZV4To4Z.js","assets/Modified-Ck0Cc1-f.js","assets/ModifiedPermission-BaUljsj6.js","assets/MoveCursor-B7iUY9vz.js","assets/MultipleItems-D6HR60Fz.js","assets/NeglectedResources-DueX9YNa.js","assets/NetworkIdentity-BaY5R8HC.js","assets/New-CwN2c8ki.js","assets/NewConnections-Bz0QIli8.js","assets/Notification-BQqhr-L3.js","assets/NotificationOff-Doh5kBSQ.js","assets/NotificationOn-BOJx_kFM.js","assets/NotificationSettings-Cl6RkFxI.js","assets/OktaDomain-CDzSAi--.js","assets/OpenInNew-C9Kr_FDF.js","assets/Organization-CfIg4Mom.js","assets/OrganizationAdmin-Bt5dap1I.js","assets/Other-Nliauqa5.js","assets/PackageFixed-DDeEX6Vc.js","assets/Path-DJrGTezW.js","assets/PathDestination-z_kL82sd.js","assets/PathIntermediate-t17qbeQH.js","assets/PathSource-BDNUduhV.js","assets/Pending-CQskHfPS.js","assets/Pin-CxBtS677.js","assets/Placeholder-D1gzz2Re.js","assets/Port-Bsh9x_9v.js","assets/PotentialSavings-CuFpuMPO.js","assets/Preferences-BshMuVsE.js","assets/PrivilegeEscalation-CT4WnTyY.js","assets/Processing-9291N0FG.js","assets/Properties-DU1nJgaS.js","assets/Public-Dy92RDY7.js","assets/PublicExposed-BLAXMaCJ.js","assets/Publish-CfvvxTMc.js","assets/Refresh-CACgOiOv.js","assets/Region-Dv1JF_37.js","assets/Reject-C3sZSrSJ.js","assets/Remediation-BHZX6SUX.js","assets/Remove-CJz14Eqn.js","assets/RemoveUser-CvjQ0s60.js","assets/Reorder-Bnw7dznc.js","assets/ResendInvite-DjOeeCxW.js","assets/ResourceType-CXujZ03a.js","assets/Reverse-DdrujUah.js","assets/ReverseNot-D712Dpv9.js","assets/Rocket-DHCj8ub5.js","assets/Rules-DJjrXRZ8.js","assets/RulesWidget-jOcS9QGO.js","assets/Run--l6pZtYU.js","assets/RuntimeAgent-DF5P06y6.js","assets/SAMLUser-BfwVrM2q.js","assets/SSO-BXcJNHH2.js","assets/Save-CwwOncaW.js","assets/SaveViews-CLWrEIR1.js","assets/SavedView-C47PUU0r.js","assets/SavedViews-CQUb-pgC.js","assets/Scope-BDAhTlJg.js","assets/Search-DIkj3ZQb.js","assets/Security-Bc04KnPP.js","assets/SecurityAlert-CgJTw3Gm.js","assets/SecurityScore-CZA3Z5wh.js","assets/Send--ASvkO0I.js","assets/SentinelOne-Qf--Q3uk.js","assets/ServiceNow-BgSuQo-t.js","assets/Services-CTuSDeXe.js","assets/Settings-nuM-RG0m.js","assets/SeverityCritical-6uRx8CVw.js","assets/SeverityHigh-B45Uq8_E.js","assets/SeverityLow-cOA-2gE3.js","assets/SeverityMedium-CsD6XODq.js","assets/Simulations-C8iMNVkw.js","assets/SortAscending-9SqzEte1.js","assets/SortDescending-B-q8J_3z.js","assets/Sortable-ZeAh_1bw.js","assets/SourceBranch-kv1kPlJO.js","assets/SourceCommit-CJYF_lfq.js","assets/SourcePull-DOejVNQ_.js","assets/Stopped-DueBPwcc.js","assets/Subscription-CrYiS_J6.js","assets/Suggestion-UNRkZ-SL.js","assets/SuspiciousIdentityActivity-Df5FrciX.js","assets/SuspiciousKubernetesAPIActivity-CMb3ZrXY.js","assets/Sustainability-BijW5VhF.js","assets/Switch-CqsOFT1G.js","assets/Switches-CkMp7_Jt.js","assets/Tag-CGH-u-2V.js","assets/Target-DL_Qpcwa.js","assets/Ticket-BdRPTRJ5.js","assets/Time-B_jtwO7k.js","assets/Timeline-BTm929yk.js","assets/Topology-CV5M_WPM.js","assets/TrafficLog-5gVeztCe.js","assets/Trash-C0FmiPZl.js","assets/Trend-zTlX0KuO.js","assets/TrendDown-CAIQO3Ta.js","assets/TrendNone-CGjHWh0w.js","assets/TrendUp-CUnLizlu.js","assets/UndoRemoving-Cox9lVLE.js","assets/Unexclude-Bjyaazey.js","assets/Unreachable-BsgdDybo.js","assets/User-CS1CYa-9.js","assets/UserAgent-CA5w4IRw.js","assets/UserSettings-BO93GYhf.js","assets/Users-Bv2ojYik.js","assets/ViolatedRulesWidget-TEDe2u7W.js","assets/Violation-EIckOzku.js","assets/Visibility-COoWv1V2.js","assets/Vulnerabilities-DQsbjZ5t.js","assets/VulnerabilitiesWidget-BHpP1t4A.js","assets/Vulnerability-DW1L_VmN.js","assets/Warning-aJPBz63Z.js","assets/Workspace-CJ3QfH2N.js","assets/YouTrack-8NiAAx67.js","assets/ZoomIn-CtdXg5NV.js","assets/ZoomOut-B4EdTRAr.js"])))=>i.map(i=>d[i]);
import{R as Vt,r as A,j as g,aM as hu,Q as y,t as bs,b5 as Ii,ae as Ti}from"./index-SzT5NDvv.js";import{gb as ss,jG as kr,gt as ge,jr as Ri,gf as Js,gr as Ci,ge as Qs,gc as An,gi as rn,hu as Ni,hq as ft,hr as gu,gu as mu,hl as _u,aa as yu}from"./App-C5BQGUHJ.js";import{d as Oi,i as er,T as Es,a as ws,t as vu}from"./transform-DxSsZRCH.js";import{s as Re}from"./select-C5KTakZX.js";import{m as xu,a as Di,b as Li,C as bu,c as ji,u as Eu,R as wu,I as ku,h as Su,S as Pu,i as Au,n as Iu,j as Tu,l as Ru}from"./index-BsaL-Tle.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ss("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ss("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ss("LoaderPinwheel",[["path",{d:"M22 12a1 1 0 0 1-10 0 1 1 0 0 0-10 0",key:"1lzz15"}],["path",{d:"M7 20.7a1 1 0 1 1 5-8.7 1 1 0 1 0 5-8.6",key:"1gnrpi"}],["path",{d:"M7 3.3a1 1 0 1 1 5 8.6 1 1 0 1 0 5 8.6",key:"u9yy5q"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ss("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);function be(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,s;n<e.length;n++)(s=be(e[n]))!==""&&(t+=(t&&" ")+s);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}function Du(e){let t;for(;t=e.sourceEvent;)e=t;return e}function De(e,t){if(e=Du(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const Lu={passive:!1},on={capture:!0,passive:!1};function ks(e){e.stopImmediatePropagation()}function Dt(e){e.preventDefault(),e.stopImmediatePropagation()}function Mi(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Dt,on);"onselectstart"in t?n.on("selectstart.drag",Dt,on):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Vi(e,t){var n=e.document.documentElement,s=Re(e).on("dragstart.drag",null);t&&(s.on("click.drag",Dt,on),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ln=e=>()=>e;function Ms(e,{sourceEvent:t,subject:n,target:s,identifier:r,active:i,x:o,y:a,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}Ms.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ju(e){return!e.ctrlKey&&!e.button}function Mu(){return this.parentNode}function Vu(e,t){return t??{x:e.x,y:e.y}}function zu(){return navigator.maxTouchPoints||"ontouchstart"in this}function zi(){var e=ju,t=Mu,n=Vu,s=zu,r={},i=Oi("start","drag","end"),o=0,a,c,u,f,d=0;function l(b){b.on("mousedown.drag",p).filter(s).on("touchstart.drag",E).on("touchmove.drag",m,Lu).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,T){if(!(f||!e.call(this,b,T))){var C=x(this,t.call(this,b,T),b,T,"mouse");C&&(Re(b.view).on("mousemove.drag",h,on).on("mouseup.drag",v,on),Mi(b.view),ks(b),u=!1,a=b.clientX,c=b.clientY,C("start",b))}}function h(b){if(Dt(b),!u){var T=b.clientX-a,C=b.clientY-c;u=T*T+C*C>d}r.mouse("drag",b)}function v(b){Re(b.view).on("mousemove.drag mouseup.drag",null),Vi(b.view,u),Dt(b),r.mouse("end",b)}function E(b,T){if(e.call(this,b,T)){var C=b.changedTouches,S=t.call(this,b,T),D=C.length,O,L;for(O=0;O<D;++O)(L=x(this,S,b,T,C[O].identifier,C[O]))&&(ks(b),L("start",b,C[O]))}}function m(b){var T=b.changedTouches,C=T.length,S,D;for(S=0;S<C;++S)(D=r[T[S].identifier])&&(Dt(b),D("drag",b,T[S]))}function k(b){var T=b.changedTouches,C=T.length,S,D;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),S=0;S<C;++S)(D=r[T[S].identifier])&&(ks(b),D("end",b,T[S]))}function x(b,T,C,S,D,O){var L=i.copy(),H=De(O||C,T),M,$,_;if((_=n.call(b,new Ms("beforestart",{sourceEvent:C,target:l,identifier:D,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:L}),S))!=null)return M=_.x-H[0]||0,$=_.y-H[1]||0,function P(w,N,I){var R=H,V;switch(w){case"start":r[D]=P,V=o++;break;case"end":delete r[D],--o;case"drag":H=De(I||N,T),V=o;break}L.call(w,b,new Ms(w,{sourceEvent:N,subject:_,target:l,identifier:D,active:V,x:H[0]+M,y:H[1]+$,dx:H[0]-R[0],dy:H[1]-R[1],dispatch:L}),S)}}return l.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Ln(!!b),l):e},l.container=function(b){return arguments.length?(t=typeof b=="function"?b:Ln(b),l):t},l.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Ln(b),l):n},l.touchable=function(b){return arguments.length?(s=typeof b=="function"?b:Ln(!!b),l):s},l.on=function(){var b=i.on.apply(i,arguments);return b===i?l:b},l.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,l):Math.sqrt(d)},l}var $u=1e-12;function Sr(e){return((e=Math.exp(e))+1/e)/2}function Zu(e){return((e=Math.exp(e))-1/e)/2}function Hu(e){return((e=Math.exp(2*e))-1)/(e+1)}const Bu=function e(t,n,s){function r(i,o){var a=i[0],c=i[1],u=i[2],f=o[0],d=o[1],l=o[2],p=f-a,h=d-c,v=p*p+h*h,E,m;if(v<$u)m=Math.log(l/u)/t,E=function(S){return[a+S*p,c+S*h,u*Math.exp(t*S*m)]};else{var k=Math.sqrt(v),x=(l*l-u*u+s*v)/(2*u*n*k),b=(l*l-u*u-s*v)/(2*l*n*k),T=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(b*b+1)-b);m=(C-T)/t,E=function(S){var D=S*m,O=Sr(T),L=u/(n*k)*(O*Hu(t*D+T)-Zu(T));return[a+L*p,c+L*h,u*O/Sr(t*D+T)]}}return E.duration=m*1e3*t/Math.SQRT2,E}return r.rho=function(i){var o=Math.max(.001,+i),a=o*o,c=a*a;return e(o,a,c)},r}(Math.SQRT2,2,4),jn=e=>()=>e;function Fu(e,{sourceEvent:t,target:n,transform:s,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function Ss(e){e.stopImmediatePropagation()}function qt(e){e.preventDefault(),e.stopImmediatePropagation()}function Wu(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Uu(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pr(){return this.__zoom||er}function Gu(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Yu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xu(e,t,n){var s=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(r>s?(s+r)/2:Math.min(0,s)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function $i(){var e=Wu,t=Uu,n=Xu,s=Gu,r=Yu,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Bu,u=Oi("start","zoom","end"),f,d,l,p=500,h=150,v=0,E=10;function m(_){_.property("__zoom",Pr).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",L).filter(r).on("touchstart.zoom",H).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(_,P,w,N){var I=_.selection?_.selection():_;I.property("__zoom",Pr),_!==I?T(_,P,w,N):I.interrupt().each(function(){C(this,arguments).event(N).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(_,P,w,N){m.scaleTo(_,function(){var I=this.__zoom.k,R=typeof P=="function"?P.apply(this,arguments):P;return I*R},w,N)},m.scaleTo=function(_,P,w,N){m.transform(_,function(){var I=t.apply(this,arguments),R=this.__zoom,V=w==null?b(I):typeof w=="function"?w.apply(this,arguments):w,G=R.invert(V),X=typeof P=="function"?P.apply(this,arguments):P;return n(x(k(R,X),V,G),I,o)},w,N)},m.translateBy=function(_,P,w,N){m.transform(_,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof w=="function"?w.apply(this,arguments):w),t.apply(this,arguments),o)},null,N)},m.translateTo=function(_,P,w,N,I){m.transform(_,function(){var R=t.apply(this,arguments),V=this.__zoom,G=N==null?b(R):typeof N=="function"?N.apply(this,arguments):N;return n(er.translate(G[0],G[1]).scale(V.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof w=="function"?-w.apply(this,arguments):-w),R,o)},N,I)};function k(_,P){return P=Math.max(i[0],Math.min(i[1],P)),P===_.k?_:new Es(P,_.x,_.y)}function x(_,P,w){var N=P[0]-w[0]*_.k,I=P[1]-w[1]*_.k;return N===_.x&&I===_.y?_:new Es(_.k,N,I)}function b(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function T(_,P,w,N){_.on("start.zoom",function(){C(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(N).end()}).tween("zoom",function(){var I=this,R=arguments,V=C(I,R).event(N),G=t.apply(I,R),X=w==null?b(G):typeof w=="function"?w.apply(I,R):w,j=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),Z=I.__zoom,F=typeof P=="function"?P.apply(I,R):P,W=c(Z.invert(X).concat(j/Z.k),F.invert(X).concat(j/F.k));return function(z){if(z===1)z=F;else{var Y=W(z),J=j/Y[2];z=new Es(J,X[0]-Y[0]*J,X[1]-Y[1]*J)}V.zoom(null,z)}})}function C(_,P,w){return!w&&_.__zooming||new S(_,P)}function S(_,P){this.that=_,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(_,P),this.taps=0}S.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,P){return this.mouse&&_!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var P=Re(this.that).datum();u.call(_,this.that,new Fu(_,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function D(_,...P){if(!e.apply(this,arguments))return;var w=C(this,P).event(_),N=this.__zoom,I=Math.max(i[0],Math.min(i[1],N.k*Math.pow(2,s.apply(this,arguments)))),R=De(_);if(w.wheel)(w.mouse[0][0]!==R[0]||w.mouse[0][1]!==R[1])&&(w.mouse[1]=N.invert(w.mouse[0]=R)),clearTimeout(w.wheel);else{if(N.k===I)return;w.mouse=[R,N.invert(R)],ws(this),w.start()}qt(_),w.wheel=setTimeout(V,h),w.zoom("mouse",n(x(k(N,I),w.mouse[0],w.mouse[1]),w.extent,o));function V(){w.wheel=null,w.end()}}function O(_,...P){if(l||!e.apply(this,arguments))return;var w=_.currentTarget,N=C(this,P,!0).event(_),I=Re(_.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",j,!0),R=De(_,w),V=_.clientX,G=_.clientY;Mi(_.view),Ss(_),N.mouse=[R,this.__zoom.invert(R)],ws(this),N.start();function X(Z){if(qt(Z),!N.moved){var F=Z.clientX-V,W=Z.clientY-G;N.moved=F*F+W*W>v}N.event(Z).zoom("mouse",n(x(N.that.__zoom,N.mouse[0]=De(Z,w),N.mouse[1]),N.extent,o))}function j(Z){I.on("mousemove.zoom mouseup.zoom",null),Vi(Z.view,N.moved),qt(Z),N.event(Z).end()}}function L(_,...P){if(e.apply(this,arguments)){var w=this.__zoom,N=De(_.changedTouches?_.changedTouches[0]:_,this),I=w.invert(N),R=w.k*(_.shiftKey?.5:2),V=n(x(k(w,R),N,I),t.apply(this,P),o);qt(_),a>0?Re(this).transition().duration(a).call(T,V,N,_):Re(this).call(m.transform,V,N,_)}}function H(_,...P){if(e.apply(this,arguments)){var w=_.touches,N=w.length,I=C(this,P,_.changedTouches.length===N).event(_),R,V,G,X;for(Ss(_),V=0;V<N;++V)G=w[V],X=De(G,this),X=[X,this.__zoom.invert(X),G.identifier],I.touch0?!I.touch1&&I.touch0[2]!==X[2]&&(I.touch1=X,I.taps=0):(I.touch0=X,R=!0,I.taps=1+!!f);f&&(f=clearTimeout(f)),R&&(I.taps<2&&(d=X[0],f=setTimeout(function(){f=null},p)),ws(this),I.start())}}function M(_,...P){if(this.__zooming){var w=C(this,P).event(_),N=_.changedTouches,I=N.length,R,V,G,X;for(qt(_),R=0;R<I;++R)V=N[R],G=De(V,this),w.touch0&&w.touch0[2]===V.identifier?w.touch0[0]=G:w.touch1&&w.touch1[2]===V.identifier&&(w.touch1[0]=G);if(V=w.that.__zoom,w.touch1){var j=w.touch0[0],Z=w.touch0[1],F=w.touch1[0],W=w.touch1[1],z=(z=F[0]-j[0])*z+(z=F[1]-j[1])*z,Y=(Y=W[0]-Z[0])*Y+(Y=W[1]-Z[1])*Y;V=k(V,Math.sqrt(z/Y)),G=[(j[0]+F[0])/2,(j[1]+F[1])/2],X=[(Z[0]+W[0])/2,(Z[1]+W[1])/2]}else if(w.touch0)G=w.touch0[0],X=w.touch0[1];else return;w.zoom("touch",n(x(V,G,X),w.extent,o))}}function $(_,...P){if(this.__zooming){var w=C(this,P).event(_),N=_.changedTouches,I=N.length,R,V;for(Ss(_),l&&clearTimeout(l),l=setTimeout(function(){l=null},p),R=0;R<I;++R)V=N[R],w.touch0&&w.touch0[2]===V.identifier?delete w.touch0:w.touch1&&w.touch1[2]===V.identifier&&delete w.touch1;if(w.touch1&&!w.touch0&&(w.touch0=w.touch1,delete w.touch1),w.touch0)w.touch0[1]=this.__zoom.invert(w.touch0[0]);else if(w.end(),w.taps===2&&(V=De(V,this),Math.hypot(d[0]-V[0],d[1]-V[1])<E)){var G=Re(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return m.wheelDelta=function(_){return arguments.length?(s=typeof _=="function"?_:jn(+_),m):s},m.filter=function(_){return arguments.length?(e=typeof _=="function"?_:jn(!!_),m):e},m.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:jn(!!_),m):r},m.extent=function(_){return arguments.length?(t=typeof _=="function"?_:jn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),m):t},m.scaleExtent=function(_){return arguments.length?(i[0]=+_[0],i[1]=+_[1],m):[i[0],i[1]]},m.translateExtent=function(_){return arguments.length?(o[0][0]=+_[0][0],o[1][0]=+_[1][0],o[0][1]=+_[0][1],o[1][1]=+_[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(_){return arguments.length?(n=_,m):n},m.duration=function(_){return arguments.length?(a=+_,m):a},m.interpolate=function(_){return arguments.length?(c=_,m):c},m.on=function(){var _=u.on.apply(u,arguments);return _===u?m:_},m.clickDistance=function(_){return arguments.length?(v=(_=+_)*_,m):Math.sqrt(v)},m.tapDistance=function(_){return arguments.length?(E=+_,m):E},m}const qe={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:s}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},an=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zi=["Enter"," ","Escape"];var zt;(function(e){e.Strict="strict",e.Loose="loose"})(zt||(zt={}));var mt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(mt||(mt={}));var cn;(function(e){e.Partial="partial",e.Full="full"})(cn||(cn={}));const Hi={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var nt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(nt||(nt={}));var Bn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bn||(Bn={}));var te;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(te||(te={}));const Ar={[te.Left]:te.Right,[te.Right]:te.Left,[te.Top]:te.Bottom,[te.Bottom]:te.Top};function Bi(e){return e===null?null:e?"valid":"invalid"}const Fi=e=>"id"in e&&"source"in e&&"target"in e,qu=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),tr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),In=(e,t=[0,0])=>{const{width:n,height:s}=Ke(e),r=e.origin??t,i=n*r[0],o=s*r[1];return{x:e.position.x-i,y:e.position.y-o}},Ku=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((s,r)=>{const i=typeof r=="string";let o=!t.nodeLookup&&!i?r:void 0;t.nodeLookup&&(o=i?t.nodeLookup.get(r):tr(r)?r:t.nodeLookup.get(r.id));const a=o?Fn(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return rs(s,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return is(n)},Tn=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(s=>{if(t.filter===void 0||t.filter(s)){const r=Fn(s);n=rs(n,r)}}),is(n)},Wi=(e,t,[n,s,r]=[0,0,1],i=!1,o=!1)=>{const a={...Rn(t,[n,s,r]),width:t.width/r,height:t.height/r},c=[];for(const u of e.values()){const{measured:f,selectable:d=!0,hidden:l=!1}=u;if(o&&!d||l)continue;const p=f.width??u.width??u.initialWidth??null,h=f.height??u.height??u.initialHeight??null,v=un(a,Zt(u)),E=(p??0)*(h??0),m=i&&v>0;(!u.internals.handleBounds||m||v>=E||u.dragging)&&c.push(u)}return c},Ju=(e,t)=>{const n=new Set;return e.forEach(s=>{n.add(s.id)}),t.filter(s=>n.has(s.source)||n.has(s.target))};function Vs(e,t){const n=new Map,s=t!=null&&t.nodes?new Set(t.nodes.map(r=>r.id)):null;return e.forEach(r=>{r.measured.width&&r.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!r.hidden)&&(!s||s.has(r.id))&&n.set(r.id,r)}),n}async function zs({nodes:e,width:t,height:n,panZoom:s,minZoom:r,maxZoom:i},o){if(e.size===0)return Promise.resolve(!1);const a=Tn(e),c=nr(a,t,n,(o==null?void 0:o.minZoom)??r,(o==null?void 0:o.maxZoom)??i,(o==null?void 0:o.padding)??.1);return await s.setViewport(c,{duration:o==null?void 0:o.duration}),Promise.resolve(!0)}function Ui({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:r,onError:i}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:c,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??s;let d=r;if(o.extent==="parent"&&!o.expandParent)if(!a)i==null||i("005",qe.error005());else{const p=a.measured.width,h=a.measured.height;p&&h&&(d=[[c,u],[c+p,u+h]])}else a&&Ht(o.extent)&&(d=[[o.extent[0][0]+c,o.extent[0][1]+u],[o.extent[1][0]+c,o.extent[1][1]+u]]);const l=Ht(d)?xt(t,d,o.measured):t;return{position:{x:l.x-c+o.measured.width*f[0],y:l.y-u+o.measured.height*f[1]},positionAbsolute:l}}async function Qu({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:s,onBeforeDelete:r}){const i=new Set(e.map(l=>l.id)),o=[];for(const l of n){if(l.deletable===!1)continue;const p=i.has(l.id),h=!p&&l.parentId&&o.find(v=>v.id===l.parentId);(p||h)&&o.push(l)}const a=new Set(t.map(l=>l.id)),c=s.filter(l=>l.deletable!==!1),f=Ju(o,c);for(const l of c)a.has(l.id)&&!f.find(h=>h.id===l.id)&&f.push(l);if(!r)return{edges:f,nodes:o};const d=await r({nodes:o,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:o}:{edges:[],nodes:[]}:d}const $t=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),xt=(e={x:0,y:0},t,n)=>({x:$t(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:$t(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Gi(e,t,n){const{width:s,height:r}=Ke(n),{x:i,y:o}=n.internals.positionAbsolute;return xt(e,[[i,o],[i+s,o+r]],t)}const Ir=(e,t,n)=>e<t?$t(Math.abs(e-t),1,t)/t:e>n?-$t(Math.abs(e-n),1,t)/t:0,Yi=(e,t,n=15,s=40)=>{const r=Ir(e.x,s,t.width-s)*n,i=Ir(e.y,s,t.height-s)*n;return[r,i]},rs=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),$s=({x:e,y:t,width:n,height:s})=>({x:e,y:t,x2:e+n,y2:t+s}),is=({x:e,y:t,x2:n,y2:s})=>({x:e,y:t,width:n-e,height:s-t}),Zt=(e,t=[0,0])=>{var r,i;const{x:n,y:s}=tr(e)?e.internals.positionAbsolute:In(e,t);return{x:n,y:s,width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}},Fn=(e,t=[0,0])=>{var r,i;const{x:n,y:s}=tr(e)?e.internals.positionAbsolute:In(e,t);return{x:n,y:s,x2:n+(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0),y2:s+(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0)}},Xi=(e,t)=>is(rs($s(e),$s(t))),un=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),s=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*s)},Tr=e=>Le(e.width)&&Le(e.height)&&Le(e.x)&&Le(e.y),Le=e=>!isNaN(e)&&isFinite(e),el=(e,t)=>{},os=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Rn=({x:e,y:t},[n,s,r],i=!1,o=[1,1])=>{const a={x:(e-n)/r,y:(t-s)/r};return i?os(a,o):a},qi=({x:e,y:t},[n,s,r])=>({x:e*r+n,y:t*r+s}),nr=(e,t,n,s,r,i)=>{const o=t/(e.width*(1+i)),a=n/(e.height*(1+i)),c=Math.min(o,a),u=$t(c,s,r),f=e.x+e.width/2,d=e.y+e.height/2,l=t/2-f*u,p=n/2-d*u;return{x:l,y:p,zoom:u}},Wn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Ht(e){return e!==void 0&&e!=="parent"}function Ke(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Ki(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Ji(e,t={width:0,height:0},n,s,r){const i={...e},o=s.get(n);if(o){const a=o.origin||r;i.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],i.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return i}function Rr(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function nn(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:s,containerBounds:r}){const{x:i,y:o}=Ge(e),a=Rn({x:i-((r==null?void 0:r.left)??0),y:o-((r==null?void 0:r.top)??0)},s),{x:c,y:u}=n?os(a,t):a;return{xSnapped:c,ySnapped:u,...a}}const as=e=>({width:e.offsetWidth,height:e.offsetHeight}),Qi=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},tl=["INPUT","SELECT","TEXTAREA"];function Zs(e){var s,r;const t=((r=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:r[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:tl.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const eo=e=>"clientX"in e,Ge=(e,t)=>{var i,o;const n=eo(e),s=n?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,r=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:s-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}},Cr=(e,t,n,s,r)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:r,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/s,y:(a.top-n.top)/s,...as(o)}})};function to({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:r,sourceControlY:i,targetControlX:o,targetControlY:a}){const c=e*.125+r*.375+o*.375+n*.125,u=t*.125+i*.375+a*.375+s*.125,f=Math.abs(c-e),d=Math.abs(u-t);return[c,u,f,d]}function Mn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Nr({pos:e,x1:t,y1:n,x2:s,y2:r,c:i}){switch(e){case te.Left:return[t-Mn(t-s,i),n];case te.Right:return[t+Mn(s-t,i),n];case te.Top:return[t,n-Mn(n-r,i)];case te.Bottom:return[t,n+Mn(r-n,i)]}}function sr({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:s,targetY:r,targetPosition:i=te.Top,curvature:o=.25}){const[a,c]=Nr({pos:n,x1:e,y1:t,x2:s,y2:r,c:o}),[u,f]=Nr({pos:i,x1:s,y1:r,x2:e,y2:t,c:o}),[d,l,p,h]=to({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${a},${c} ${u},${f} ${s},${r}`,d,l,p,h]}function no({sourceX:e,sourceY:t,targetX:n,targetY:s}){const r=Math.abs(n-e)/2,i=n<e?n+r:n-r,o=Math.abs(s-t)/2,a=s<t?s+o:s-o;return[i,a,r,o]}function nl({sourceNode:e,targetNode:t,selected:n=!1,zIndex:s=0,elevateOnSelect:r=!1}){if(!r)return s;const i=n||t.selected||e.selected,o=Math.max(e.internals.z||0,t.internals.z||0,1e3);return s+(i?o:0)}function sl({sourceNode:e,targetNode:t,width:n,height:s,transform:r}){const i=rs(Fn(e),Fn(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const o={x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:s/r[2]};return un(o,is(i))>0}const rl=({source:e,sourceHandle:t,target:n,targetHandle:s})=>`xy-edge__${e}${t||""}-${n}${s||""}`,il=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ol=(e,t)=>{if(!e.source||!e.target)return t;let n;return Fi(e)?n={...e}:n={...e,id:rl(e)},il(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function so({sourceX:e,sourceY:t,targetX:n,targetY:s}){const[r,i,o,a]=no({sourceX:e,sourceY:t,targetX:n,targetY:s});return[`M ${e},${t}L ${n},${s}`,r,i,o,a]}const Or={[te.Left]:{x:-1,y:0},[te.Right]:{x:1,y:0},[te.Top]:{x:0,y:-1},[te.Bottom]:{x:0,y:1}},al=({source:e,sourcePosition:t=te.Bottom,target:n})=>t===te.Left||t===te.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Dr=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function cl({source:e,sourcePosition:t=te.Bottom,target:n,targetPosition:s=te.Top,center:r,offset:i}){const o=Or[t],a=Or[s],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:n.x+a.x*i,y:n.y+a.y*i},f=al({source:c,sourcePosition:t,target:u}),d=f.x!==0?"x":"y",l=f[d];let p=[],h,v;const E={x:0,y:0},m={x:0,y:0},[k,x,b,T]=no({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){h=r.x??k,v=r.y??x;const S=[{x:h,y:c.y},{x:h,y:u.y}],D=[{x:c.x,y:v},{x:u.x,y:v}];o[d]===l?p=d==="x"?S:D:p=d==="x"?D:S}else{const S=[{x:c.x,y:u.y}],D=[{x:u.x,y:c.y}];if(d==="x"?p=o.x===l?D:S:p=o.y===l?S:D,t===s){const $=Math.abs(e[d]-n[d]);if($<=i){const _=Math.min(i-1,i-$);o[d]===l?E[d]=(c[d]>e[d]?-1:1)*_:m[d]=(u[d]>n[d]?-1:1)*_}}if(t!==s){const $=d==="x"?"y":"x",_=o[d]===a[$],P=c[$]>u[$],w=c[$]<u[$];(o[d]===1&&(!_&&P||_&&w)||o[d]!==1&&(!_&&w||_&&P))&&(p=d==="x"?S:D)}const O={x:c.x+E.x,y:c.y+E.y},L={x:u.x+m.x,y:u.y+m.y},H=Math.max(Math.abs(O.x-p[0].x),Math.abs(L.x-p[0].x)),M=Math.max(Math.abs(O.y-p[0].y),Math.abs(L.y-p[0].y));H>=M?(h=(O.x+L.x)/2,v=p[0].y):(h=p[0].x,v=(O.y+L.y)/2)}return[[e,{x:c.x+E.x,y:c.y+E.y},...p,{x:u.x+m.x,y:u.y+m.y},n],h,v,b,T]}function ul(e,t,n,s){const r=Math.min(Dr(e,t)/2,Dr(t,n)/2,s),{x:i,y:o}=t;if(e.x===i&&i===n.x||e.y===o&&o===n.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${i+r*u},${o}Q ${i},${o} ${i},${o+r*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${i},${o+r*c}Q ${i},${o} ${i+r*a},${o}`}function Hs({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:s,targetY:r,targetPosition:i=te.Top,borderRadius:o=5,centerX:a,centerY:c,offset:u=20}){const[f,d,l,p,h]=cl({source:{x:e,y:t},sourcePosition:n,target:{x:s,y:r},targetPosition:i,center:{x:a,y:c},offset:u});return[f.reduce((E,m,k)=>{let x="";return k>0&&k<f.length-1?x=ul(f[k-1],m,f[k+1],o):x=`${k===0?"M":"L"}${m.x} ${m.y}`,E+=x,E},""),d,l,p,h]}function Lr(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ll(e){var d;const{sourceNode:t,targetNode:n}=e;if(!Lr(t)||!Lr(n))return null;const s=t.internals.handleBounds||jr(t.handles),r=n.internals.handleBounds||jr(n.handles),i=Mr((s==null?void 0:s.source)??[],e.sourceHandle),o=Mr(e.connectionMode===zt.Strict?(r==null?void 0:r.target)??[]:((r==null?void 0:r.target)??[]).concat((r==null?void 0:r.source)??[]),e.targetHandle);if(!i||!o)return(d=e.onError)==null||d.call(e,"008",qe.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(i==null?void 0:i.position)||te.Bottom,c=(o==null?void 0:o.position)||te.Top,u=ln(t,i,a),f=ln(n,o,c);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function jr(e){if(!e)return null;const t=[],n=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?t.push(s):s.type==="target"&&n.push(s);return{source:t,target:n}}function ln(e,t,n=te.Left,s=!1){const r=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,i=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??Ke(e);if(s)return{x:r+o/2,y:i+a/2};switch((t==null?void 0:t.position)??n){case te.Top:return{x:r+o/2,y:i};case te.Right:return{x:r+o,y:i+a/2};case te.Bottom:return{x:r+o/2,y:i+a};case te.Left:return{x:r,y:i+a/2}}}function Mr(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Bs(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function dl(e,{id:t,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:r}){const i=new Set;return e.reduce((o,a)=>([a.markerStart||s,a.markerEnd||r].forEach(c=>{if(c&&typeof c=="object"){const u=Bs(c,t);i.has(u)||(o.push({id:u,color:c.color||n,...c}),i.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const rr={nodeOrigin:[0,0],nodeExtent:an,elevateNodesOnSelect:!0,defaults:{}},fl={...rr,checkEquality:!0};function ir(e,t){const n={...e};for(const s in t)t[s]!==void 0&&(n[s]=t[s]);return n}function pl(e,t,n){const s=ir(rr,n);for(const r of e.values())if(r.parentId)or(r,e,t,s);else{const i=In(r,s.nodeOrigin),o=Ht(r.extent)?r.extent:s.nodeExtent,a=xt(i,o,Ke(r));r.internals.positionAbsolute=a}}function Fs(e,t,n,s){var a,c;const r=ir(fl,s),i=new Map(t),o=r!=null&&r.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=i.get(u.id);if(r.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const d=In(u,r.nodeOrigin),l=Ht(u.extent)?u.extent:r.nodeExtent,p=xt(d,l,Ke(u));f={...r.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:p,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:ro(u,o),userNode:u}},t.set(u.id,f)}u.parentId&&or(f,t,n,s)}}function hl(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function or(e,t,n,s){const{elevateNodesOnSelect:r,nodeOrigin:i,nodeExtent:o}=ir(rr,s),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}hl(e,n);const u=r?1e3:0,{x:f,y:d,z:l}=gl(e,c,i,o,u),{positionAbsolute:p}=e.internals,h=f!==p.x||d!==p.y;(h||l!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:h?{x:f,y:d}:p,z:l}})}function ro(e,t){return(Le(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function gl(e,t,n,s,r){const{x:i,y:o}=t.internals.positionAbsolute,a=Ke(e),c=In(e,n),u=Ht(e.extent)?xt(c,e.extent,a):c;let f=xt({x:i+u.x,y:o+u.y},s,a);e.extent==="parent"&&(f=Gi(f,a,t));const d=ro(e,r),l=t.internals.z??0;return{x:f.x,y:f.y,z:l>d?l:d}}function ar(e,t,n,s=[0,0]){var o;const r=[],i=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const u=((o=i.get(a.parentId))==null?void 0:o.expandedRect)??Zt(c),f=Xi(u,a.rect);i.set(a.parentId,{expandedRect:f,parent:c})}return i.size>0&&i.forEach(({expandedRect:a,parent:c},u)=>{var x;const f=c.internals.positionAbsolute,d=Ke(c),l=c.origin??s,p=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,h=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,v=Math.max(d.width,Math.round(a.width)),E=Math.max(d.height,Math.round(a.height)),m=(v-d.width)*l[0],k=(E-d.height)*l[1];(p>0||h>0||m||k)&&(r.push({id:u,type:"position",position:{x:c.position.x-p+m,y:c.position.y-h+k}}),(x=n.get(u))==null||x.forEach(b=>{e.some(T=>T.id===b.id)||r.push({id:b.id,type:"position",position:{x:b.position.x+p,y:b.position.y+h}})})),(d.width<a.width||d.height<a.height||p||h)&&r.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(p?l[0]*p-m:0),height:E+(h?l[1]*h-k:0)}})}),r}function ml(e,t,n,s,r,i){const o=s==null?void 0:s.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const c=[],u=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const l of e.values()){const p=t.get(l.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const h=as(l.nodeElement),v=p.measured.width!==h.width||p.measured.height!==h.height;if(!!(h.width&&h.height&&(v||!p.internals.handleBounds||l.force))){const m=l.nodeElement.getBoundingClientRect(),k=Ht(p.extent)?p.extent:i;let{positionAbsolute:x}=p.internals;p.parentId&&p.extent==="parent"?x=Gi(x,h,t.get(p.parentId)):k&&(x=xt(x,k,h));const b={...p,measured:h,internals:{...p.internals,positionAbsolute:x,handleBounds:{source:Cr("source",l.nodeElement,m,f,p.id),target:Cr("target",l.nodeElement,m,f,p.id)}}};t.set(p.id,b),p.parentId&&or(b,t,n,{nodeOrigin:r}),a=!0,v&&(c.push({id:p.id,type:"dimensions",dimensions:h}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Zt(b,r)}))}}if(d.length>0){const l=ar(d,t,n,r);c.push(...l)}return{changes:c,updatedInternals:a}}async function _l({delta:e,panZoom:t,transform:n,translateExtent:s,width:r,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,i]],s),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function Vr(e,t,n,s,r,i){let o=r;const a=s.get(o)||new Map;s.set(o,a.set(n,t)),o=`${r}-${e}`;const c=s.get(o)||new Map;if(s.set(o,c.set(n,t)),i){o=`${r}-${e}-${i}`;const u=s.get(o)||new Map;s.set(o,u.set(n,t))}}function io(e,t,n){e.clear(),t.clear();for(const s of n){const{source:r,target:i,sourceHandle:o=null,targetHandle:a=null}=s,c={edgeId:s.id,source:r,target:i,sourceHandle:o,targetHandle:a},u=`${r}-${o}--${i}-${a}`,f=`${i}-${a}--${r}-${o}`;Vr("source",c,f,e,r,o),Vr("target",c,u,e,i,a),t.set(s.id,s)}}function oo(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:oo(n,t):!1}function zr(e,t,n){var r;let s=e;do{if((r=s==null?void 0:s.matches)!=null&&r.call(s,t))return!0;if(s===n)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function yl(e,t,n,s){const r=new Map;for(const[i,o]of e)if((o.selected||o.id===s)&&(!o.parentId||!oo(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(i);a&&r.set(i,{id:i,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return r}function Ps({nodeId:e,dragItems:t,nodeLookup:n,dragging:s=!0}){var o,a,c;const r=[];for(const[u,f]of t){const d=(o=n.get(u))==null?void 0:o.internals.userNode;d&&r.push({...d,position:f.position,dragging:s})}if(!e)return[r[0],r];const i=(a=n.get(e))==null?void 0:a.internals.userNode;return[i?{...i,position:((c=t.get(e))==null?void 0:c.position)||i.position,dragging:s}:r[0],r]}function vl({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:s,onDragStop:r}){let i={x:null,y:null},o=0,a=new Map,c=!1,u={x:0,y:0},f=null,d=!1,l=null,p=!1;function h({noDragClassName:E,handleSelector:m,domNode:k,isSelectable:x,nodeId:b,nodeClickDistance:T=0}){l=Re(k);function C({x:L,y:H},M){const{nodeLookup:$,nodeExtent:_,snapGrid:P,snapToGrid:w,nodeOrigin:N,onNodeDrag:I,onSelectionDrag:R,onError:V,updateNodePositions:G}=t();i={x:L,y:H};let X=!1,j={x:0,y:0,x2:0,y2:0};if(a.size>1&&_){const Z=Tn(a);j=$s(Z)}for(const[Z,F]of a){if(!$.has(Z))continue;let W={x:L-F.distance.x,y:H-F.distance.y};w&&(W=os(W,P));let z=[[_[0][0],_[0][1]],[_[1][0],_[1][1]]];if(a.size>1&&_&&!F.extent){const{positionAbsolute:se}=F.internals,ie=se.x-j.x+_[0][0],Q=se.x+F.measured.width-j.x2+_[1][0],ne=se.y-j.y+_[0][1],le=se.y+F.measured.height-j.y2+_[1][1];z=[[ie,ne],[Q,le]]}const{position:Y,positionAbsolute:J}=Ui({nodeId:Z,nextPosition:W,nodeLookup:$,nodeExtent:z,nodeOrigin:N,onError:V});X=X||F.position.x!==Y.x||F.position.y!==Y.y,F.position=Y,F.internals.positionAbsolute=J}if(X&&(G(a,!0),M&&(s||I||!b&&R))){const[Z,F]=Ps({nodeId:b,dragItems:a,nodeLookup:$});s==null||s(M,a,Z,F),I==null||I(M,Z,F),b||R==null||R(M,F)}}async function S(){if(!f)return;const{transform:L,panBy:H,autoPanSpeed:M,autoPanOnNodeDrag:$}=t();if(!$){c=!1,cancelAnimationFrame(o);return}const[_,P]=Yi(u,f,M);(_!==0||P!==0)&&(i.x=(i.x??0)-_/L[2],i.y=(i.y??0)-P/L[2],await H({x:_,y:P})&&C(i,null)),o=requestAnimationFrame(S)}function D(L){var X;const{nodeLookup:H,multiSelectionActive:M,nodesDraggable:$,transform:_,snapGrid:P,snapToGrid:w,selectNodesOnDrag:N,onNodeDragStart:I,onSelectionDragStart:R,unselectNodesAndEdges:V}=t();d=!0,(!N||!x)&&!M&&b&&((X=H.get(b))!=null&&X.selected||V()),x&&N&&b&&(e==null||e(b));const G=nn(L.sourceEvent,{transform:_,snapGrid:P,snapToGrid:w,containerBounds:f});if(i=G,a=yl(H,$,G,b),a.size>0&&(n||I||!b&&R)){const[j,Z]=Ps({nodeId:b,dragItems:a,nodeLookup:H});n==null||n(L.sourceEvent,a,j,Z),I==null||I(L.sourceEvent,j,Z),b||R==null||R(L.sourceEvent,Z)}}const O=zi().clickDistance(T).on("start",L=>{const{domNode:H,nodeDragThreshold:M,transform:$,snapGrid:_,snapToGrid:P}=t();f=(H==null?void 0:H.getBoundingClientRect())||null,p=!1,M===0&&D(L),i=nn(L.sourceEvent,{transform:$,snapGrid:_,snapToGrid:P,containerBounds:f}),u=Ge(L.sourceEvent,f)}).on("drag",L=>{const{autoPanOnNodeDrag:H,transform:M,snapGrid:$,snapToGrid:_,nodeDragThreshold:P,nodeLookup:w}=t(),N=nn(L.sourceEvent,{transform:M,snapGrid:$,snapToGrid:_,containerBounds:f});if((L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1||b&&!w.has(b))&&(p=!0),!p){if(!c&&H&&d&&(c=!0,S()),!d){const I=N.xSnapped-(i.x??0),R=N.ySnapped-(i.y??0);Math.sqrt(I*I+R*R)>P&&D(L)}(i.x!==N.xSnapped||i.y!==N.ySnapped)&&a&&d&&(u=Ge(L.sourceEvent,f),C(N,L.sourceEvent))}}).on("end",L=>{if(!(!d||p)&&(c=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:H,updateNodePositions:M,onNodeDragStop:$,onSelectionDragStop:_}=t();if(M(a,!1),r||$||!b&&_){const[P,w]=Ps({nodeId:b,dragItems:a,nodeLookup:H,dragging:!1});r==null||r(L.sourceEvent,a,P,w),$==null||$(L.sourceEvent,P,w),b||_==null||_(L.sourceEvent,w)}}}).filter(L=>{const H=L.target;return!L.button&&(!E||!zr(H,`.${E}`,k))&&(!m||zr(H,m,k))});l.call(O)}function v(){l==null||l.on(".drag",null)}return{update:h,destroy:v}}function xl(e,t,n){const s=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())un(r,Zt(i))>0&&s.push(i);return s}const bl=250;function El(e,t,n,s){var a,c;let r=[],i=1/0;const o=xl(e,n,t+bl);for(const u of o){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const d of f){if(s.nodeId===d.nodeId&&s.type===d.type&&s.id===d.id)continue;const{x:l,y:p}=ln(u,d,d.position,!0),h=Math.sqrt(Math.pow(l-e.x,2)+Math.pow(p-e.y,2));h>t||(h<i?(r=[{...d,x:l,y:p}],i=h):h===i&&r.push({...d,x:l,y:p}))}}if(!r.length)return null;if(r.length>1){const u=s.type==="source"?"target":"source";return r.find(f=>f.type===u)??r[0]}return r[0]}function ao(e,t,n,s,r,i=!1){var u,f,d;const o=s.get(e);if(!o)return null;const a=r==="strict"?(u=o.internals.handleBounds)==null?void 0:u[t]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],c=(n?a==null?void 0:a.find(l=>l.id===n):a==null?void 0:a[0])??null;return c&&i?{...c,...ln(o,c,c.position,!0)}:c}function co(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function wl(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const uo=()=>!0;function kl(e,{connectionMode:t,connectionRadius:n,handleId:s,nodeId:r,edgeUpdaterType:i,isTarget:o,domNode:a,nodeLookup:c,lib:u,autoPanOnConnect:f,flowId:d,panBy:l,cancelConnection:p,onConnectStart:h,onConnect:v,onConnectEnd:E,isValidConnection:m=uo,onReconnectEnd:k,updateConnection:x,getTransform:b,getFromHandle:T,autoPanSpeed:C}){const S=Qi(e.target);let D=0,O;const{x:L,y:H}=Ge(e),M=S==null?void 0:S.elementFromPoint(L,H),$=co(i,M),_=a==null?void 0:a.getBoundingClientRect();if(!_||!$)return;const P=ao(r,$,s,c,t);if(!P)return;let w=Ge(e,_),N=!1,I=null,R=!1,V=null;function G(){if(!f||!_)return;const[J,se]=Yi(w,_,C);l({x:J,y:se}),D=requestAnimationFrame(G)}const X={...P,nodeId:r,type:$,position:P.position},j=c.get(r),F={inProgress:!0,isValid:null,from:ln(j,X,te.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:j,to:w,toHandle:null,toPosition:Ar[X.position],toNode:null};x(F);let W=F;h==null||h(e,{nodeId:r,handleId:s,handleType:$});function z(J){if(!T()||!X){Y(J);return}const se=b();w=Ge(J,_),O=El(Rn(w,se,!1,[1,1]),n,c,X),N||(G(),N=!0);const ie=lo(J,{handle:O,connectionMode:t,fromNodeId:r,fromHandleId:s,fromType:o?"target":"source",isValidConnection:m,doc:S,lib:u,flowId:d,nodeLookup:c});V=ie.handleDomNode,I=ie.connection,R=wl(!!O,ie.isValid);const Q={...W,isValid:R,to:O&&R?qi({x:O.x,y:O.y},se):w,toHandle:ie.toHandle,toPosition:R&&ie.toHandle?ie.toHandle.position:Ar[X.position],toNode:ie.toHandle?c.get(ie.toHandle.nodeId):null};R&&O&&W.toHandle&&Q.toHandle&&W.toHandle.type===Q.toHandle.type&&W.toHandle.nodeId===Q.toHandle.nodeId&&W.toHandle.id===Q.toHandle.id&&W.to.x===Q.to.x&&W.to.y===Q.to.y||(x(Q),W=Q)}function Y(J){(O||V)&&I&&R&&(v==null||v(I));const{inProgress:se,...ie}=W,Q={...ie,toPosition:W.toHandle?W.toPosition:null};E==null||E(J,Q),i&&(k==null||k(J,Q)),p(),cancelAnimationFrame(D),N=!1,R=!1,I=null,V=null,S.removeEventListener("mousemove",z),S.removeEventListener("mouseup",Y),S.removeEventListener("touchmove",z),S.removeEventListener("touchend",Y)}S.addEventListener("mousemove",z),S.addEventListener("mouseup",Y),S.addEventListener("touchmove",z),S.addEventListener("touchend",Y)}function lo(e,{handle:t,connectionMode:n,fromNodeId:s,fromHandleId:r,fromType:i,doc:o,lib:a,flowId:c,isValidConnection:u=uo,nodeLookup:f}){const d=i==="target",l=t?o.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:h}=Ge(e),v=o.elementFromPoint(p,h),E=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:l,m={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const k=co(void 0,E),x=E.getAttribute("data-nodeid"),b=E.getAttribute("data-handleid"),T=E.classList.contains("connectable"),C=E.classList.contains("connectableend");if(!x||!k)return m;const S={source:d?x:s,sourceHandle:d?b:r,target:d?s:x,targetHandle:d?r:b};m.connection=S;const O=T&&C&&(n===zt.Strict?d&&k==="source"||!d&&k==="target":x!==s||b!==r);m.isValid=O&&u(S),m.toHandle=ao(x,k,b,f,n,!1)}return m}const Ws={onPointerDown:kl,isValid:lo};function Sl({domNode:e,panZoom:t,getTransform:n,getViewScale:s}){const r=Re(e);function i({translateExtent:a,width:c,height:u,zoomStep:f=10,pannable:d=!0,zoomable:l=!0,inversePan:p=!1}){const h=x=>{const b=n();if(x.sourceEvent.type!=="wheel"||!t)return;const T=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*f,C=b[2]*Math.pow(2,T);t.scaleTo(C)};let v=[0,0];const E=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(v=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},m=x=>{const b=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const T=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],C=[T[0]-v[0],T[1]-v[1]];v=T;const S=s()*Math.max(b[2],Math.log(b[2]))*(p?-1:1),D={x:b[0]-C[0]*S,y:b[1]-C[1]*S},O=[[0,0],[c,u]];t.setViewportConstrained({x:D.x,y:D.y,zoom:b[2]},O,a)},k=$i().on("start",E).on("zoom",d?m:null).on("zoom.wheel",l?h:null);r.call(k,{})}function o(){r.on("zoom",null)}return{update:i,destroy:o,pointer:De}}const Pl=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,cs=e=>({x:e.x,y:e.y,zoom:e.k}),As=({x:e,y:t,zoom:n})=>er.translate(e,t).scale(n),Rt=(e,t)=>e.target.closest(`.${t}`),fo=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Is=(e,t=0,n=()=>{})=>{const s=typeof t=="number"&&t>0;return s||n(),s?e.transition().duration(t).on("end",n):e},po=e=>{const t=e.ctrlKey&&Wn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Al({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:s,panOnScrollMode:r,panOnScrollSpeed:i,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:u}){return f=>{if(Rt(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&o){const E=De(f),m=po(f),k=d*Math.pow(2,m);s.scaleTo(n,k,E,f);return}const l=f.deltaMode===1?20:1;let p=r===mt.Vertical?0:f.deltaX*l,h=r===mt.Horizontal?0:f.deltaY*l;!Wn()&&f.shiftKey&&r!==mt.Vertical&&(p=f.deltaY*l,h=0),s.translateBy(n,-(p/d)*i,-(h/d)*i,{internal:!0});const v=cs(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(f,v)),e.isPanScrolling&&(c==null||c(f,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,v),e.isPanScrolling=!1},150))}}function Il({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(s,r){if(!t&&s.type==="wheel"&&!s.ctrlKey||Rt(s,e))return null;s.preventDefault(),n.call(this,s,r)}}function Tl({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return s=>{var i,o,a;if((i=s.sourceEvent)!=null&&i.internal)return;const r=cs(s.transform);e.mouseButton=((o=s.sourceEvent)==null?void 0:o.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=r,((a=s.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(s.sourceEvent,r))}}function Rl({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:s,onPanZoom:r}){return i=>{var o,a;e.usedRightMouseButton=!!(n&&fo(t,e.mouseButton??0)),(o=i.sourceEvent)!=null&&o.sync||s([i.transform.x,i.transform.y,i.transform.k]),r&&!((a=i.sourceEvent)!=null&&a.internal)&&(r==null||r(i.sourceEvent,cs(i.transform)))}}function Cl({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:r,onPaneContextMenu:i}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,i&&fo(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&i(o.sourceEvent),e.usedRightMouseButton=!1,s(!1),r&&Pl(e.prevViewport,o.transform))){const c=cs(o.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r==null||r(o.sourceEvent,c)},n?150:0)}}}function Nl({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:s,panOnScroll:r,zoomOnDoubleClick:i,userSelectionActive:o,noWheelClassName:a,noPanClassName:c,lib:u}){return f=>{var h;const d=e||t,l=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Rt(f,`${u}-flow__node`)||Rt(f,`${u}-flow__edge`)))return!0;if(!s&&!d&&!r&&!i&&!n||o||Rt(f,a)&&f.type==="wheel"||Rt(f,c)&&(f.type!=="wheel"||r&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((h=f.touches)==null?void 0:h.length)>1)return f.preventDefault(),!1;if(!d&&!r&&!l&&f.type==="wheel"||!s&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(s)&&!s.includes(f.button)&&f.type==="mousedown")return!1;const p=Array.isArray(s)&&s.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&p}}function Ol({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:s,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),l=$i().clickDistance(!Le(s)||s<0?0:s).scaleExtent([t,n]).translateExtent(r),p=Re(e).call(l);x({x:i.x,y:i.y,zoom:$t(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const h=p.on("wheel.zoom"),v=p.on("dblclick.zoom");l.wheelDelta(po);function E(M,$){return p?new Promise(_=>{l==null||l.transform(Is(p,$==null?void 0:$.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function m({noWheelClassName:M,noPanClassName:$,onPaneContextMenu:_,userSelectionActive:P,panOnScroll:w,panOnDrag:N,panOnScrollMode:I,panOnScrollSpeed:R,preventScrolling:V,zoomOnPinch:G,zoomOnScroll:X,zoomOnDoubleClick:j,zoomActivationKeyPressed:Z,lib:F,onTransformChange:W}){P&&!f.isZoomingOrPanning&&k();const Y=w&&!Z&&!P?Al({zoomPanValues:f,noWheelClassName:M,d3Selection:p,d3Zoom:l,panOnScrollMode:I,panOnScrollSpeed:R,zoomOnPinch:G,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:c}):Il({noWheelClassName:M,preventScrolling:V,d3ZoomHandler:h});if(p.on("wheel.zoom",Y,{passive:!1}),!P){const se=Tl({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:a});l.on("start",se);const ie=Rl({zoomPanValues:f,panOnDrag:N,onPaneContextMenu:!!_,onPanZoom:o,onTransformChange:W});l.on("zoom",ie);const Q=Cl({zoomPanValues:f,panOnDrag:N,panOnScroll:w,onPaneContextMenu:_,onPanZoomEnd:c,onDraggingChange:u});l.on("end",Q)}const J=Nl({zoomActivationKeyPressed:Z,panOnDrag:N,zoomOnScroll:X,panOnScroll:w,zoomOnDoubleClick:j,zoomOnPinch:G,userSelectionActive:P,noPanClassName:$,noWheelClassName:M,lib:F});l.filter(J),j?p.on("dblclick.zoom",v):p.on("dblclick.zoom",null)}function k(){l.on("zoom",null)}async function x(M,$,_){const P=As(M),w=l==null?void 0:l.constrain()(P,$,_);return w&&await E(w),new Promise(N=>N(w))}async function b(M,$){const _=As(M);return await E(_,$),new Promise(P=>P(_))}function T(M){if(p){const $=As(M),_=p.property("__zoom");(_.k!==M.zoom||_.x!==M.x||_.y!==M.y)&&(l==null||l.transform(p,$,null,{sync:!0}))}}function C(){const M=p?vu(p.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function S(M,$){return p?new Promise(_=>{l==null||l.scaleTo(Is(p,$==null?void 0:$.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function D(M,$){return p?new Promise(_=>{l==null||l.scaleBy(Is(p,$==null?void 0:$.duration,()=>_(!0)),M)}):Promise.resolve(!1)}function O(M){l==null||l.scaleExtent(M)}function L(M){l==null||l.translateExtent(M)}function H(M){const $=!Le(M)||M<0?0:M;l==null||l.clickDistance($)}return{update:m,destroy:k,setViewport:b,setViewportConstrained:x,getViewport:C,scaleTo:S,scaleBy:D,setScaleExtent:O,setTranslateExtent:L,syncViewport:T,setClickDistance:H}}var sn;(function(e){e.Line="line",e.Handle="handle"})(sn||(sn={}));function Dl({width:e,prevWidth:t,height:n,prevHeight:s,affectsX:r,affectsY:i}){const o=e-t,a=n-s,c=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&r&&(c[0]=c[0]*-1),a&&i&&(c[1]=c[1]*-1),c}function Ll(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),s=e.includes("left"),r=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:s,affectsY:r}}function Qe(e,t){return Math.max(0,t-e)}function et(e,t){return Math.max(0,e-t)}function Vn(e,t,n){return Math.max(0,t-e,e-n)}function $r(e,t){return e?!t:t}function jl(e,t,n,s,r,i,o,a){let{affectsX:c,affectsY:u}=t;const{isHorizontal:f,isVertical:d}=t,l=f&&d,{xSnapped:p,ySnapped:h}=n,{minWidth:v,maxWidth:E,minHeight:m,maxHeight:k}=s,{x,y:b,width:T,height:C,aspectRatio:S}=e;let D=Math.floor(f?p-e.pointerX:0),O=Math.floor(d?h-e.pointerY:0);const L=T+(c?-D:D),H=C+(u?-O:O),M=-i[0]*T,$=-i[1]*C;let _=Vn(L,v,E),P=Vn(H,m,k);if(o){let I=0,R=0;c&&D<0?I=Qe(x+D+M,o[0][0]):!c&&D>0&&(I=et(x+L+M,o[1][0])),u&&O<0?R=Qe(b+O+$,o[0][1]):!u&&O>0&&(R=et(b+H+$,o[1][1])),_=Math.max(_,I),P=Math.max(P,R)}if(a){let I=0,R=0;c&&D>0?I=et(x+D,a[0][0]):!c&&D<0&&(I=Qe(x+L,a[1][0])),u&&O>0?R=et(b+O,a[0][1]):!u&&O<0&&(R=Qe(b+H,a[1][1])),_=Math.max(_,I),P=Math.max(P,R)}if(r){if(f){const I=Vn(L/S,m,k)*S;if(_=Math.max(_,I),o){let R=0;!c&&!u||c&&!u&&l?R=et(b+$+L/S,o[1][1])*S:R=Qe(b+$+(c?D:-D)/S,o[0][1])*S,_=Math.max(_,R)}if(a){let R=0;!c&&!u||c&&!u&&l?R=Qe(b+L/S,a[1][1])*S:R=et(b+(c?D:-D)/S,a[0][1])*S,_=Math.max(_,R)}}if(d){const I=Vn(H*S,v,E)/S;if(P=Math.max(P,I),o){let R=0;!c&&!u||u&&!c&&l?R=et(x+H*S+M,o[1][0])/S:R=Qe(x+(u?O:-O)*S+M,o[0][0])/S,P=Math.max(P,R)}if(a){let R=0;!c&&!u||u&&!c&&l?R=Qe(x+H*S,a[1][0])/S:R=et(x+(u?O:-O)*S,a[0][0])/S,P=Math.max(P,R)}}}O=O+(O<0?P:-P),D=D+(D<0?_:-_),r&&(l?L>H*S?O=($r(c,u)?-D:D)/S:D=($r(c,u)?-O:O)*S:f?(O=D/S,u=c):(D=O*S,c=u));const w=c?x+D:x,N=u?b+O:b;return{width:T+(c?-D:D),height:C+(u?-O:O),x:i[0]*D*(c?-1:1)+w,y:i[1]*O*(u?-1:1)+N}}const ho={width:0,height:0,x:0,y:0},Ml={...ho,pointerX:0,pointerY:0,aspectRatio:1};function Vl(e){return[[0,0],[e.measured.width,e.measured.height]]}function zl(e,t,n){const s=t.position.x+e.position.x,r=t.position.y+e.position.y,i=e.measured.width??0,o=e.measured.height??0,a=n[0]*i,c=n[1]*o;return[[s-a,r-c],[s+i-a,r+o-c]]}function $l({domNode:e,nodeId:t,getStoreItems:n,onChange:s,onEnd:r}){const i=Re(e);function o({controlPosition:c,boundaries:u,keepAspectRatio:f,onResizeStart:d,onResize:l,onResizeEnd:p,shouldResize:h}){let v={...ho},E={...Ml};const m=Ll(c);let k,x=null,b=[],T,C,S;const D=zi().on("start",O=>{const{nodeLookup:L,transform:H,snapGrid:M,snapToGrid:$,nodeOrigin:_,paneDomNode:P}=n();if(k=L.get(t),!k)return;x=(P==null?void 0:P.getBoundingClientRect())??null;const{xSnapped:w,ySnapped:N}=nn(O.sourceEvent,{transform:H,snapGrid:M,snapToGrid:$,containerBounds:x});v={width:k.measured.width??0,height:k.measured.height??0,x:k.position.x??0,y:k.position.y??0},E={...v,pointerX:w,pointerY:N,aspectRatio:v.width/v.height},T=void 0,k.parentId&&(k.extent==="parent"||k.expandParent)&&(T=L.get(k.parentId),C=T&&k.extent==="parent"?Vl(T):void 0),b=[],S=void 0;for(const[I,R]of L)if(R.parentId===t&&(b.push({id:I,position:{...R.position},extent:R.extent}),R.extent==="parent"||R.expandParent)){const V=zl(R,k,R.origin??_);S?S=[[Math.min(V[0][0],S[0][0]),Math.min(V[0][1],S[0][1])],[Math.max(V[1][0],S[1][0]),Math.max(V[1][1],S[1][1])]]:S=V}d==null||d(O,{...v})}).on("drag",O=>{const{transform:L,snapGrid:H,snapToGrid:M,nodeOrigin:$}=n(),_=nn(O.sourceEvent,{transform:L,snapGrid:H,snapToGrid:M,containerBounds:x}),P=[];if(!k)return;const{x:w,y:N,width:I,height:R}=v,V={},G=k.origin??$,{width:X,height:j,x:Z,y:F}=jl(E,m,_,u,f,G,C,S),W=X!==I,z=j!==R,Y=Z!==w&&W,J=F!==N&&z;if(!Y&&!J&&!W&&!z)return;if((Y||J||G[0]===1||G[1]===1)&&(V.x=Y?Z:v.x,V.y=J?F:v.y,v.x=V.x,v.y=V.y,b.length>0)){const ne=Z-w,le=F-N;for(const _e of b)_e.position={x:_e.position.x-ne+G[0]*(X-I),y:_e.position.y-le+G[1]*(j-R)},P.push(_e)}if((W||z)&&(V.width=W?X:v.width,V.height=z?j:v.height,v.width=V.width,v.height=V.height),T&&k.expandParent){const ne=G[0]*(V.width??0);V.x&&V.x<ne&&(v.x=ne,E.x=E.x-(V.x-ne));const le=G[1]*(V.height??0);V.y&&V.y<le&&(v.y=le,E.y=E.y-(V.y-le))}const se=Dl({width:v.width,prevWidth:I,height:v.height,prevHeight:R,affectsX:m.affectsX,affectsY:m.affectsY}),ie={...v,direction:se};(h==null?void 0:h(O,ie))!==!1&&(l==null||l(O,ie),s(V,P))}).on("end",O=>{p==null||p(O,{...v}),r==null||r()});i.call(D)}function a(){i.on(".drag",null)}return{update:o,destroy:a}}const Zl={},Zr=e=>{let t;const n=new Set,s=(f,d)=>{const l=typeof f=="function"?f(t):f;if(!Object.is(l,t)){const p=t;t=d??(typeof l!="object"||l===null)?l:Object.assign({},t,l),n.forEach(h=>h(t,p))}},r=()=>t,c={setState:s,getState:r,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(Zl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,r,c);return c},Hl=e=>e?Zr(e):Zr,{useDebugValue:Bl}=Vt,{useSyncExternalStoreWithSelector:Fl}=xu,Wl=e=>e;function go(e,t=Wl,n){const s=Fl(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Bl(s),s}const Hr=(e,t)=>{const n=Hl(e),s=(r,i=t)=>go(n,r,i);return Object.assign(s,n),s},Ul=(e,t)=>e?Hr(e,t):Hr;function xe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[s,r]of e)if(!Object.is(r,t.get(s)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(t,s)||!Object.is(e[s],t[s]))return!1;return!0}const us=A.createContext(null),Gl=us.Provider,mo=qe.error001();function fe(e,t){const n=A.useContext(us);if(n===null)throw new Error(mo);return go(n,e,t)}function me(){const e=A.useContext(us);if(e===null)throw new Error(mo);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Br={display:"none"},Yl={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_o="react-flow__node-desc",yo="react-flow__edge-desc",Xl="react-flow__aria-live",ql=e=>e.ariaLiveMessage;function Kl({rfId:e}){const t=fe(ql);return g.jsx("div",{id:`${Xl}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Yl,children:t})}function Jl({rfId:e,disableKeyboardA11y:t}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{id:`${_o}-${e}`,style:Br,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),g.jsx("div",{id:`${yo}-${e}`,style:Br,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&g.jsx(Kl,{rfId:e})]})}const Ql=e=>e.userSelectionActive?"none":"all",ls=A.forwardRef(({position:e="top-left",children:t,className:n,style:s,...r},i)=>{const o=fe(Ql),a=`${e}`.split("-");return g.jsx("div",{className:be(["react-flow__panel",n,...a]),style:{...s,pointerEvents:o},ref:i,...r,children:t})});ls.displayName="Panel";function ed({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:g.jsx(ls,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const td=e=>{const t=[],n=[];for(const[,s]of e.nodeLookup)s.selected&&t.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&n.push(s);return{selectedNodes:t,selectedEdges:n}},zn=e=>e.id;function nd(e,t){return xe(e.selectedNodes.map(zn),t.selectedNodes.map(zn))&&xe(e.selectedEdges.map(zn),t.selectedEdges.map(zn))}function sd({onSelectionChange:e}){const t=me(),{selectedNodes:n,selectedEdges:s}=fe(td,nd);return A.useEffect(()=>{const r={nodes:n,edges:s};e==null||e(r),t.getState().onSelectionChangeHandlers.forEach(i=>i(r))},[n,s,e]),null}const rd=e=>!!e.onSelectionChangeHandlers;function id({onSelectionChange:e}){const t=fe(rd);return e||t?g.jsx(sd,{onSelectionChange:e}):null}const vo=[0,0],od={x:0,y:0,zoom:1},ad=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Fr=[...ad,"rfId"],cd=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Wr={translateExtent:an,nodeOrigin:vo,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function ud(e){const{setNodes:t,setEdges:n,setMinZoom:s,setMaxZoom:r,setTranslateExtent:i,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=fe(cd,xe),f=me();A.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=Wr,a()}),[]);const d=A.useRef(Wr);return A.useEffect(()=>{for(const l of Fr){const p=e[l],h=d.current[l];p!==h&&(typeof e[l]>"u"||(l==="nodes"?t(p):l==="edges"?n(p):l==="minZoom"?s(p):l==="maxZoom"?r(p):l==="translateExtent"?i(p):l==="nodeExtent"?o(p):l==="paneClickDistance"?u(p):l==="fitView"?f.setState({fitViewOnInit:p}):l==="fitViewOptions"?f.setState({fitViewOnInitOptions:p}):f.setState({[l]:p})))}d.current=e},Fr.map(l=>e[l])),null}function Ur(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ld(e){var s;const[t,n]=A.useState(e==="system"?null:e);return A.useEffect(()=>{if(e!=="system"){n(e);return}const r=Ur(),i=()=>n(r!=null&&r.matches?"dark":"light");return i(),r==null||r.addEventListener("change",i),()=>{r==null||r.removeEventListener("change",i)}},[e]),t!==null?t:(s=Ur())!=null&&s.matches?"dark":"light"}const Gr=typeof document<"u"?document:null;function dn(e=null,t={target:Gr,actInsideInputWithModifier:!0}){const[n,s]=A.useState(!1),r=A.useRef(!1),i=A.useRef(new Set([])),[o,a]=A.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((d,l)=>d.concat(...l),[]);return[u,f]}return[[],[]]},[e]);return A.useEffect(()=>{const c=(t==null?void 0:t.target)||Gr;if(e!==null){const u=l=>{if(r.current=l.ctrlKey||l.metaKey||l.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&Zs(l))return!1;const h=Xr(l.code,a);i.current.add(l[h]),Yr(o,i.current,!1)&&(l.preventDefault(),s(!0))},f=l=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&Zs(l))return!1;const h=Xr(l.code,a);Yr(o,i.current,!0)?(s(!1),i.current.clear()):i.current.delete(l[h]),l.key==="Meta"&&i.current.clear(),r.current=!1},d=()=>{i.current.clear(),s(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,s]),n}function Yr(e,t,n){return e.filter(s=>n||s.length===t.size).some(s=>s.every(r=>t.has(r)))}function Xr(e,t){return t.includes(e)?"code":"key"}const dd=()=>{const e=me();return A.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[s,r,i],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??s,y:t.y??r,zoom:t.zoom??i},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,s]=e.getState().transform;return{x:t,y:n,zoom:s}},fitView:t=>{const{nodeLookup:n,minZoom:s,maxZoom:r,panZoom:i,domNode:o}=e.getState();if(!i||!o)return Promise.resolve(!1);const a=Vs(n,t),{width:c,height:u}=as(o);return zs({nodes:a,width:c,height:u,minZoom:s,maxZoom:r,panZoom:i},t)},setCenter:async(t,n,s)=>{const{width:r,height:i,maxZoom:o,panZoom:a}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:o,u=r/2-t*c,f=i/2-n*c;return a?(await a.setViewport({x:u,y:f,zoom:c},{duration:s==null?void 0:s.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:s,height:r,minZoom:i,maxZoom:o,panZoom:a}=e.getState(),c=nr(t,s,r,i,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:s,snapGrid:r,snapToGrid:i,domNode:o}=e.getState();if(!o)return t;const{x:a,y:c}=o.getBoundingClientRect(),u={x:t.x-a,y:t.y-c},f=n.snapGrid??r,d=n.snapToGrid??i;return Rn(u,s,d,f)},flowToScreenPosition:t=>{const{transform:n,domNode:s}=e.getState();if(!s)return t;const{x:r,y:i}=s.getBoundingClientRect(),o=qi(t,n);return{x:o.x+r,y:o.y+i}}}),[])};function xo(e,t){const n=[],s=new Map,r=[];for(const i of e)if(i.type==="add"){r.push(i);continue}else if(i.type==="remove"||i.type==="replace")s.set(i.id,[i]);else{const o=s.get(i.id);o?o.push(i):s.set(i.id,[i])}for(const i of t){const o=s.get(i.id);if(!o){n.push(i);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...i};for(const c of o)fd(c,a);n.push(a)}return r.length&&r.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function fd(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function pd(e,t){return xo(e,t)}function hd(e,t){return xo(e,t)}function ht(e,t){return{id:e,type:"select",selected:t}}function Ct(e,t=new Set,n=!1){const s=[];for(const[r,i]of e){const o=t.has(r);!(i.selected===void 0&&!o)&&i.selected!==o&&(n&&(i.selected=o),s.push(ht(i.id,o)))}return s}function qr({items:e=[],lookup:t}){var r;const n=[],s=new Map(e.map(i=>[i.id,i]));for(const[i,o]of e.entries()){const a=t.get(o.id),c=((r=a==null?void 0:a.internals)==null?void 0:r.userNode)??a;c!==void 0&&c!==o&&n.push({id:o.id,item:o,type:"replace"}),c===void 0&&n.push({item:o,type:"add",index:i})}for(const[i]of t)s.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Kr(e){return{id:e.id,type:"remove"}}const Jr=e=>qu(e),gd=e=>Fi(e);function bo(e){return A.forwardRef(e)}const md=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Qr(e){const[t,n]=A.useState(BigInt(0)),[s]=A.useState(()=>_d(()=>n(r=>r+BigInt(1))));return md(()=>{const r=s.get();r.length&&(e(r),s.reset())},[t]),s}function _d(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Eo=A.createContext(null);function yd({children:e}){const t=me(),n=A.useCallback(a=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:f,onNodesChange:d,nodeLookup:l}=t.getState();let p=c;for(const h of a)p=typeof h=="function"?h(p):h;f?u(p):d&&d(qr({items:p,lookup:l}))},[]),s=Qr(n),r=A.useCallback(a=>{const{edges:c=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:l}=t.getState();let p=c;for(const h of a)p=typeof h=="function"?h(p):h;f?u(p):d&&d(qr({items:p,lookup:l}))},[]),i=Qr(r),o=A.useMemo(()=>({nodeQueue:s,edgeQueue:i}),[]);return g.jsx(Eo.Provider,{value:o,children:e})}function vd(){const e=A.useContext(Eo);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const xd=e=>!!e.panZoom;function cr(){const e=dd(),t=me(),n=vd(),s=fe(xd),r=A.useMemo(()=>{const i=d=>t.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},c=d=>{var m,k;const{nodeLookup:l,nodeOrigin:p}=t.getState(),h=Jr(d)?d:l.get(d.id),v=h.parentId?Ji(h.position,h.measured,h.parentId,l,p):h.position,E={...h,position:v,width:((m=h.measured)==null?void 0:m.width)??h.width,height:((k=h.measured)==null?void 0:k.height)??h.height};return Zt(E)},u=(d,l,p={replace:!1})=>{o(h=>h.map(v=>{if(v.id===d){const E=typeof l=="function"?l(v):l;return p.replace&&Jr(E)?E:{...v,...E}}return v}))},f=(d,l,p={replace:!1})=>{a(h=>h.map(v=>{if(v.id===d){const E=typeof l=="function"?l(v):l;return p.replace&&gd(E)?E:{...v,...E}}return v}))};return{getNodes:()=>t.getState().nodes.map(d=>({...d})),getNode:d=>{var l;return(l=i(d))==null?void 0:l.internals.userNode},getInternalNode:i,getEdges:()=>{const{edges:d=[]}=t.getState();return d.map(l=>({...l}))},getEdge:d=>t.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const l=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...l])},addEdges:d=>{const l=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...l])},toObject:()=>{const{nodes:d=[],edges:l=[],transform:p}=t.getState(),[h,v,E]=p;return{nodes:d.map(m=>({...m})),edges:l.map(m=>({...m})),viewport:{x:h,y:v,zoom:E}}},deleteElements:async({nodes:d=[],edges:l=[]})=>{const{nodes:p,edges:h,onNodesDelete:v,onEdgesDelete:E,triggerNodeChanges:m,triggerEdgeChanges:k,onDelete:x,onBeforeDelete:b}=t.getState(),{nodes:T,edges:C}=await Qu({nodesToRemove:d,edgesToRemove:l,nodes:p,edges:h,onBeforeDelete:b}),S=C.length>0,D=T.length>0;if(S){const O=C.map(Kr);E==null||E(C),k(O)}if(D){const O=T.map(Kr);v==null||v(T),m(O)}return(D||S)&&(x==null||x({nodes:T,edges:C})),{deletedNodes:T,deletedEdges:C}},getIntersectingNodes:(d,l=!0,p)=>{const h=Tr(d),v=h?d:c(d),E=p!==void 0;return v?(p||t.getState().nodes).filter(m=>{const k=t.getState().nodeLookup.get(m.id);if(k&&!h&&(m.id===d.id||!k.internals.positionAbsolute))return!1;const x=Zt(E?m:k),b=un(x,v);return l&&b>0||b>=v.width*v.height}):[]},isNodeIntersecting:(d,l,p=!0)=>{const v=Tr(d)?d:c(d);if(!v)return!1;const E=un(v,l);return p&&E>0||E>=v.width*v.height},updateNode:u,updateNodeData:(d,l,p={replace:!1})=>{u(d,h=>{const v=typeof l=="function"?l(h):l;return p.replace?{...h,data:v}:{...h,data:{...h.data,...v}}},p)},updateEdge:f,updateEdgeData:(d,l,p={replace:!1})=>{f(d,h=>{const v=typeof l=="function"?l(h):l;return p.replace?{...h,data:v}:{...h,data:{...h.data,...v}}},p)},getNodesBounds:d=>{const{nodeLookup:l,nodeOrigin:p}=t.getState();return Ku(d,{nodeLookup:l,nodeOrigin:p})},getHandleConnections:({type:d,id:l,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}-${d}${l?`-${l}`:""}`))==null?void 0:h.values())??[])},getNodeConnections:({type:d,handleId:l,nodeId:p})=>{var h;return Array.from(((h=t.getState().connectionLookup.get(`${p}${d?l?`-${d}-${l}`:`-${d}`:""}`))==null?void 0:h.values())??[])}}},[]);return A.useMemo(()=>({...r,...e,viewportInitialized:s}),[s])}const ei=e=>e.selected,bd={actInsideInputWithModifier:!1},Ed=typeof window<"u"?window:void 0;function wd({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=me(),{deleteElements:s}=cr(),r=dn(e,bd),i=dn(t,{target:Ed});A.useEffect(()=>{if(r){const{edges:o,nodes:a}=n.getState();s({nodes:a.filter(ei),edges:o.filter(ei)}),n.setState({nodesSelectionActive:!1})}},[r]),A.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function kd(e){const t=me();A.useEffect(()=>{const n=()=>{var r,i;if(!e.current)return!1;const s=as(e.current);(s.height===0||s.width===0)&&((i=(r=t.getState()).onError)==null||i.call(r,"004",qe.error004())),t.setState({width:s.width||500,height:s.height||500})};if(e.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(e.current),()=>{window.removeEventListener("resize",n),s&&e.current&&s.unobserve(e.current)}}},[])}const ds={position:"absolute",width:"100%",height:"100%",top:0,left:0},Sd=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Pd({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:r=.5,panOnScrollMode:i=mt.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:u,minZoom:f,maxZoom:d,zoomActivationKeyCode:l,preventScrolling:p=!0,children:h,noWheelClassName:v,noPanClassName:E,onViewportChange:m,isControlledViewport:k,paneClickDistance:x}){const b=me(),T=A.useRef(null),{userSelectionActive:C,lib:S}=fe(Sd,xe),D=dn(l),O=A.useRef();kd(T);const L=A.useCallback(H=>{m==null||m({x:H[0],y:H[1],zoom:H[2]}),k||b.setState({transform:H})},[m,k]);return A.useEffect(()=>{if(T.current){O.current=Ol({domNode:T.current,minZoom:f,maxZoom:d,translateExtent:u,viewport:c,paneClickDistance:x,onDraggingChange:_=>b.setState({paneDragging:_}),onPanZoomStart:(_,P)=>{const{onViewportChangeStart:w,onMoveStart:N}=b.getState();N==null||N(_,P),w==null||w(P)},onPanZoom:(_,P)=>{const{onViewportChange:w,onMove:N}=b.getState();N==null||N(_,P),w==null||w(P)},onPanZoomEnd:(_,P)=>{const{onViewportChangeEnd:w,onMoveEnd:N}=b.getState();N==null||N(_,P),w==null||w(P)}});const{x:H,y:M,zoom:$}=O.current.getViewport();return b.setState({panZoom:O.current,transform:[H,M,$],domNode:T.current.closest(".react-flow")}),()=>{var _;(_=O.current)==null||_.destroy()}}},[]),A.useEffect(()=>{var H;(H=O.current)==null||H.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:r,panOnScrollMode:i,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:D,preventScrolling:p,noPanClassName:E,userSelectionActive:C,noWheelClassName:v,lib:S,onTransformChange:L})},[e,t,n,s,r,i,o,a,D,p,E,C,v,S,L]),g.jsx("div",{className:"react-flow__renderer",ref:T,style:ds,children:h})}const Ad=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Id(){const{userSelectionActive:e,userSelectionRect:t}=fe(Ad,xe);return e&&t?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Ts=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Td=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function Rd({isSelecting:e,selectionKeyPressed:t,selectionMode:n=cn.Full,panOnDrag:s,selectionOnDrag:r,onSelectionStart:i,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:l,children:p}){const h=me(),{userSelectionActive:v,elementsSelectable:E,dragging:m}=fe(Td,xe),k=E&&(e||v),x=A.useRef(null),b=A.useRef(),T=A.useRef(new Set),C=A.useRef(new Set),S=A.useRef(!1),D=A.useRef(!1),O=w=>{if(S.current){S.current=!1;return}a==null||a(w),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},L=w=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){w.preventDefault();return}c==null||c(w)},H=u?w=>u(w):void 0,M=w=>{var G,X;const{resetSelectedElements:N,domNode:I}=h.getState();if(b.current=I==null?void 0:I.getBoundingClientRect(),!E||!e||w.button!==0||w.target!==x.current||!b.current)return;(X=(G=w.target)==null?void 0:G.setPointerCapture)==null||X.call(G,w.pointerId),D.current=!0,S.current=!1;const{x:R,y:V}=Ge(w.nativeEvent,b.current);N(),h.setState({userSelectionRect:{width:0,height:0,startX:R,startY:V,x:R,y:V}}),i==null||i(w)},$=w=>{const{userSelectionRect:N,transform:I,nodeLookup:R,edgeLookup:V,connectionLookup:G,triggerNodeChanges:X,triggerEdgeChanges:j,defaultEdgeOptions:Z}=h.getState();if(!b.current||!N)return;S.current=!0;const{x:F,y:W}=Ge(w.nativeEvent,b.current),{startX:z,startY:Y}=N,J={startX:z,startY:Y,x:F<z?F:z,y:W<Y?W:Y,width:Math.abs(F-z),height:Math.abs(W-Y)},se=T.current,ie=C.current;T.current=new Set(Wi(R,J,I,n===cn.Partial,!0).map(ne=>ne.id)),C.current=new Set;const Q=(Z==null?void 0:Z.selectable)??!0;for(const ne of T.current){const le=G.get(ne);if(le)for(const{edgeId:_e}of le.values()){const we=V.get(_e);we&&(we.selectable??Q)&&C.current.add(_e)}}if(!Rr(se,T.current)){const ne=Ct(R,T.current,!0);X(ne)}if(!Rr(ie,C.current)){const ne=Ct(V,C.current);j(ne)}h.setState({userSelectionRect:J,userSelectionActive:!0,nodesSelectionActive:!1})},_=w=>{var I,R;if(w.button!==0||!D.current)return;(R=(I=w.target)==null?void 0:I.releasePointerCapture)==null||R.call(I,w.pointerId);const{userSelectionRect:N}=h.getState();!v&&N&&w.target===x.current&&(O==null||O(w)),h.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:T.current.size>0}),o==null||o(w),(t||r)&&(S.current=!1),D.current=!1},P=s===!0||Array.isArray(s)&&s.includes(0);return g.jsxs("div",{className:be(["react-flow__pane",{draggable:P,dragging:m,selection:e}]),onClick:k?void 0:Ts(O,x),onContextMenu:Ts(L,x),onWheel:Ts(H,x),onPointerEnter:k?void 0:f,onPointerDown:k?M:d,onPointerMove:k?$:d,onPointerUp:k?_:void 0,onPointerLeave:l,ref:x,style:ds,children:[p,g.jsx(Id,{})]})}function Us({id:e,store:t,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:o,nodeLookup:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",qe.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=s==null?void 0:s.current)==null?void 0:f.blur()})):r([e])}function wo({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:s,nodeId:r,isSelectable:i,nodeClickDistance:o}){const a=me(),[c,u]=A.useState(!1),f=A.useRef();return A.useEffect(()=>{f.current=vl({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{Us({id:d,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),A.useEffect(()=>{var d,l;if(t)(d=f.current)==null||d.destroy();else if(e.current)return(l=f.current)==null||l.update({noDragClassName:n,handleSelector:s,domNode:e.current,isSelectable:i,nodeId:r,nodeClickDistance:o}),()=>{var p;(p=f.current)==null||p.destroy()}},[n,s,t,i,e,r]),c}const Cd=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function ko(){const e=me();return A.useCallback(n=>{const{nodeExtent:s,snapToGrid:r,snapGrid:i,nodesDraggable:o,onError:a,updateNodePositions:c,nodeLookup:u,nodeOrigin:f}=e.getState(),d=new Map,l=Cd(o),p=r?i[0]:5,h=r?i[1]:5,v=n.direction.x*p*n.factor,E=n.direction.y*h*n.factor;for(const[,m]of u){if(!l(m))continue;let k={x:m.internals.positionAbsolute.x+v,y:m.internals.positionAbsolute.y+E};r&&(k=os(k,i));const{position:x,positionAbsolute:b}=Ui({nodeId:m.id,nextPosition:k,nodeLookup:u,nodeExtent:s,nodeOrigin:f,onError:a});m.position=x,m.internals.positionAbsolute=b,d.set(m.id,m)}c(d)},[])}const ur=A.createContext(null),Nd=ur.Provider;ur.Consumer;const So=()=>A.useContext(ur),Od=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),Dd=(e,t,n)=>s=>{const{connectionClickStartHandle:r,connectionMode:i,connection:o}=s,{fromHandle:a,toHandle:c,isValid:u}=o,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.id)===t&&(r==null?void 0:r.type)===n,isPossibleEndHandle:i===zt.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,valid:f&&u}};function Ld({type:e="source",position:t=te.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:o,onConnect:a,children:c,className:u,onMouseDown:f,onTouchStart:d,...l},p){var _,P;const h=o||null,v=e==="target",E=me(),m=So(),{connectOnClick:k,noPanClassName:x,rfId:b}=fe(Od,xe),{connectingFrom:T,connectingTo:C,clickConnecting:S,isPossibleEndHandle:D,connectionInProcess:O,valid:L}=fe(Dd(m,h,e),xe);m||(P=(_=E.getState()).onError)==null||P.call(_,"010",qe.error010());const H=w=>{const{defaultEdgeOptions:N,onConnect:I,hasDefaultEdges:R}=E.getState(),V={...N,...w};if(R){const{edges:G,setEdges:X}=E.getState();X(ol(V,G))}I==null||I(V),a==null||a(V)},M=w=>{if(!m)return;const N=eo(w.nativeEvent);if(r&&(N&&w.button===0||!N)){const I=E.getState();Ws.onPointerDown(w.nativeEvent,{autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:v,handleId:h,nodeId:m,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:H,isValidConnection:n||I.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed})}N?f==null||f(w):d==null||d(w)},$=w=>{const{onClickConnectStart:N,onClickConnectEnd:I,connectionClickStartHandle:R,connectionMode:V,isValidConnection:G,lib:X,rfId:j,nodeLookup:Z,connection:F}=E.getState();if(!m||!R&&!r)return;if(!R){N==null||N(w.nativeEvent,{nodeId:m,handleId:h,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:m,type:e,id:h}});return}const W=Qi(w.target),z=n||G,{connection:Y,isValid:J}=Ws.isValid(w.nativeEvent,{handle:{nodeId:m,id:h,type:e},connectionMode:V,fromNodeId:R.nodeId,fromHandleId:R.id||null,fromType:R.type,isValidConnection:z,flowId:j,doc:W,lib:X,nodeLookup:Z});J&&Y&&H(Y);const se=structuredClone(F);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,I==null||I(w,se),E.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":h,"data-nodeid":m,"data-handlepos":t,"data-id":`${b}-${m}-${h}-${e}`,className:be(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",x,u,{source:!v,target:v,connectable:s,connectablestart:r,connectableend:i,clickconnecting:S,connectingfrom:T,connectingto:C,valid:L,connectionindicator:s&&(!O||D)&&(O?i:r)}]),onMouseDown:M,onTouchStart:M,onClick:k?$:void 0,ref:p,...l,children:c})}const Bt=A.memo(bo(Ld));function jd({data:e,isConnectable:t,sourcePosition:n=te.Bottom}){return g.jsxs(g.Fragment,{children:[e==null?void 0:e.label,g.jsx(Bt,{type:"source",position:n,isConnectable:t})]})}function Md({data:e,isConnectable:t,targetPosition:n=te.Top,sourcePosition:s=te.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(Bt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,g.jsx(Bt,{type:"source",position:s,isConnectable:t})]})}function Vd(){return null}function zd({data:e,isConnectable:t,targetPosition:n=te.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(Bt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Un={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ti={input:jd,default:Md,output:zd,group:Vd};function $d(e){var t,n,s,r;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((r=e.style)==null?void 0:r.height)}}const Zd=e=>{const{width:t,height:n,x:s,y:r}=Tn(e.nodeLookup,{filter:i=>!!i.selected});return{width:Le(t)?t:null,height:Le(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${r}px)`}};function Hd({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=me(),{width:r,height:i,transformString:o,userSelectionActive:a}=fe(Zd,xe),c=ko(),u=A.useRef(null);if(A.useEffect(()=>{var l;n||(l=u.current)==null||l.focus({preventScroll:!0})},[n]),wo({nodeRef:u}),a||!r||!i)return null;const f=e?l=>{const p=s.getState().nodes.filter(h=>h.selected);e(l,p)}:void 0,d=l=>{Object.prototype.hasOwnProperty.call(Un,l.key)&&(l.preventDefault(),c({direction:Un[l.key],factor:l.shiftKey?4:1}))};return g.jsx("div",{className:be(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:g.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:r,height:i}})})}const ni=typeof window<"u"?window:void 0,Bd=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Po({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:f,selectionMode:d,onSelectionStart:l,onSelectionEnd:p,multiSelectionKeyCode:h,panActivationKeyCode:v,zoomActivationKeyCode:E,elementsSelectable:m,zoomOnScroll:k,zoomOnPinch:x,panOnScroll:b,panOnScrollSpeed:T,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:D,defaultViewport:O,translateExtent:L,minZoom:H,maxZoom:M,preventScrolling:$,onSelectionContextMenu:_,noWheelClassName:P,noPanClassName:w,disableKeyboardA11y:N,onViewportChange:I,isControlledViewport:R}){const{nodesSelectionActive:V,userSelectionActive:G}=fe(Bd),X=dn(u,{target:ni}),j=dn(v,{target:ni}),Z=j||D,F=j||b,W=f&&Z!==!0,z=X||G||W;return wd({deleteKeyCode:c,multiSelectionKeyCode:h}),g.jsx(Pd,{onPaneContextMenu:i,elementsSelectable:m,zoomOnScroll:k,zoomOnPinch:x,panOnScroll:F,panOnScrollSpeed:T,panOnScrollMode:C,zoomOnDoubleClick:S,panOnDrag:!X&&Z,defaultViewport:O,translateExtent:L,minZoom:H,maxZoom:M,zoomActivationKeyCode:E,preventScrolling:$,noWheelClassName:P,noPanClassName:w,onViewportChange:I,isControlledViewport:R,paneClickDistance:a,children:g.jsxs(Rd,{onSelectionStart:l,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:Z,isSelecting:!!z,selectionMode:d,selectionKeyPressed:X,selectionOnDrag:W,children:[e,V&&g.jsx(Hd,{onSelectionContextMenu:_,noPanClassName:w,disableKeyboardA11y:N})]})})}Po.displayName="FlowRenderer";const Fd=A.memo(Po),Wd=e=>t=>e?Wi(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Ud(e){return fe(A.useCallback(Wd(e),[e]),xe)}const Gd=e=>e.updateNodeInternals;function Yd(){const e=fe(Gd),[t]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(r=>{const i=r.target.getAttribute("data-id");s.set(i,{id:i,nodeElement:r.target,force:!0})}),e(s)}));return A.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function Xd({node:e,nodeType:t,hasDimensions:n,resizeObserver:s}){const r=me(),i=A.useRef(null),o=A.useRef(null),a=A.useRef(e.sourcePosition),c=A.useRef(e.targetPosition),u=A.useRef(t),f=n&&!!e.internals.handleBounds;return A.useEffect(()=>{i.current&&!e.hidden&&(!f||o.current!==i.current)&&(o.current&&(s==null||s.unobserve(o.current)),s==null||s.observe(i.current),o.current=i.current)},[f,e.hidden]),A.useEffect(()=>()=>{o.current&&(s==null||s.unobserve(o.current),o.current=null)},[]),A.useEffect(()=>{if(i.current){const d=u.current!==t,l=a.current!==e.sourcePosition,p=c.current!==e.targetPosition;(d||l||p)&&(u.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,r.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function qd({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:r,onContextMenu:i,onDoubleClick:o,nodesDraggable:a,elementsSelectable:c,nodesConnectable:u,nodesFocusable:f,resizeObserver:d,noDragClassName:l,noPanClassName:p,disableKeyboardA11y:h,rfId:v,nodeTypes:E,nodeClickDistance:m,onError:k}){const{node:x,internals:b,isParent:T}=fe(z=>{const Y=z.nodeLookup.get(e),J=z.parentLookup.has(e);return{node:Y,internals:Y.internals,isParent:J}},xe);let C=x.type||"default",S=(E==null?void 0:E[C])||ti[C];S===void 0&&(k==null||k("003",qe.error003(C)),C="default",S=ti.default);const D=!!(x.draggable||a&&typeof x.draggable>"u"),O=!!(x.selectable||c&&typeof x.selectable>"u"),L=!!(x.connectable||u&&typeof x.connectable>"u"),H=!!(x.focusable||f&&typeof x.focusable>"u"),M=me(),$=Ki(x),_=Xd({node:x,nodeType:C,hasDimensions:$,resizeObserver:d}),P=wo({nodeRef:_,disabled:x.hidden||!D,noDragClassName:l,handleSelector:x.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:m}),w=ko();if(x.hidden)return null;const N=Ke(x),I=$d(x),R=O||D||t||n||s||r,V=n?z=>n(z,{...b.userNode}):void 0,G=s?z=>s(z,{...b.userNode}):void 0,X=r?z=>r(z,{...b.userNode}):void 0,j=i?z=>i(z,{...b.userNode}):void 0,Z=o?z=>o(z,{...b.userNode}):void 0,F=z=>{const{selectNodesOnDrag:Y,nodeDragThreshold:J}=M.getState();O&&(!Y||!D||J>0)&&Us({id:e,store:M,nodeRef:_}),t&&t(z,{...b.userNode})},W=z=>{if(!(Zs(z.nativeEvent)||h))if(Zi.includes(z.key)&&O){const Y=z.key==="Escape";Us({id:e,store:M,unselect:Y,nodeRef:_})}else D&&x.selected&&Object.prototype.hasOwnProperty.call(Un,z.key)&&(z.preventDefault(),M.setState({ariaLiveMessage:`Moved selected node ${z.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~b.positionAbsolute.x}, y: ${~~b.positionAbsolute.y}`}),w({direction:Un[z.key],factor:z.shiftKey?4:1}))};return g.jsx("div",{className:be(["react-flow__node",`react-flow__node-${C}`,{[p]:D},x.className,{selected:x.selected,selectable:O,parent:T,draggable:D,dragging:P}]),ref:_,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:$?"visible":"hidden",...x.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:V,onMouseMove:G,onMouseLeave:X,onContextMenu:j,onClick:F,onDoubleClick:Z,onKeyDown:H?W:void 0,tabIndex:H?0:void 0,role:H?"button":void 0,"aria-describedby":h?void 0:`${_o}-${v}`,"aria-label":x.ariaLabel,children:g.jsx(Nd,{value:e,children:g.jsx(S,{id:e,data:x.data,type:C,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:x.selected??!1,selectable:O,draggable:D,deletable:x.deletable??!0,isConnectable:L,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:P,dragHandle:x.dragHandle,zIndex:b.z,parentId:x.parentId,...N})})})}const Kd=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Ao(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,onError:i}=fe(Kd,xe),o=Ud(e.onlyRenderVisibleElements),a=Yd();return g.jsx("div",{className:"react-flow__nodes",style:ds,children:o.map(c=>g.jsx(qd,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:s,elementsSelectable:r,nodeClickDistance:e.nodeClickDistance,onError:i},c))})}Ao.displayName="NodeRenderer";const Jd=A.memo(Ao);function Qd(e){return fe(A.useCallback(n=>{if(!e)return n.edges.map(r=>r.id);const s=[];if(n.width&&n.height)for(const r of n.edges){const i=n.nodeLookup.get(r.source),o=n.nodeLookup.get(r.target);i&&o&&sl({sourceNode:i,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&s.push(r.id)}return s},[e]),xe)}const ef=({color:e="none",strokeWidth:t=1})=>g.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),tf=({color:e="none",strokeWidth:t=1})=>g.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),si={[Bn.Arrow]:ef,[Bn.ArrowClosed]:tf};function nf(e){const t=me();return A.useMemo(()=>{var r,i;return Object.prototype.hasOwnProperty.call(si,e)?si[e]:((i=(r=t.getState()).onError)==null||i.call(r,"009",qe.error009(e)),null)},[e])}const sf=({id:e,type:t,color:n,width:s=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const c=nf(t);return c?g.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:a,refX:"0",refY:"0",children:g.jsx(c,{color:n,strokeWidth:o})}):null},Io=({defaultColor:e,rfId:t})=>{const n=fe(i=>i.edges),s=fe(i=>i.defaultEdgeOptions),r=A.useMemo(()=>dl(n,{id:t,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[n,s,t,e]);return r.length?g.jsx("svg",{className:"react-flow__marker",children:g.jsx("defs",{children:r.map(i=>g.jsx(sf,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};Io.displayName="MarkerDefinitions";var rf=A.memo(Io);function To({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...f}){const[d,l]=A.useState({x:1,y:0,width:0,height:0}),p=be(["react-flow__edge-textwrapper",u]),h=A.useRef(null);return A.useEffect(()=>{if(h.current){const v=h.current.getBBox();l({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:g.jsxs("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...f,children:[r&&g.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:a,ry:a}),g.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:h,style:s,children:n}),c]})}To.displayName="EdgeText";const of=A.memo(To);function Cn({path:e,labelX:t,labelY:n,label:s,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:u=20,...f}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...f,d:e,fill:"none",className:be(["react-flow__edge-path",f.className])}),u&&g.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),s&&Le(t)&&Le(n)?g.jsx(of,{x:t,y:n,label:s,labelStyle:r,labelShowBg:i,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function ri({pos:e,x1:t,y1:n,x2:s,y2:r}){return e===te.Left||e===te.Right?[.5*(t+s),n]:[t,.5*(n+r)]}function Ro({sourceX:e,sourceY:t,sourcePosition:n=te.Bottom,targetX:s,targetY:r,targetPosition:i=te.Top}){const[o,a]=ri({pos:n,x1:e,y1:t,x2:s,y2:r}),[c,u]=ri({pos:i,x1:s,y1:r,x2:e,y2:t}),[f,d,l,p]=to({sourceX:e,sourceY:t,targetX:s,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${a} ${c},${u} ${s},${r}`,f,d,l,p]}function Co(e){return A.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:i,sourcePosition:o=te.Bottom,targetPosition:a=te.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:l,labelBgBorderRadius:p,style:h,markerEnd:v,markerStart:E,interactionWidth:m})=>{const[k,x,b]=Ro({sourceX:n,sourceY:s,sourcePosition:o,targetX:r,targetY:i,targetPosition:a}),T=e.isInternal?void 0:t;return g.jsx(Cn,{id:T,path:k,labelX:x,labelY:b,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:l,labelBgBorderRadius:p,style:h,markerEnd:v,markerStart:E,interactionWidth:m})})}const af=Co({isInternal:!1}),No=Co({isInternal:!0});af.displayName="SimpleBezierEdge";No.displayName="SimpleBezierEdgeInternal";function Oo(e){return A.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:i,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:l,sourcePosition:p=te.Bottom,targetPosition:h=te.Top,markerEnd:v,markerStart:E,pathOptions:m,interactionWidth:k})=>{const[x,b,T]=Hs({sourceX:n,sourceY:s,sourcePosition:p,targetX:r,targetY:i,targetPosition:h,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset}),C=e.isInternal?void 0:t;return g.jsx(Cn,{id:C,path:x,labelX:b,labelY:T,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:l,markerEnd:v,markerStart:E,interactionWidth:k})})}const Do=Oo({isInternal:!1}),Lo=Oo({isInternal:!0});Do.displayName="SmoothStepEdge";Lo.displayName="SmoothStepEdgeInternal";function jo(e){return A.memo(({id:t,...n})=>{var r;const s=e.isInternal?void 0:t;return g.jsx(Do,{...n,id:s,pathOptions:A.useMemo(()=>{var i;return{borderRadius:0,offset:(i=n.pathOptions)==null?void 0:i.offset}},[(r=n.pathOptions)==null?void 0:r.offset])})})}const cf=jo({isInternal:!1}),Mo=jo({isInternal:!0});cf.displayName="StepEdge";Mo.displayName="StepEdgeInternal";function Vo(e){return A.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:i,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:l,markerEnd:p,markerStart:h,interactionWidth:v})=>{const[E,m,k]=so({sourceX:n,sourceY:s,targetX:r,targetY:i}),x=e.isInternal?void 0:t;return g.jsx(Cn,{id:x,path:E,labelX:m,labelY:k,label:o,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:l,markerEnd:p,markerStart:h,interactionWidth:v})})}const uf=Vo({isInternal:!1}),zo=Vo({isInternal:!0});uf.displayName="StraightEdge";zo.displayName="StraightEdgeInternal";function $o(e){return A.memo(({id:t,sourceX:n,sourceY:s,targetX:r,targetY:i,sourcePosition:o=te.Bottom,targetPosition:a=te.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:l,labelBgBorderRadius:p,style:h,markerEnd:v,markerStart:E,pathOptions:m,interactionWidth:k})=>{const[x,b,T]=sr({sourceX:n,sourceY:s,sourcePosition:o,targetX:r,targetY:i,targetPosition:a,curvature:m==null?void 0:m.curvature}),C=e.isInternal?void 0:t;return g.jsx(Cn,{id:C,path:x,labelX:b,labelY:T,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:l,labelBgBorderRadius:p,style:h,markerEnd:v,markerStart:E,interactionWidth:k})})}const lf=$o({isInternal:!1}),Zo=$o({isInternal:!0});lf.displayName="BezierEdge";Zo.displayName="BezierEdgeInternal";const ii={default:Zo,straight:zo,step:Mo,smoothstep:Lo,simplebezier:No},oi={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},df=(e,t,n)=>n===te.Left?e-t:n===te.Right?e+t:e,ff=(e,t,n)=>n===te.Top?e-t:n===te.Bottom?e+t:e,ai="react-flow__edgeupdater";function ci({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:i,onMouseOut:o,type:a}){return g.jsx("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:o,className:be([ai,`${ai}-${a}`]),cx:df(t,s,e),cy:ff(n,s,e),r:s,stroke:"transparent",fill:"transparent"})}function pf({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:s,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:c,onReconnect:u,onReconnectStart:f,onReconnectEnd:d,setReconnecting:l,setUpdateHover:p}){const h=me(),v=(b,T)=>{if(b.button!==0)return;const{autoPanOnConnect:C,domNode:S,isValidConnection:D,connectionMode:O,connectionRadius:L,lib:H,onConnectStart:M,onConnectEnd:$,cancelConnection:_,nodeLookup:P,rfId:w,panBy:N,updateConnection:I}=h.getState(),R=T.type==="target";l(!0),f==null||f(b,n,T.type);const V=(X,j)=>{l(!1),d==null||d(X,n,T.type,j)},G=X=>u==null?void 0:u(n,X);Ws.onPointerDown(b.nativeEvent,{autoPanOnConnect:C,connectionMode:O,connectionRadius:L,domNode:S,handleId:T.id,nodeId:T.nodeId,nodeLookup:P,isTarget:R,edgeUpdaterType:T.type,lib:H,flowId:w,cancelConnection:_,panBy:N,isValidConnection:D,onConnect:G,onConnectStart:M,onConnectEnd:$,onReconnectEnd:V,updateConnection:I,getTransform:()=>h.getState().transform,getFromHandle:()=>h.getState().connection.fromHandle})},E=b=>v(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=b=>v(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),k=()=>p(!0),x=()=>p(!1);return g.jsxs(g.Fragment,{children:[(e===!0||e==="source")&&g.jsx(ci,{position:a,centerX:s,centerY:r,radius:t,onMouseDown:E,onMouseEnter:k,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&g.jsx(ci,{position:c,centerX:i,centerY:o,radius:t,onMouseDown:m,onMouseEnter:k,onMouseOut:x,type:"target"})]})}function hf({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:r,onDoubleClick:i,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,reconnectRadius:f,onReconnect:d,onReconnectStart:l,onReconnectEnd:p,rfId:h,edgeTypes:v,noPanClassName:E,onError:m,disableKeyboardA11y:k}){let x=fe(Q=>Q.edgeLookup.get(e));const b=fe(Q=>Q.defaultEdgeOptions);x=b?{...b,...x}:x;let T=x.type||"default",C=(v==null?void 0:v[T])||ii[T];C===void 0&&(m==null||m("011",qe.error011(T)),T="default",C=ii.default);const S=!!(x.focusable||t&&typeof x.focusable>"u"),D=typeof d<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),O=!!(x.selectable||s&&typeof x.selectable>"u"),L=A.useRef(null),[H,M]=A.useState(!1),[$,_]=A.useState(!1),P=me(),{zIndex:w,sourceX:N,sourceY:I,targetX:R,targetY:V,sourcePosition:G,targetPosition:X}=fe(A.useCallback(Q=>{const ne=Q.nodeLookup.get(x.source),le=Q.nodeLookup.get(x.target);if(!ne||!le)return{zIndex:x.zIndex,...oi};const _e=ll({id:e,sourceNode:ne,targetNode:le,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:Q.connectionMode,onError:m});return{zIndex:nl({selected:x.selected,zIndex:x.zIndex,sourceNode:ne,targetNode:le,elevateOnSelect:Q.elevateEdgesOnSelect}),..._e||oi}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),xe),j=A.useMemo(()=>x.markerStart?`url('#${Bs(x.markerStart,h)}')`:void 0,[x.markerStart,h]),Z=A.useMemo(()=>x.markerEnd?`url('#${Bs(x.markerEnd,h)}')`:void 0,[x.markerEnd,h]);if(x.hidden||N===null||I===null||R===null||V===null)return null;const F=Q=>{var we;const{addSelectedEdges:ne,unselectNodesAndEdges:le,multiSelectionActive:_e}=P.getState();O&&(P.setState({nodesSelectionActive:!1}),x.selected&&_e?(le({nodes:[],edges:[x]}),(we=L.current)==null||we.blur()):ne([e])),r&&r(Q,x)},W=i?Q=>{i(Q,{...x})}:void 0,z=o?Q=>{o(Q,{...x})}:void 0,Y=a?Q=>{a(Q,{...x})}:void 0,J=c?Q=>{c(Q,{...x})}:void 0,se=u?Q=>{u(Q,{...x})}:void 0,ie=Q=>{var ne;if(!k&&Zi.includes(Q.key)&&O){const{unselectNodesAndEdges:le,addSelectedEdges:_e}=P.getState();Q.key==="Escape"?((ne=L.current)==null||ne.blur(),le({edges:[x]})):_e([e])}};return g.jsx("svg",{style:{zIndex:w},children:g.jsxs("g",{className:be(["react-flow__edge",`react-flow__edge-${T}`,x.className,E,{selected:x.selected,animated:x.animated,inactive:!O&&!r,updating:H,selectable:O}]),onClick:F,onDoubleClick:W,onContextMenu:z,onMouseEnter:Y,onMouseMove:J,onMouseLeave:se,onKeyDown:S?ie:void 0,tabIndex:S?0:void 0,role:S?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":S?`${yo}-${h}`:void 0,ref:L,children:[!$&&g.jsx(C,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:O,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:N,sourceY:I,targetX:R,targetY:V,sourcePosition:G,targetPosition:X,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:j,markerEnd:Z,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),D&&g.jsx(pf,{edge:x,isReconnectable:D,reconnectRadius:f,onReconnect:d,onReconnectStart:l,onReconnectEnd:p,sourceX:N,sourceY:I,targetX:R,targetY:V,sourcePosition:G,targetPosition:X,setUpdateHover:M,setReconnecting:_})]})})}const gf=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ho({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:s,noPanClassName:r,onReconnect:i,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:l,onReconnectStart:p,onReconnectEnd:h,disableKeyboardA11y:v}){const{edgesFocusable:E,edgesReconnectable:m,elementsSelectable:k,onError:x}=fe(gf,xe),b=Qd(t);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(rf,{defaultColor:e,rfId:n}),b.map(T=>g.jsx(hf,{id:T,edgesFocusable:E,edgesReconnectable:m,elementsSelectable:k,noPanClassName:r,onReconnect:i,onContextMenu:o,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:f,reconnectRadius:d,onDoubleClick:l,onReconnectStart:p,onReconnectEnd:h,rfId:n,onError:x,edgeTypes:s,disableKeyboardA11y:v},T))]})}Ho.displayName="EdgeRenderer";const mf=A.memo(Ho),_f=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function yf({children:e}){const t=fe(_f);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function vf(e){const t=cr(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const xf=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function bf(e){const t=fe(xf),n=me();return A.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Ef(e){return e.connection.inProgress?{...e.connection,to:Rn(e.connection.to,e.transform)}:{...e.connection}}function wf(e){return Ef}function kf(e){const t=wf();return fe(t,xe)}const Sf=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Pf({containerStyle:e,style:t,type:n,component:s}){const{nodesConnectable:r,width:i,height:o,isValid:a,inProgress:c}=fe(Sf,xe);return!(i&&r&&c)?null:g.jsx("svg",{style:e,width:i,height:o,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:be(["react-flow__connection",Bi(a)]),children:g.jsx(Bo,{style:t,type:n,CustomComponent:s,isValid:a})})})}const Bo=({style:e,type:t=nt.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:r,from:i,fromNode:o,fromHandle:a,fromPosition:c,to:u,toNode:f,toHandle:d,toPosition:l}=kf();if(!r)return;if(n)return g.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:i.x,fromY:i.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:l,connectionStatus:Bi(s),toNode:f,toHandle:d});let p="";const h={sourceX:i.x,sourceY:i.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:l};switch(t){case nt.Bezier:[p]=sr(h);break;case nt.SimpleBezier:[p]=Ro(h);break;case nt.Step:[p]=Hs({...h,borderRadius:0});break;case nt.SmoothStep:[p]=Hs(h);break;default:[p]=so(h)}return g.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};Bo.displayName="ConnectionLine";const Af={};function ui(e=Af){A.useRef(e),me(),A.useEffect(()=>{},[e])}function If(){me(),A.useRef(!1),A.useEffect(()=>{},[])}function Fo({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:s,onEdgeClick:r,onNodeDoubleClick:i,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:l,onSelectionEnd:p,connectionLineType:h,connectionLineStyle:v,connectionLineComponent:E,connectionLineContainerStyle:m,selectionKeyCode:k,selectionOnDrag:x,selectionMode:b,multiSelectionKeyCode:T,panActivationKeyCode:C,zoomActivationKeyCode:S,deleteKeyCode:D,onlyRenderVisibleElements:O,elementsSelectable:L,defaultViewport:H,translateExtent:M,minZoom:$,maxZoom:_,preventScrolling:P,defaultMarkerColor:w,zoomOnScroll:N,zoomOnPinch:I,panOnScroll:R,panOnScrollSpeed:V,panOnScrollMode:G,zoomOnDoubleClick:X,panOnDrag:j,onPaneClick:Z,onPaneMouseEnter:F,onPaneMouseMove:W,onPaneMouseLeave:z,onPaneScroll:Y,onPaneContextMenu:J,paneClickDistance:se,nodeClickDistance:ie,onEdgeContextMenu:Q,onEdgeMouseEnter:ne,onEdgeMouseMove:le,onEdgeMouseLeave:_e,reconnectRadius:we,onReconnect:ut,onReconnectStart:Ee,onReconnectEnd:St,noDragClassName:lt,noWheelClassName:Be,noPanClassName:Je,disableKeyboardA11y:dt,nodeExtent:ys,rfId:Yt,viewport:Xt,onViewportChange:On}){return ui(e),ui(t),If(),vf(n),bf(Xt),g.jsx(Fd,{onPaneClick:Z,onPaneMouseEnter:F,onPaneMouseMove:W,onPaneMouseLeave:z,onPaneContextMenu:J,onPaneScroll:Y,paneClickDistance:se,deleteKeyCode:D,selectionKeyCode:k,selectionOnDrag:x,selectionMode:b,onSelectionStart:l,onSelectionEnd:p,multiSelectionKeyCode:T,panActivationKeyCode:C,zoomActivationKeyCode:S,elementsSelectable:L,zoomOnScroll:N,zoomOnPinch:I,zoomOnDoubleClick:X,panOnScroll:R,panOnScrollSpeed:V,panOnScrollMode:G,panOnDrag:j,defaultViewport:H,translateExtent:M,minZoom:$,maxZoom:_,onSelectionContextMenu:d,preventScrolling:P,noDragClassName:lt,noWheelClassName:Be,noPanClassName:Je,disableKeyboardA11y:dt,onViewportChange:On,isControlledViewport:!!Xt,children:g.jsxs(yf,{children:[g.jsx(mf,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:o,onReconnect:ut,onReconnectStart:Ee,onReconnectEnd:St,onlyRenderVisibleElements:O,onEdgeContextMenu:Q,onEdgeMouseEnter:ne,onEdgeMouseMove:le,onEdgeMouseLeave:_e,reconnectRadius:we,defaultMarkerColor:w,noPanClassName:Je,disableKeyboardA11y:dt,rfId:Yt}),g.jsx(Pf,{style:v,type:h,component:E,containerStyle:m}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(Jd,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:ie,onlyRenderVisibleElements:O,noPanClassName:Je,noDragClassName:lt,disableKeyboardA11y:dt,nodeExtent:ys,rfId:Yt}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}Fo.displayName="GraphView";const Tf=A.memo(Fo),li=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:i,fitView:o,nodeOrigin:a,nodeExtent:c}={})=>{const u=new Map,f=new Map,d=new Map,l=new Map,p=s??t??[],h=n??e??[],v=a??[0,0],E=c??an;io(d,l,p),Fs(h,u,f,{nodeOrigin:v,nodeExtent:E,elevateNodesOnSelect:!1});let m=[0,0,1];if(o&&r&&i){const k=Tn(u,{filter:C=>!!((C.width||C.initialWidth)&&(C.height||C.initialHeight))}),{x,y:b,zoom:T}=nr(k,r,i,.5,2,.1);m=[x,b,T]}return{rfId:"1",width:0,height:0,transform:m,nodes:h,nodeLookup:u,parentLookup:f,edges:p,edgeLookup:l,connectionLookup:d,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:an,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:zt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...Hi},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:el,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Rf=({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:i,fitView:o,nodeOrigin:a,nodeExtent:c})=>Ul((u,f)=>({...li({nodes:e,edges:t,width:r,height:i,fitView:o,nodeOrigin:a,nodeExtent:c,defaultNodes:n,defaultEdges:s}),setNodes:d=>{const{nodeLookup:l,parentLookup:p,nodeOrigin:h,elevateNodesOnSelect:v}=f();Fs(d,l,p,{nodeOrigin:h,nodeExtent:c,elevateNodesOnSelect:v,checkEquality:!0}),u({nodes:d})},setEdges:d=>{const{connectionLookup:l,edgeLookup:p}=f();io(l,p,d),u({edges:d})},setDefaultNodesAndEdges:(d,l)=>{if(d){const{setNodes:p}=f();p(d),u({hasDefaultNodes:!0})}if(l){const{setEdges:p}=f();p(l),u({hasDefaultEdges:!0})}},updateNodeInternals:(d,l={triggerFitView:!0})=>{const{triggerNodeChanges:p,nodeLookup:h,parentLookup:v,fitViewOnInit:E,fitViewDone:m,fitViewOnInitOptions:k,domNode:x,nodeOrigin:b,nodeExtent:T,debug:C,fitViewSync:S}=f(),{changes:D,updatedInternals:O}=ml(d,h,v,x,b,T);if(O){if(pl(h,v,{nodeOrigin:b,nodeExtent:T}),l.triggerFitView){let L=m;!m&&E&&(L=S({...k,nodes:k==null?void 0:k.nodes})),u({fitViewDone:L})}else u({});(D==null?void 0:D.length)>0&&(C&&console.log("React Flow: trigger node changes",D),p==null||p(D))}},updateNodePositions:(d,l=!1)=>{const p=[],h=[];for(const[v,E]of d){const m=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(E!=null&&E.position)),k={id:v,type:"position",position:m?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:l};m&&p.push({id:v,parentId:E.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width,height:E.measured.height}}),h.push(k)}if(p.length>0){const{nodeLookup:v,parentLookup:E,nodeOrigin:m}=f(),k=ar(p,v,E,m);h.push(...k)}f().triggerNodeChanges(h)},triggerNodeChanges:d=>{const{onNodesChange:l,setNodes:p,nodes:h,hasDefaultNodes:v,debug:E}=f();if(d!=null&&d.length){if(v){const m=pd(d,h);p(m)}E&&console.log("React Flow: trigger node changes",d),l==null||l(d)}},triggerEdgeChanges:d=>{const{onEdgesChange:l,setEdges:p,edges:h,hasDefaultEdges:v,debug:E}=f();if(d!=null&&d.length){if(v){const m=hd(d,h);p(m)}E&&console.log("React Flow: trigger edge changes",d),l==null||l(d)}},addSelectedNodes:d=>{const{multiSelectionActive:l,edgeLookup:p,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:E}=f();if(l){const m=d.map(k=>ht(k,!0));v(m);return}v(Ct(h,new Set([...d]),!0)),E(Ct(p))},addSelectedEdges:d=>{const{multiSelectionActive:l,edgeLookup:p,nodeLookup:h,triggerNodeChanges:v,triggerEdgeChanges:E}=f();if(l){const m=d.map(k=>ht(k,!0));E(m);return}E(Ct(p,new Set([...d]))),v(Ct(h,new Set,!0))},unselectNodesAndEdges:({nodes:d,edges:l}={})=>{const{edges:p,nodes:h,nodeLookup:v,triggerNodeChanges:E,triggerEdgeChanges:m}=f(),k=d||h,x=l||p,b=k.map(C=>{const S=v.get(C.id);return S&&(S.selected=!1),ht(C.id,!1)}),T=x.map(C=>ht(C.id,!1));E(b),m(T)},setMinZoom:d=>{const{panZoom:l,maxZoom:p}=f();l==null||l.setScaleExtent([d,p]),u({minZoom:d})},setMaxZoom:d=>{const{panZoom:l,minZoom:p}=f();l==null||l.setScaleExtent([p,d]),u({maxZoom:d})},setTranslateExtent:d=>{var l;(l=f().panZoom)==null||l.setTranslateExtent(d),u({translateExtent:d})},setPaneClickDistance:d=>{var l;(l=f().panZoom)==null||l.setClickDistance(d)},resetSelectedElements:()=>{const{edges:d,nodes:l,triggerNodeChanges:p,triggerEdgeChanges:h}=f(),v=l.reduce((m,k)=>k.selected?[...m,ht(k.id,!1)]:m,[]),E=d.reduce((m,k)=>k.selected?[...m,ht(k.id,!1)]:m,[]);p(v),h(E)},setNodeExtent:d=>{const{nodes:l,nodeLookup:p,parentLookup:h,nodeOrigin:v,elevateNodesOnSelect:E,nodeExtent:m}=f();d[0][0]===m[0][0]&&d[0][1]===m[0][1]&&d[1][0]===m[1][0]&&d[1][1]===m[1][1]||(Fs(l,p,h,{nodeOrigin:v,nodeExtent:d,elevateNodesOnSelect:E,checkEquality:!1}),u({nodeExtent:d}))},panBy:d=>{const{transform:l,width:p,height:h,panZoom:v,translateExtent:E}=f();return _l({delta:d,panZoom:v,transform:l,translateExtent:E,width:p,height:h})},fitView:d=>{const{panZoom:l,width:p,height:h,minZoom:v,maxZoom:E,nodeLookup:m}=f();if(!l)return Promise.resolve(!1);const k=Vs(m,d);return zs({nodes:k,width:p,height:h,panZoom:l,minZoom:v,maxZoom:E},d)},fitViewSync:d=>{const{panZoom:l,width:p,height:h,minZoom:v,maxZoom:E,nodeLookup:m}=f();if(!l)return!1;const k=Vs(m,d);return zs({nodes:k,width:p,height:h,panZoom:l,minZoom:v,maxZoom:E},d),k.size>0},cancelConnection:()=>{u({connection:{...Hi}})},updateConnection:d=>{u({connection:d})},reset:()=>u({...li()})}),Object.is);function Wo({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:s,initialWidth:r,initialHeight:i,fitView:o,nodeOrigin:a,nodeExtent:c,children:u}){const[f]=A.useState(()=>Rf({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,width:r,height:i,fitView:o,nodeOrigin:a,nodeExtent:c}));return g.jsx(Gl,{value:f,children:g.jsx(yd,{children:u})})}function Cf({children:e,nodes:t,edges:n,defaultNodes:s,defaultEdges:r,width:i,height:o,fitView:a,nodeOrigin:c,nodeExtent:u}){return A.useContext(us)?g.jsx(g.Fragment,{children:e}):g.jsx(Wo,{initialNodes:t,initialEdges:n,defaultNodes:s,defaultEdges:r,initialWidth:i,initialHeight:o,fitView:a,nodeOrigin:c,nodeExtent:u,children:e})}const Nf={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Of({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:i,edgeTypes:o,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:l,onConnect:p,onConnectStart:h,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:m,onNodeMouseEnter:k,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:T,onNodeDoubleClick:C,onNodeDragStart:S,onNodeDrag:D,onNodeDragStop:O,onNodesDelete:L,onEdgesDelete:H,onDelete:M,onSelectionChange:$,onSelectionDragStart:_,onSelectionDrag:P,onSelectionDragStop:w,onSelectionContextMenu:N,onSelectionStart:I,onSelectionEnd:R,onBeforeDelete:V,connectionMode:G,connectionLineType:X=nt.Bezier,connectionLineStyle:j,connectionLineComponent:Z,connectionLineContainerStyle:F,deleteKeyCode:W="Backspace",selectionKeyCode:z="Shift",selectionOnDrag:Y=!1,selectionMode:J=cn.Full,panActivationKeyCode:se="Space",multiSelectionKeyCode:ie=Wn()?"Meta":"Control",zoomActivationKeyCode:Q=Wn()?"Meta":"Control",snapToGrid:ne,snapGrid:le,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:we,nodesDraggable:ut,nodesConnectable:Ee,nodesFocusable:St,nodeOrigin:lt=vo,edgesFocusable:Be,edgesReconnectable:Je,elementsSelectable:dt=!0,defaultViewport:ys=od,minZoom:Yt=.5,maxZoom:Xt=2,translateExtent:On=an,preventScrolling:pc=!0,nodeExtent:vs,defaultMarkerColor:hc="#b1b1b7",zoomOnScroll:gc=!0,zoomOnPinch:mc=!0,panOnScroll:_c=!1,panOnScrollSpeed:yc=.5,panOnScrollMode:vc=mt.Free,zoomOnDoubleClick:xc=!0,panOnDrag:bc=!0,onPaneClick:Ec,onPaneMouseEnter:wc,onPaneMouseMove:kc,onPaneMouseLeave:Sc,onPaneScroll:Pc,onPaneContextMenu:Ac,paneClickDistance:yr=0,nodeClickDistance:Ic=0,children:Tc,onReconnect:Rc,onReconnectStart:Cc,onReconnectEnd:Nc,onEdgeContextMenu:Oc,onEdgeDoubleClick:Dc,onEdgeMouseEnter:Lc,onEdgeMouseMove:jc,onEdgeMouseLeave:Mc,reconnectRadius:Vc=10,onNodesChange:zc,onEdgesChange:$c,noDragClassName:Zc="nodrag",noWheelClassName:Hc="nowheel",noPanClassName:vr="nopan",fitView:xr,fitViewOptions:Bc,connectOnClick:Fc,attributionPosition:Wc,proOptions:Uc,defaultEdgeOptions:Gc,elevateNodesOnSelect:Yc,elevateEdgesOnSelect:Xc,disableKeyboardA11y:br=!1,autoPanOnConnect:qc,autoPanOnNodeDrag:Kc,autoPanSpeed:Jc,connectionRadius:Qc,isValidConnection:eu,onError:tu,style:nu,id:Er,nodeDragThreshold:su,viewport:ru,onViewportChange:iu,width:ou,height:au,colorMode:cu="light",debug:uu,onScroll:Dn,...lu},du){const xs=Er||"1",fu=ld(cu),pu=A.useCallback(wr=>{wr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Dn==null||Dn(wr)},[Dn]);return g.jsx("div",{"data-testid":"rf__wrapper",...lu,onScroll:pu,style:{...nu,...Nf},ref:du,className:be(["react-flow",r,fu]),id:Er,children:g.jsxs(Cf,{nodes:e,edges:t,width:ou,height:au,fitView:xr,nodeOrigin:lt,nodeExtent:vs,children:[g.jsx(Tf,{onInit:u,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:k,onNodeMouseMove:x,onNodeMouseLeave:b,onNodeContextMenu:T,onNodeDoubleClick:C,nodeTypes:i,edgeTypes:o,connectionLineType:X,connectionLineStyle:j,connectionLineComponent:Z,connectionLineContainerStyle:F,selectionKeyCode:z,selectionOnDrag:Y,selectionMode:J,deleteKeyCode:W,multiSelectionKeyCode:ie,panActivationKeyCode:se,zoomActivationKeyCode:Q,onlyRenderVisibleElements:_e,defaultViewport:ys,translateExtent:On,minZoom:Yt,maxZoom:Xt,preventScrolling:pc,zoomOnScroll:gc,zoomOnPinch:mc,zoomOnDoubleClick:xc,panOnScroll:_c,panOnScrollSpeed:yc,panOnScrollMode:vc,panOnDrag:bc,onPaneClick:Ec,onPaneMouseEnter:wc,onPaneMouseMove:kc,onPaneMouseLeave:Sc,onPaneScroll:Pc,onPaneContextMenu:Ac,paneClickDistance:yr,nodeClickDistance:Ic,onSelectionContextMenu:N,onSelectionStart:I,onSelectionEnd:R,onReconnect:Rc,onReconnectStart:Cc,onReconnectEnd:Nc,onEdgeContextMenu:Oc,onEdgeDoubleClick:Dc,onEdgeMouseEnter:Lc,onEdgeMouseMove:jc,onEdgeMouseLeave:Mc,reconnectRadius:Vc,defaultMarkerColor:hc,noDragClassName:Zc,noWheelClassName:Hc,noPanClassName:vr,rfId:xs,disableKeyboardA11y:br,nodeExtent:vs,viewport:ru,onViewportChange:iu}),g.jsx(ud,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:p,onConnectStart:h,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:m,nodesDraggable:ut,nodesConnectable:Ee,nodesFocusable:St,edgesFocusable:Be,edgesReconnectable:Je,elementsSelectable:dt,elevateNodesOnSelect:Yc,elevateEdgesOnSelect:Xc,minZoom:Yt,maxZoom:Xt,nodeExtent:vs,onNodesChange:zc,onEdgesChange:$c,snapToGrid:ne,snapGrid:le,connectionMode:G,translateExtent:On,connectOnClick:Fc,defaultEdgeOptions:Gc,fitView:xr,fitViewOptions:Bc,onNodesDelete:L,onEdgesDelete:H,onDelete:M,onNodeDragStart:S,onNodeDrag:D,onNodeDragStop:O,onSelectionDrag:P,onSelectionDragStart:_,onSelectionDragStop:w,onMove:f,onMoveStart:d,onMoveEnd:l,noPanClassName:vr,nodeOrigin:lt,rfId:xs,autoPanOnConnect:qc,autoPanOnNodeDrag:Kc,autoPanSpeed:Jc,onError:tu,connectionRadius:Qc,isValidConnection:eu,selectNodesOnDrag:we,nodeDragThreshold:su,onBeforeDelete:V,paneClickDistance:yr,debug:uu}),g.jsx(id,{onSelectionChange:$}),Tc,g.jsx(ed,{proOptions:Uc,position:Wc}),g.jsx(Jl,{rfId:xs,disableKeyboardA11y:br})]})})}var Df=bo(Of);const Lf=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function jf({children:e}){const t=fe(Lf);return t?hu.createPortal(e,t):null}function Mf({dimensions:e,lineWidth:t,variant:n,className:s}){return g.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:be(["react-flow__background-pattern",n,s])})}function Vf({radius:e,className:t}){return g.jsx("circle",{cx:e,cy:e,r:e,className:be(["react-flow__background-pattern","dots",t])})}var Ye;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ye||(Ye={}));const zf={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},$f=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Uo({id:e,variant:t=Ye.Dots,gap:n=20,size:s,lineWidth:r=1,offset:i=0,color:o,bgColor:a,style:c,className:u,patternClassName:f}){const d=A.useRef(null),{transform:l,patternId:p}=fe($f,xe),h=s||zf[t],v=t===Ye.Dots,E=t===Ye.Cross,m=Array.isArray(n)?n:[n,n],k=[m[0]*l[2]||1,m[1]*l[2]||1],x=h*l[2],b=Array.isArray(i)?i:[i,i],T=E?[x,x]:k,C=[b[0]*l[2]||1+T[0]/2,b[1]*l[2]||1+T[1]/2],S=`${p}${e||""}`;return g.jsxs("svg",{className:be(["react-flow__background",u]),style:{...c,...ds,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[g.jsx("pattern",{id:S,x:l[0]%k[0],y:l[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:v?g.jsx(Vf,{radius:x/2,className:f}):g.jsx(Mf,{dimensions:T,lineWidth:r,variant:t,className:f})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S})`})]})}Uo.displayName="Background";const Zf=A.memo(Uo);function Hf(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Bf(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Ff(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Wf(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Uf(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function $n({children:e,className:t,...n}){return g.jsx("button",{type:"button",className:be(["react-flow__controls-button",t]),...n,children:e})}const Gf=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function Go({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:o,onFitView:a,onInteractiveChange:c,className:u,children:f,position:d="bottom-left",orientation:l="vertical","aria-label":p="React Flow controls"}){const h=me(),{isInteractive:v,minZoomReached:E,maxZoomReached:m}=fe(Gf,xe),{zoomIn:k,zoomOut:x,fitView:b}=cr(),T=()=>{k(),i==null||i()},C=()=>{x(),o==null||o()},S=()=>{b(r),a==null||a()},D=()=>{h.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)},O=l==="horizontal"?"horizontal":"vertical";return g.jsxs(ls,{className:be(["react-flow__controls",O,u]),position:d,style:e,"data-testid":"rf__controls","aria-label":p,children:[t&&g.jsxs(g.Fragment,{children:[g.jsx($n,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m,children:g.jsx(Hf,{})}),g.jsx($n,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:g.jsx(Bf,{})})]}),n&&g.jsx($n,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view",children:g.jsx(Ff,{})}),s&&g.jsx($n,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?g.jsx(Uf,{}):g.jsx(Wf,{})}),f]})}Go.displayName="Controls";A.memo(Go);function Yf({id:e,x:t,y:n,width:s,height:r,style:i,color:o,strokeColor:a,strokeWidth:c,className:u,borderRadius:f,shapeRendering:d,selected:l,onClick:p}){const{background:h,backgroundColor:v}=i||{},E=o||h||v;return g.jsx("rect",{className:be(["react-flow__minimap-node",{selected:l},u]),x:t,y:n,rx:f,ry:f,width:s,height:r,style:{fill:E,stroke:a,strokeWidth:c},shapeRendering:d,onClick:p?m=>p(m,e):void 0})}const Xf=A.memo(Yf),qf=e=>e.nodes.map(t=>t.id),Rs=e=>e instanceof Function?e:()=>e;function Kf({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:r,nodeComponent:i=Xf,onClick:o}){const a=fe(qf,xe),c=Rs(t),u=Rs(e),f=Rs(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:a.map(l=>g.jsx(Qf,{id:l,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:s,nodeStrokeWidth:r,NodeComponent:i,onClick:o,shapeRendering:d},l))})}function Jf({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:r,nodeStrokeWidth:i,shapeRendering:o,NodeComponent:a,onClick:c}){const{node:u,x:f,y:d,width:l,height:p}=fe(h=>{const v=h.nodeLookup.get(e),{x:E,y:m}=v.internals.positionAbsolute,{width:k,height:x}=Ke(v);return{node:v,x:E,y:m,width:k,height:x}},xe);return!u||u.hidden||!Ki(u)?null:g.jsx(a,{x:f,y:d,width:l,height:p,style:u.style,selected:!!u.selected,className:s(u),color:t(u),borderRadius:r,strokeColor:n(u),strokeWidth:i,shapeRendering:o,onClick:c,id:u.id})}const Qf=A.memo(Jf);var ep=A.memo(Kf);const tp=200,np=150,sp=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Xi(Tn(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},rp="react-flow__minimap-desc";function Yo({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:c,maskColor:u,maskStrokeColor:f,maskStrokeWidth:d,position:l="bottom-right",onClick:p,onNodeClick:h,pannable:v=!1,zoomable:E=!1,ariaLabel:m="React Flow mini map",inversePan:k,zoomStep:x=10,offsetScale:b=5}){const T=me(),C=A.useRef(null),{boundingRect:S,viewBB:D,rfId:O,panZoom:L,translateExtent:H,flowWidth:M,flowHeight:$}=fe(sp,xe),_=(e==null?void 0:e.width)??tp,P=(e==null?void 0:e.height)??np,w=S.width/_,N=S.height/P,I=Math.max(w,N),R=I*_,V=I*P,G=b*I,X=S.x-(R-S.width)/2-G,j=S.y-(V-S.height)/2-G,Z=R+G*2,F=V+G*2,W=`${rp}-${O}`,z=A.useRef(0),Y=A.useRef();z.current=I,A.useEffect(()=>{if(C.current&&L)return Y.current=Sl({domNode:C.current,panZoom:L,getTransform:()=>T.getState().transform,getViewScale:()=>z.current}),()=>{var ie;(ie=Y.current)==null||ie.destroy()}},[L]),A.useEffect(()=>{var ie;(ie=Y.current)==null||ie.update({translateExtent:H,width:M,height:$,inversePan:k,pannable:v,zoomStep:x,zoomable:E})},[v,E,k,x,H,M,$]);const J=p?ie=>{var le;const[Q,ne]=((le=Y.current)==null?void 0:le.pointer(ie))||[0,0];p(ie,{x:Q,y:ne})}:void 0,se=h?A.useCallback((ie,Q)=>{const ne=T.getState().nodeLookup.get(Q);h(ie,ne)},[]):void 0;return g.jsx(ls,{position:l,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*I:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:be(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:_,height:P,viewBox:`${X} ${j} ${Z} ${F}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":W,ref:C,onClick:J,children:[m&&g.jsx("title",{id:W,children:m}),g.jsx(ep,{onClick:se,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:o,nodeComponent:a}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-G},${j-G}h${Z+G*2}v${F+G*2}h${-Z-G*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Yo.displayName="MiniMap";A.memo(Yo);function ip({nodeId:e,position:t,variant:n=sn.Handle,className:s,style:r={},children:i,color:o,minWidth:a=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,shouldResize:l,onResizeStart:p,onResize:h,onResizeEnd:v}){const E=So(),m=typeof e=="string"?e:E,k=me(),x=A.useRef(null),b=n===sn.Line?"right":"bottom-right",T=t??b,C=A.useRef(null);A.useEffect(()=>{if(!(!x.current||!m))return C.current||(C.current=$l({domNode:x.current,nodeId:m,getStoreItems:()=>{const{nodeLookup:L,transform:H,snapGrid:M,snapToGrid:$,nodeOrigin:_,domNode:P}=k.getState();return{nodeLookup:L,transform:H,snapGrid:M,snapToGrid:$,nodeOrigin:_,paneDomNode:P}},onChange:(L,H)=>{const{triggerNodeChanges:M,nodeLookup:$,parentLookup:_,nodeOrigin:P}=k.getState(),w=[],N={x:L.x,y:L.y},I=$.get(m);if(I&&I.expandParent&&I.parentId){const R=I.origin??P,V=L.width??I.measured.width,G=L.height??I.measured.height,X={id:I.id,parentId:I.parentId,rect:{width:V,height:G,...Ji({x:L.x??I.position.x,y:L.y??I.position.y},{width:V,height:G},I.parentId,$,R)}},j=ar([X],$,_,P);w.push(...j),N.x=L.x?Math.max(R[0]*V,L.x):void 0,N.y=L.y?Math.max(R[1]*G,L.y):void 0}if(N.x!==void 0&&N.y!==void 0){const R={id:m,type:"position",position:{...N}};w.push(R)}if(L.width!==void 0&&L.height!==void 0){const R={id:m,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:L.width,height:L.height}};w.push(R)}for(const R of H){const V={...R,type:"position"};w.push(V)}M(w)},onEnd:()=>{const L={id:m,type:"dimensions",resizing:!1};k.getState().triggerNodeChanges([L])}})),C.current.update({controlPosition:T,boundaries:{minWidth:a,minHeight:c,maxWidth:u,maxHeight:f},keepAspectRatio:d,onResizeStart:p,onResize:h,onResizeEnd:v,shouldResize:l}),()=>{var L;(L=C.current)==null||L.destroy()}},[T,a,c,u,f,d,p,h,v,l]);const S=T.split("-"),D=n===sn.Line?"borderColor":"backgroundColor",O=o?{...r,[D]:o}:r;return g.jsx("div",{className:be(["react-flow__resize-control","nodrag",...S,n,s]),ref:x,style:O,children:i})}A.memo(ip);function tt(e){const t=e.match(/\(\s*[^,]+,\s*\{\s*([^}]*)\s*\}\)/);return t?t[1].split(",").map(s=>s.trim()).filter(Boolean).map(s=>{let[r]=s.split(":").map(i=>i.trim());return r=r.split("=")[0].trim(),r}):[]}function op(e,t){const n=Object.keys(e),s=new Set(n),r=new Set,i=[];function o(a){if(r.has(a))throw new Error(`Circular dependency detected: "${a}" is part of a cycle.`);if(s.has(a)){r.add(a);const c=t[a]||[];if(typeof c=="object"&&!Array.isArray(c))for(const u of Object.keys(c))o(u);else for(const u of c)o(u);s.delete(a),r.delete(a),i.push(a)}}for(const a of n)s.has(a)&&o(a);return i}async function*Xo(e,t={}){const n={};for(const[o,a]of Object.entries(e))if(typeof a=="function")n[o]=tt(a.toString());else{n[o]={};for(const[c,u]of Object.entries(a))n[o][c]=tt(u.toString())}const s=op(e,n),r={},i={...t,args:{...t.args,...r}};for(const o of s){let a;try{if(yield{type:"pre-resolve",key:o},typeof e[o]=="function")a=await e[o](i,r);else{if(typeof e[o].$!="function")throw new Error("Expected a function resolver");a=await e[o].$(i,r)}if(yield{type:"post-resolve",key:o,data:a},a!==void 0&&(r[o]=a,i.args[o]=a),typeof e[o]=="object"){if(!a||!e[o][a])throw new Error("Expected a valid key");const c=Xo(e[o][a],i);for await(const u of c)u.type==="post-resolve"&&(r[u.key]=u.data),yield u}}catch(c){return yield{type:"error",key:o,error:c},null}}return r.output}const qo=Vt.createContext(null);function ap(e){const{resolvers:t,onResolve:n}=e,[s,r]=A.useState("");return g.jsx(qo.Provider,{value:{resolvers:t,prompt:s,setPrompt:r,flow:hp({onResolve:n})},children:e.children})}function fs(){const e=A.useContext(qo);if(!e)throw new Error("Missing context");return e}function cp(){return g.jsx(Wo,{children:g.jsx(up,{})})}function up(){const{resolvers:e}=fs(),[t,n]=A.useState([]),[s,r]=A.useState([]),i=A.useCallback(o=>{try{const{nodes:a,edges:c}=pp(o);n(a),r(c)}catch(a){console.error(`Failed to parse or build resolvers:
${a.message}`)}},[]);return A.useEffect(()=>{i(e)},[e,i]),g.jsx(Df,{nodes:t,edges:s,proOptions:{hideAttribution:!0},nodeTypes:dp,edgeTypes:lp,maxZoom:1,fitView:!0,children:g.jsx(Zf,{variant:Ye.Dots})})}const lp={edge:({sourceX:e,sourceY:t,targetX:n,targetY:s,sourcePosition:r,targetPosition:i,style:o={},markerEnd:a,label:c})=>{const[u,f,d]=sr({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:s,targetPosition:i});return g.jsxs(g.Fragment,{children:[g.jsx(Cn,{path:u,markerEnd:a,style:o}),c&&g.jsx(jf,{children:g.jsx("div",{className:"bg-gray-500 dark:bg-gray-600 text-white border rounded-md p-1",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${d}px)`},children:c})})]})}},dp={node:fp};function fp({id:e,data:t}){const{label:n,depsIn:s,depsOut:r}=t,{flow:i}=fs(),o=i.state[e];return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:ge("bg-gray-800 dark:bg-white text-white dark:text-black border rounded-md p-2 border-2 border-transparent",(o==null?void 0:o.status)==="running"&&"bg-yellow-600 dark:bg-yellow-300",(o==null?void 0:o.status)==="resolved"&&"bg-green-800 dark:bg-green-300",(o==null?void 0:o.status)==="error"&&"bg-red-600 dark:bg-red-300"),children:n}),(s==null?void 0:s.length)>0&&g.jsx(Bt,{type:"target",position:te.Top,isConnectable:!0}),(r==null?void 0:r.length)>0&&g.jsx(Bt,{type:"source",position:te.Bottom,isConnectable:!0})]})}function pp(e){const t=Object.keys(e),n={},s={};for(const[c,u]of Object.entries(e))if(typeof u=="function"){const f=u.toString();n[c]=tt(f);for(const d of n[c])s[d]||(s[d]=[]),s[d].push(c)}else{n[c]=[],s[c]=[];for(const[f,d]of Object.entries(u))if(f==="$"){const l=d.toString();n[c]=tt(l);for(const p of n[c])s[p]||(s[p]=[]),s[p].push(c)}else for(const[l,p]of Object.entries(d)){t.push(l);const h=p.toString(),v=tt(h);n[l]=v.length===0?[c]:v;for(const E of n[l])s[E]||(s[E]=[]),s[E].push(l)}}const r=t.map(c=>({id:c,data:{label:c,depsIn:n[c],depsOut:s[c]},type:"node",position:{x:0,y:0}})),i=[];for(const[c,u]of Object.entries(e))if(typeof u=="function"){const f=u.toString(),d=tt(f);for(const l of d)i.push({id:`edge-${l}-${c}`,source:l,target:c,type:"edge"})}else for(const[f,d]of Object.entries(u))if(f==="$"){const l=d.toString(),p=tt(l);for(const h of p)i.push({id:`edge-${h}-${c}`,source:h,target:c,type:"edge"})}else{const l=f;for(const[p,h]of Object.entries(d)){const v=h.toString(),E=tt(v);E.length===0&&i.push({id:`edge-${c}-${p}`,source:c,target:p,label:l,type:"edge"});for(const m of E)i.push({id:`edge-${m}-${p}`,source:m,target:p,type:"edge"})}}const o=new kr.graphlib.Graph;return o.setDefaultEdgeLabel(()=>({})),o.setGraph({rankdir:"TB"}),r.forEach(c=>{o.setNode(c.id,{width:150,height:50})}),i.forEach(c=>{o.setEdge(c.source,c.target)}),kr.layout(o),{nodes:r.map(c=>{const u=o.node(c.id);return c.position={x:u.x-u.width/2,y:u.y-u.height/2},c}),edges:i}}function hp({onResolve:e}){const[t,n]=A.useState({});return{state:t,setState:n,sync:s};async function s(r){n({});for await(const i of r)switch(i.type){case"pre-resolve":n(o=>({...o,[i.key]:{status:"running"}}));break;case"post-resolve":e==null||e(i),n(o=>({...o,[i.key]:{status:"resolved",data:i.data}}));break;case"error":n(o=>({...o,[i.key]:{status:"error",error:i.error}}));break}}}const Ko=A.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ko.displayName="Card";const Jo=A.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));Jo.displayName="CardHeader";const Qo=A.forwardRef(({className:e,...t},n)=>g.jsx("h3",{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Qo.displayName="CardTitle";const gp=A.forwardRef(({className:e,...t},n)=>g.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",e),...t}));gp.displayName="CardDescription";const ea=A.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ge("p-6 pt-0",e),...t}));ea.displayName="CardContent";const mp=A.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",e),...t}));mp.displayName="CardFooter";const _p=Ri("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ta=A.forwardRef(({className:e,variant:t,...n},s)=>g.jsx("div",{ref:s,role:"alert",className:ge(_p({variant:t}),e),...n}));ta.displayName="Alert";const na=A.forwardRef(({className:e,...t},n)=>g.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));na.displayName="AlertTitle";const sa=A.forwardRef(({className:e,...t},n)=>g.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));sa.displayName="AlertDescription";var lr="Checkbox",[yp,Pm]=Qs(lr),[vp,xp]=yp(lr),ra=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:f,...d}=e,[l,p]=A.useState(null),h=Js(t,b=>p(b)),v=A.useRef(!1),E=l?f||!!l.closest("form"):!0,[m=!1,k]=Ci({prop:r,defaultProp:i,onChange:u}),x=A.useRef(m);return A.useEffect(()=>{const b=l==null?void 0:l.form;if(b){const T=()=>k(x.current);return b.addEventListener("reset",T),()=>b.removeEventListener("reset",T)}},[l,k]),g.jsxs(vp,{scope:n,state:m,disabled:a,children:[g.jsx(An.button,{type:"button",role:"checkbox","aria-checked":rt(m)?"mixed":m,"aria-required":o,"data-state":aa(m),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:h,onKeyDown:rn(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:rn(e.onClick,b=>{k(T=>rt(T)?!0:!T),E&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),E&&g.jsx(bp,{control:l,bubbles:!v.current,name:s,value:c,checked:m,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:rt(i)?!1:i})]})});ra.displayName=lr;var ia="CheckboxIndicator",oa=A.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,i=xp(ia,n);return g.jsx(Ni,{present:s||rt(i.state)||i.state===!0,children:g.jsx(An.span,{"data-state":aa(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});oa.displayName=ia;var bp=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:r,...i}=e,o=A.useRef(null),a=Di(n),c=Li(t);A.useEffect(()=>{const f=o.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&p){const h=new Event("click",{bubbles:s});f.indeterminate=rt(n),p.call(f,rt(n)?!1:n),f.dispatchEvent(h)}},[a,n,s]);const u=A.useRef(rt(n)?!1:n);return g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rt(e){return e==="indeterminate"}function aa(e){return rt(e)?"indeterminate":e?"checked":"unchecked"}var ca=ra,Ep=oa;const ua=A.forwardRef(({className:e,...t},n)=>g.jsx(ca,{ref:n,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:g.jsx(Ep,{className:ge("flex items-center justify-center text-current"),children:g.jsx(bu,{className:"h-4 w-4"})})}));ua.displayName=ca.displayName;var dr="Radio",[wp,la]=Qs(dr),[kp,Sp]=wp(dr),da=A.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:i,disabled:o,value:a="on",onCheck:c,form:u,...f}=e,[d,l]=A.useState(null),p=Js(t,E=>l(E)),h=A.useRef(!1),v=d?u||!!d.closest("form"):!0;return g.jsxs(kp,{scope:n,checked:r,disabled:o,children:[g.jsx(An.button,{type:"button",role:"radio","aria-checked":r,"data-state":ha(r),"data-disabled":o?"":void 0,disabled:o,value:a,...f,ref:p,onClick:rn(e.onClick,E=>{r||c==null||c(),v&&(h.current=E.isPropagationStopped(),h.current||E.stopPropagation())})}),v&&g.jsx(Pp,{control:d,bubbles:!h.current,name:s,value:a,checked:r,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});da.displayName=dr;var fa="RadioIndicator",pa=A.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...r}=e,i=Sp(fa,n);return g.jsx(Ni,{present:s||i.checked,children:g.jsx(An.span,{"data-state":ha(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})})});pa.displayName=fa;var Pp=e=>{const{control:t,checked:n,bubbles:s=!0,...r}=e,i=A.useRef(null),o=Di(n),a=Li(t);return A.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&d){const l=new Event("click",{bubbles:s});d.call(c,n),c.dispatchEvent(l)}},[o,n,s]),g.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:i,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ha(e){return e?"checked":"unchecked"}var Ap=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fr="RadioGroup",[Ip,Am]=Qs(fr,[ji,la]),ga=ji(),ma=la(),[Tp,Rp]=Ip(fr),_a=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:i,required:o=!1,disabled:a=!1,orientation:c,dir:u,loop:f=!0,onValueChange:d,...l}=e,p=ga(n),h=Eu(u),[v,E]=Ci({prop:i,defaultProp:r,onChange:d});return g.jsx(Tp,{scope:n,name:s,required:o,disabled:a,value:v,onValueChange:E,children:g.jsx(wu,{asChild:!0,...p,orientation:c,dir:h,loop:f,children:g.jsx(An.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":a?"":void 0,dir:h,...l,ref:t})})})});_a.displayName=fr;var ya="RadioGroupItem",va=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...r}=e,i=Rp(ya,n),o=i.disabled||s,a=ga(n),c=ma(n),u=A.useRef(null),f=Js(t,u),d=i.value===r.value,l=A.useRef(!1);return A.useEffect(()=>{const p=v=>{Ap.includes(v.key)&&(l.current=!0)},h=()=>l.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",h),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",h)}},[]),g.jsx(ku,{asChild:!0,...a,focusable:!o,active:d,children:g.jsx(da,{disabled:o,required:i.required,checked:d,...c,...r,name:i.name,ref:f,onCheck:()=>i.onValueChange(r.value),onKeyDown:rn(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:rn(r.onFocus,()=>{var p;l.current&&((p=u.current)==null||p.click())})})})});va.displayName=ya;var Cp="RadioGroupIndicator",xa=A.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,r=ma(n);return g.jsx(pa,{...r,...s,ref:t})});xa.displayName=Cp;var ba=_a,Ea=va,Np=xa;const wa=A.forwardRef(({className:e,...t},n)=>g.jsx(ba,{className:ge("grid gap-2",e),...t,ref:n}));wa.displayName=ba.displayName;const ka=A.forwardRef(({className:e,...t},n)=>g.jsx(Ea,{ref:n,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:g.jsx(Np,{className:"flex items-center justify-center",children:g.jsx(Su,{className:"h-3.5 w-3.5 fill-primary"})})}));ka.displayName=Ea.displayName;const Sa=A.forwardRef(({className:e,...t},n)=>g.jsx("textarea",{className:ge("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Sa.displayName="Textarea";const Op=Ri("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dp({className:e,variant:t,...n}){return g.jsx("div",{className:ge(Op({variant:t}),e),...n})}const Lp=({className:e,...t})=>g.jsx(Ou,{className:ge("animate-spin",e),...t}),jp=({className:e,...t})=>g.jsx(js,{className:ge("animate-spin",e),...t}),Mp=({className:e,...t})=>g.jsx(Nu,{className:ge("animate-spin",e),...t}),Vp=({className:e,size:t=24,...n})=>g.jsxs("div",{className:"relative",style:{width:t,height:t},children:[g.jsx("div",{className:"absolute inset-0 rotate-180",children:g.jsx(js,{className:ge("animate-spin",e,"text-foreground opacity-20"),size:t,...n})}),g.jsx(js,{className:ge("relative animate-spin",e),size:t,...n})]}),zp=({size:e=24,...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",...t,children:[g.jsx("title",{children:"Loading..."}),g.jsx("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:g.jsx("animate",{id:"ellipsis1",begin:"0;ellipsis3.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),g.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:g.jsx("animate",{begin:"ellipsis1.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),g.jsx("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:g.jsx("animate",{id:"ellipsis3",begin:"ellipsis1.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]}),$p=({size:e=24,...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 44 44",stroke:"currentColor",...t,children:[g.jsx("title",{children:"Loading..."}),g.jsxs("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",children:[g.jsxs("circle",{cx:"22",cy:"22",r:"1",children:[g.jsx("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),g.jsx("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]}),g.jsxs("circle",{cx:"22",cy:"22",r:"1",children:[g.jsx("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),g.jsx("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]})]})]}),Zp=({size:e=24,...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",...t,children:[g.jsx("title",{children:"Loading..."}),g.jsx("style",{children:`
      .spinner-bar {
        animation: spinner-bars-animation .8s linear infinite;
        animation-delay: -.8s;
      }
      .spinner-bars-2 {
        animation-delay: -.65s;
      }
      .spinner-bars-3 {
        animation-delay: -0.5s;
      }
      @keyframes spinner-bars-animation {
        0% {
          y: 1px;
          height: 22px;
        }
        93.75% {
          y: 5px;
          height: 14px;
          opacity: 0.2;
        }
      }
    `}),g.jsx("rect",{className:"spinner-bar",x:"1",y:"1",width:"6",height:"22",fill:"currentColor"}),g.jsx("rect",{className:"spinner-bar spinner-bars-2",x:"9",y:"1",width:"6",height:"22",fill:"currentColor"}),g.jsx("rect",{className:"spinner-bar spinner-bars-3",x:"17",y:"1",width:"6",height:"22",fill:"currentColor"})]}),Hp=({size:e=24,...t})=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",...t,children:[g.jsx("title",{children:"Loading..."}),g.jsx("path",{fill:"none",stroke:"currentColor",strokeWidth:"10",strokeDasharray:"205.271142578125 51.317785644531256",d:"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z",strokeLinecap:"round",style:{transform:"scale(0.8)",transformOrigin:"50px 50px"},children:g.jsx("animate",{attributeName:"stroke-dashoffset",repeatCount:"indefinite",dur:"2s",keyTimes:"0;1",values:"0;256.58892822265625"})})]}),Pa=({variant:e,...t})=>{switch(e){case"circle":return g.jsx(jp,{...t});case"pinwheel":return g.jsx(Mp,{...t});case"circle-filled":return g.jsx(Vp,{...t});case"ellipsis":return g.jsx(zp,{...t});case"ring":return g.jsx($p,{...t});case"bars":return g.jsx(Zp,{...t});case"infinite":return g.jsx(Hp,{...t});default:return g.jsx(Lp,{...t})}},Zn={};function Aa(e){return Zn[e]||(Zn[e]=Vt.lazy(()=>mu(Object.assign({"../../assets/icons/Accept.svg":()=>y(()=>import("./Accept-BUl1ttkD.js"),__vite__mapDeps([0,1,2])),"../../assets/icons/Action.svg":()=>y(()=>import("./Action-Bzk1YShu.js"),__vite__mapDeps([3,1,2])),"../../assets/icons/ActionsMenu.svg":()=>y(()=>import("./ActionsMenu-B11ZswHr.js"),__vite__mapDeps([4,1,2])),"../../assets/icons/Activities.svg":()=>y(()=>import("./Activities-DgKiNHu5.js"),__vite__mapDeps([5,1,2])),"../../assets/icons/ActivityLog.svg":()=>y(()=>import("./ActivityLog-BTt2rmAr.js"),__vite__mapDeps([6,1,2])),"../../assets/icons/Add.svg":()=>y(()=>import("./Add-Dts8lsxP.js"),__vite__mapDeps([7,1,2])),"../../assets/icons/AddGroup.svg":()=>y(()=>import("./AddGroup-DP4svPYg.js"),__vite__mapDeps([8,1,2])),"../../assets/icons/AddTicket.svg":()=>y(()=>import("./AddTicket-DiWZzI1y.js"),__vite__mapDeps([9,1,2])),"../../assets/icons/AddUsers.svg":()=>y(()=>import("./AddUsers-CGKNSyll.js"),__vite__mapDeps([10,1,2])),"../../assets/icons/AddWorkspace.svg":()=>y(()=>import("./AddWorkspace-DGcgECpB.js"),__vite__mapDeps([11,1,2])),"../../assets/icons/Added.svg":()=>y(()=>import("./Added-DjcnP_Sp.js"),__vite__mapDeps([12,1,2])),"../../assets/icons/AdminPrivileges.svg":()=>y(()=>import("./AdminPrivileges-CvRvtRzL.js"),__vite__mapDeps([13,1,2])),"../../assets/icons/Administrator.svg":()=>y(()=>import("./Administrator-CuWUV-Qh.js"),__vite__mapDeps([14,1,2])),"../../assets/icons/AdvancedSearch.svg":()=>y(()=>import("./AdvancedSearch-UN3Jx6Ak.js"),__vite__mapDeps([15,1,2])),"../../assets/icons/AllowedPorts.svg":()=>y(()=>import("./AllowedPorts-BEZBtGlj.js"),__vite__mapDeps([16,1,2])),"../../assets/icons/AnomalousActivity.svg":()=>y(()=>import("./AnomalousActivity-D6L1pKYz.js"),__vite__mapDeps([17,1,2])),"../../assets/icons/Any.svg":()=>y(()=>import("./Any-DTUTYJAe.js"),__vite__mapDeps([18,1,2])),"../../assets/icons/Archive.svg":()=>y(()=>import("./Archive-Dh2QVlRC.js"),__vite__mapDeps([19,1,2])),"../../assets/icons/ArrowDown.svg":()=>y(()=>import("./ArrowDown-X70ZEHLG.js"),__vite__mapDeps([20,1,2])),"../../assets/icons/ArrowLeft.svg":()=>y(()=>import("./ArrowLeft-CKQtyNMr.js"),__vite__mapDeps([21,1,2])),"../../assets/icons/ArrowRight.svg":()=>y(()=>import("./ArrowRight-BFaczKer.js"),__vite__mapDeps([22,1,2])),"../../assets/icons/Assistant.svg":()=>y(()=>import("./Assistant-CakGU_mv.js"),__vite__mapDeps([23,1,2])),"../../assets/icons/Association.svg":()=>y(()=>import("./Association-Cp3O7B-r.js"),__vite__mapDeps([24,1,2])),"../../assets/icons/AttackPath.svg":()=>y(()=>import("./AttackPath-BHNf9PHj.js"),__vite__mapDeps([25,1,2])),"../../assets/icons/AttackPathWidget.svg":()=>y(()=>import("./AttackPathWidget-B9K5T8OV.js"),__vite__mapDeps([26,1,2])),"../../assets/icons/Attacker.svg":()=>y(()=>import("./Attacker-CQycntZP.js"),__vite__mapDeps([27,1,2])),"../../assets/icons/Attributes.svg":()=>y(()=>import("./Attributes-BTlguwh5.js"),__vite__mapDeps([28,1,2])),"../../assets/icons/AutoFix.svg":()=>y(()=>import("./AutoFix-BVQr5tjd.js"),__vite__mapDeps([29,1,2])),"../../assets/icons/AutoRemediation.svg":()=>y(()=>import("./AutoRemediation-BqIQ5pzG.js"),__vite__mapDeps([30,1,2])),"../../assets/icons/Availability.svg":()=>y(()=>import("./Availability-qRkOERnE.js"),__vite__mapDeps([31,1,2])),"../../assets/icons/Avatar.svg":()=>y(()=>import("./Avatar-C72rhz_d.js"),__vite__mapDeps([32,1,2])),"../../assets/icons/AzureBoards.svg":()=>y(()=>import("./AzureBoards-Bg_-UAA4.js"),__vite__mapDeps([33,1,2])),"../../assets/icons/Back.svg":()=>y(()=>import("./Back-BCUSgkU1.js"),__vite__mapDeps([34,1,2])),"../../assets/icons/BriefcaseOutline.svg":()=>y(()=>import("./BriefcaseOutline-nftapHtY.js"),__vite__mapDeps([35,1,2])),"../../assets/icons/Calander.svg":()=>y(()=>import("./Calander-8Kjarc3h.js"),__vite__mapDeps([36,1,2])),"../../assets/icons/CancelInvite.svg":()=>y(()=>import("./CancelInvite-R7DkxdVs.js"),__vite__mapDeps([37,1,2])),"../../assets/icons/ChartBarStacked.svg":()=>y(()=>import("./ChartBarStacked-CjtvWSM1.js"),__vite__mapDeps([38,1,2])),"../../assets/icons/ChartLine.svg":()=>y(()=>import("./ChartLine-JF6vraC5.js"),__vite__mapDeps([39,1,2])),"../../assets/icons/Check.svg":()=>y(()=>import("./Check-u27u3SbC.js"),__vite__mapDeps([40,1,2])),"../../assets/icons/CheckFilled.svg":()=>y(()=>import("./CheckFilled-B_akkvxy.js"),__vite__mapDeps([41,1,2])),"../../assets/icons/CheckMark.svg":()=>y(()=>import("./CheckMark-CvSVO1mT.js"),__vite__mapDeps([42,1,2])),"../../assets/icons/CheckSymbol.svg":()=>y(()=>import("./CheckSymbol-IFfto4JH.js"),__vite__mapDeps([43,1,2])),"../../assets/icons/Close.svg":()=>y(()=>import("./Close-DvSsMksV.js"),__vite__mapDeps([44,1,2])),"../../assets/icons/ClosedConnections.svg":()=>y(()=>import("./ClosedConnections-OC9gSxr4.js"),__vite__mapDeps([45,1,2])),"../../assets/icons/CloudShell.svg":()=>y(()=>import("./CloudShell-CP43dY02.js"),__vite__mapDeps([46,1,2])),"../../assets/icons/Code.svg":()=>y(()=>import("./Code-CZZs77pe.js"),__vite__mapDeps([47,1,2])),"../../assets/icons/Cog.svg":()=>y(()=>import("./Cog-C26UxIbF.js"),__vite__mapDeps([48,1,2])),"../../assets/icons/CollapseUp.svg":()=>y(()=>import("./CollapseUp-BgNbIy8K.js"),__vite__mapDeps([49,1,2])),"../../assets/icons/Collapsed.svg":()=>y(()=>import("./Collapsed-yHYsl42Q.js"),__vite__mapDeps([50,1,2])),"../../assets/icons/Compliance.svg":()=>y(()=>import("./Compliance-BUEnXmJe.js"),__vite__mapDeps([51,1,2])),"../../assets/icons/ComplianceScore.svg":()=>y(()=>import("./ComplianceScore-3rVhvH3u.js"),__vite__mapDeps([52,1,2])),"../../assets/icons/Condition.svg":()=>y(()=>import("./Condition-B8Zs9VGK.js"),__vite__mapDeps([53,1,2])),"../../assets/icons/ConfigChanges.svg":()=>y(()=>import("./ConfigChanges-CHaT8D6P.js"),__vite__mapDeps([54,1,2])),"../../assets/icons/Configuration.svg":()=>y(()=>import("./Configuration-DYtT1JjL.js"),__vite__mapDeps([55,1,2])),"../../assets/icons/Connections.svg":()=>y(()=>import("./Connections-CSPOW1IR.js"),__vite__mapDeps([56,1,2])),"../../assets/icons/Copy.svg":()=>y(()=>import("./Copy-B6JVpqPY.js"),__vite__mapDeps([57,1,2])),"../../assets/icons/Cortex.svg":()=>y(()=>import("./Cortex-Cf6oOMWL.js"),__vite__mapDeps([58,1,2])),"../../assets/icons/Cost.svg":()=>y(()=>import("./Cost-CBQ6XVk8.js"),__vite__mapDeps([59,1,2])),"../../assets/icons/CrowdStrike.svg":()=>y(()=>import("./CrowdStrike-CFehm7ca.js"),__vite__mapDeps([60,1,2])),"../../assets/icons/CrownJewel.svg":()=>y(()=>import("./CrownJewel-BD5ml-ez.js"),__vite__mapDeps([61,1,2])),"../../assets/icons/CrownJewelAccess.svg":()=>y(()=>import("./CrownJewelAccess-BZx09AIt.js"),__vite__mapDeps([62,1,2])),"../../assets/icons/Dashboard.svg":()=>y(()=>import("./Dashboard-DyAIOpZK.js"),__vite__mapDeps([63,1,2])),"../../assets/icons/Data.svg":()=>y(()=>import("./Data--k6XrTIP.js"),__vite__mapDeps([64,1,2])),"../../assets/icons/DataAccess.svg":()=>y(()=>import("./DataAccess-Cy5zQTAY.js"),__vite__mapDeps([65,1,2])),"../../assets/icons/DataSecurity.svg":()=>y(()=>import("./DataSecurity-DqX98y4p.js"),__vite__mapDeps([66,1,2])),"../../assets/icons/Delete.svg":()=>y(()=>import("./Delete-DEILc5JP.js"),__vite__mapDeps([67,1,2])),"../../assets/icons/Deleted.svg":()=>y(()=>import("./Deleted-C96wlZKQ.js"),__vite__mapDeps([68,1,2])),"../../assets/icons/Description.svg":()=>y(()=>import("./Description-BBAcWAoF.js"),__vite__mapDeps([69,1,2])),"../../assets/icons/Details.svg":()=>y(()=>import("./Details-D5tdBk_5.js"),__vite__mapDeps([70,1,2])),"../../assets/icons/Detections.svg":()=>y(()=>import("./Detections-B8lIDNT7.js"),__vite__mapDeps([71,1,2])),"../../assets/icons/Disabled.svg":()=>y(()=>import("./Disabled-CWNO9pfJ.js"),__vite__mapDeps([72,1,2])),"../../assets/icons/Discovery.svg":()=>y(()=>import("./Discovery-CXnAO9zR.js"),__vite__mapDeps([73,1,2])),"../../assets/icons/Docs.svg":()=>y(()=>import("./Docs-CoBhys2i.js"),__vite__mapDeps([74,1,2])),"../../assets/icons/Download.svg":()=>y(()=>import("./Download-agkCnpGA.js"),__vite__mapDeps([75,1,2])),"../../assets/icons/Draft.svg":()=>y(()=>import("./Draft-C19HQvDY.js"),__vite__mapDeps([76,1,2])),"../../assets/icons/DropDown.svg":()=>y(()=>import("./DropDown-Db6wfRw1.js"),__vite__mapDeps([77,1,2])),"../../assets/icons/Earth.svg":()=>y(()=>import("./Earth-8N48lcNl.js"),__vite__mapDeps([78,1,2])),"../../assets/icons/Edges.svg":()=>y(()=>import("./Edges-DBw1WheP.js"),__vite__mapDeps([79,1,2])),"../../assets/icons/Edit.svg":()=>y(()=>import("./Edit-PONvW4Jq.js"),__vite__mapDeps([80,1,2])),"../../assets/icons/EditDetails.svg":()=>y(()=>import("./EditDetails-BicA2nw4.js"),__vite__mapDeps([81,1,2])),"../../assets/icons/EditProfile.svg":()=>y(()=>import("./EditProfile-BeOFJt9o.js"),__vite__mapDeps([82,1,2])),"../../assets/icons/EditUser.svg":()=>y(()=>import("./EditUser-Bc5aObQL.js"),__vite__mapDeps([83,1,2])),"../../assets/icons/Empty.svg":()=>y(()=>import("./Empty-Brd3WiNQ.js"),__vite__mapDeps([84,1,2])),"../../assets/icons/Enabled.svg":()=>y(()=>import("./Enabled-tGj-1pVx.js"),__vite__mapDeps([85,1,2])),"../../assets/icons/Encryption.svg":()=>y(()=>import("./Encryption-nkFGHWHJ.js"),__vite__mapDeps([86,1,2])),"../../assets/icons/Error.svg":()=>y(()=>import("./Error-Dl31Xeld.js"),__vite__mapDeps([87,1,2])),"../../assets/icons/ErrorFilled.svg":()=>y(()=>import("./ErrorFilled-DR3zmJSY.js"),__vite__mapDeps([88,1,2])),"../../assets/icons/EventName.svg":()=>y(()=>import("./EventName-BglDq7lq.js"),__vite__mapDeps([89,1,2])),"../../assets/icons/Events.svg":()=>y(()=>import("./Events-xU1e0ZJH.js"),__vite__mapDeps([90,1,2])),"../../assets/icons/Exclude.svg":()=>y(()=>import("./Exclude-Di2VuUd8.js"),__vite__mapDeps([91,1,2])),"../../assets/icons/ExcludeCondition.svg":()=>y(()=>import("./ExcludeCondition-DmCogCsJ.js"),__vite__mapDeps([92,1,2])),"../../assets/icons/ExpandDown.svg":()=>y(()=>import("./ExpandDown-C_itfOd1.js"),__vite__mapDeps([93,1,2])),"../../assets/icons/ExpandRight.svg":()=>y(()=>import("./ExpandRight-DaO-31D-.js"),__vite__mapDeps([94,1,2])),"../../assets/icons/Expanded.svg":()=>y(()=>import("./Expanded-Cg0nnV--.js"),__vite__mapDeps([95,1,2])),"../../assets/icons/Exploit.svg":()=>y(()=>import("./Exploit-B8bw00i-.js"),__vite__mapDeps([96,1,2])),"../../assets/icons/Export.svg":()=>y(()=>import("./Export-D6WTmCvC.js"),__vite__mapDeps([97,1,2])),"../../assets/icons/ExposedAll.svg":()=>y(()=>import("./ExposedAll-B8KfPPLe.js"),__vite__mapDeps([98,1,2])),"../../assets/icons/Exposure.svg":()=>y(()=>import("./Exposure-CW_alS2W.js"),__vite__mapDeps([99,1,2])),"../../assets/icons/ExternalExposure.svg":()=>y(()=>import("./ExternalExposure-CDrWZL9z.js"),__vite__mapDeps([100,1,2])),"../../assets/icons/Failure.svg":()=>y(()=>import("./Failure-nvUsfc6U.js"),__vite__mapDeps([101,1,2])),"../../assets/icons/Feedback.svg":()=>y(()=>import("./Feedback-CIjzZfZb.js"),__vite__mapDeps([102,1,2])),"../../assets/icons/Filter.svg":()=>y(()=>import("./Filter-BjOcIMK1.js"),__vite__mapDeps([103,1,2])),"../../assets/icons/FilterAdd.svg":()=>y(()=>import("./FilterAdd-CMy3BFYt.js"),__vite__mapDeps([104,1,2])),"../../assets/icons/FilterDelete.svg":()=>y(()=>import("./FilterDelete-BvPbQwBJ.js"),__vite__mapDeps([105,1,2])),"../../assets/icons/Focus.svg":()=>y(()=>import("./Focus-ENEef62v.js"),__vite__mapDeps([106,1,2])),"../../assets/icons/FocusCenter.svg":()=>y(()=>import("./FocusCenter-c1YHy-ex.js"),__vite__mapDeps([107,1,2])),"../../assets/icons/Graph.svg":()=>y(()=>import("./Graph-riKMG6Os.js"),__vite__mapDeps([108,1,2])),"../../assets/icons/GroupBy.svg":()=>y(()=>import("./GroupBy-FmXtwAhY.js"),__vite__mapDeps([109,1,2])),"../../assets/icons/GuardDuty.svg":()=>y(()=>import("./GuardDuty-DqrXdCEm.js"),__vite__mapDeps([110,1,2])),"../../assets/icons/Help.svg":()=>y(()=>import("./Help-DskxmKgN.js"),__vite__mapDeps([111,1,2])),"../../assets/icons/HelpFilled.svg":()=>y(()=>import("./HelpFilled-DUyoPTxc.js"),__vite__mapDeps([112,1,2])),"../../assets/icons/Hierarchy.svg":()=>y(()=>import("./Hierarchy-2oTq7fWE.js"),__vite__mapDeps([113,1,2])),"../../assets/icons/HighPrivileges.svg":()=>y(()=>import("./HighPrivileges-BvSP47MS.js"),__vite__mapDeps([114,1,2])),"../../assets/icons/HighestSpending.svg":()=>y(()=>import("./HighestSpending-Cox9frHy.js"),__vite__mapDeps([115,1,2])),"../../assets/icons/HighestSpendingRegions.svg":()=>y(()=>import("./HighestSpendingRegions-BG_MXSGP.js"),__vite__mapDeps([116,1,2])),"../../assets/icons/IPAddress.svg":()=>y(()=>import("./IPAddress-C96a8MSG.js"),__vite__mapDeps([117,1,2])),"../../assets/icons/Identifier.svg":()=>y(()=>import("./Identifier-ozbSR99z.js"),__vite__mapDeps([118,1,2])),"../../assets/icons/IdentityAccess.svg":()=>y(()=>import("./IdentityAccess-CmVA3hwt.js"),__vite__mapDeps([119,1,2])),"../../assets/icons/IdentityLog.svg":()=>y(()=>import("./IdentityLog-DlswT28w.js"),__vite__mapDeps([120,1,2])),"../../assets/icons/Impact.svg":()=>y(()=>import("./Impact-DO7Payp7.js"),__vite__mapDeps([121,1,2])),"../../assets/icons/Info.svg":()=>y(()=>import("./Info-CEgY4zQK.js"),__vite__mapDeps([122,1,2])),"../../assets/icons/InsecureIdentity.svg":()=>y(()=>import("./InsecureIdentity-GA-IY4hR.js"),__vite__mapDeps([123,1,2])),"../../assets/icons/Insight.svg":()=>y(()=>import("./Insight-3Zztqh9H.js"),__vite__mapDeps([124,1,2])),"../../assets/icons/Inspect.svg":()=>y(()=>import("./Inspect-Bfw_NfqB.js"),__vite__mapDeps([125,1,2])),"../../assets/icons/Integrations.svg":()=>y(()=>import("./Integrations-kIxgoIh3.js"),__vite__mapDeps([126,1,2])),"../../assets/icons/InternetExposed.svg":()=>y(()=>import("./InternetExposed-DpC_WE_s.js"),__vite__mapDeps([127,1,2])),"../../assets/icons/Intersection.svg":()=>y(()=>import("./Intersection-DoGO9MA-.js"),__vite__mapDeps([128,1,2])),"../../assets/icons/Investigator.svg":()=>y(()=>import("./Investigator-BcBjZDep.js"),__vite__mapDeps([129,1,2])),"../../assets/icons/InviteUser.svg":()=>y(()=>import("./InviteUser-C0tFXVww.js"),__vite__mapDeps([130,1,2])),"../../assets/icons/InvitedEmail.svg":()=>y(()=>import("./InvitedEmail-ebXPPf76.js"),__vite__mapDeps([131,1,2])),"../../assets/icons/Jira.svg":()=>y(()=>import("./Jira-lIwROpZt.js"),__vite__mapDeps([132,1,2])),"../../assets/icons/Label.svg":()=>y(()=>import("./Label-CgoJeDcB.js"),__vite__mapDeps([133,1,2])),"../../assets/icons/Labs.svg":()=>y(()=>import("./Labs-kCYap-XO.js"),__vite__mapDeps([134,1,2])),"../../assets/icons/LearnMore.svg":()=>y(()=>import("./LearnMore-D6kRWOm4.js"),__vite__mapDeps([135,1,2])),"../../assets/icons/List.svg":()=>y(()=>import("./List-BDzQ61Yo.js"),__vite__mapDeps([136,1,2])),"../../assets/icons/Location.svg":()=>y(()=>import("./Location-BLsdjgGc.js"),__vite__mapDeps([137,1,2])),"../../assets/icons/LoggingMonitoring.svg":()=>y(()=>import("./LoggingMonitoring-DR99U-xB.js"),__vite__mapDeps([138,1,2])),"../../assets/icons/Logo.svg":()=>y(()=>import("./Logo-CAq1_0VN.js"),__vite__mapDeps([139,1,2])),"../../assets/icons/Logout.svg":()=>y(()=>import("./Logout-BzlKD0DF.js"),__vite__mapDeps([140,1,2])),"../../assets/icons/Members.svg":()=>y(()=>import("./Members-D0__fyBo.js"),__vite__mapDeps([141,1,2])),"../../assets/icons/Message.svg":()=>y(()=>import("./Message-DsXv5_yB.js"),__vite__mapDeps([142,1,2])),"../../assets/icons/Misconfiguration.svg":()=>y(()=>import("./Misconfiguration-DLyV94FF.js"),__vite__mapDeps([143,1,2])),"../../assets/icons/MissingPolicy.svg":()=>y(()=>import("./MissingPolicy-C7204cnd.js"),__vite__mapDeps([144,1,2])),"../../assets/icons/Mitre.svg":()=>y(()=>import("./Mitre-CZV4To4Z.js"),__vite__mapDeps([145,1,2])),"../../assets/icons/Modified.svg":()=>y(()=>import("./Modified-Ck0Cc1-f.js"),__vite__mapDeps([146,1,2])),"../../assets/icons/ModifiedPermission.svg":()=>y(()=>import("./ModifiedPermission-BaUljsj6.js"),__vite__mapDeps([147,1,2])),"../../assets/icons/MoveCursor.svg":()=>y(()=>import("./MoveCursor-B7iUY9vz.js"),__vite__mapDeps([148,1,2])),"../../assets/icons/MultipleItems.svg":()=>y(()=>import("./MultipleItems-D6HR60Fz.js"),__vite__mapDeps([149,1,2])),"../../assets/icons/NeglectedResources.svg":()=>y(()=>import("./NeglectedResources-DueX9YNa.js"),__vite__mapDeps([150,1,2])),"../../assets/icons/NetworkIdentity.svg":()=>y(()=>import("./NetworkIdentity-BaY5R8HC.js"),__vite__mapDeps([151,1,2])),"../../assets/icons/New.svg":()=>y(()=>import("./New-CwN2c8ki.js"),__vite__mapDeps([152,1,2])),"../../assets/icons/NewConnections.svg":()=>y(()=>import("./NewConnections-Bz0QIli8.js"),__vite__mapDeps([153,1,2])),"../../assets/icons/Notification.svg":()=>y(()=>import("./Notification-BQqhr-L3.js"),__vite__mapDeps([154,1,2])),"../../assets/icons/NotificationOff.svg":()=>y(()=>import("./NotificationOff-Doh5kBSQ.js"),__vite__mapDeps([155,1,2])),"../../assets/icons/NotificationOn.svg":()=>y(()=>import("./NotificationOn-BOJx_kFM.js"),__vite__mapDeps([156,1,2])),"../../assets/icons/NotificationSettings.svg":()=>y(()=>import("./NotificationSettings-Cl6RkFxI.js"),__vite__mapDeps([157,1,2])),"../../assets/icons/OktaDomain.svg":()=>y(()=>import("./OktaDomain-CDzSAi--.js"),__vite__mapDeps([158,1,2])),"../../assets/icons/OpenInNew.svg":()=>y(()=>import("./OpenInNew-C9Kr_FDF.js"),__vite__mapDeps([159,1,2])),"../../assets/icons/Organization.svg":()=>y(()=>import("./Organization-CfIg4Mom.js"),__vite__mapDeps([160,1,2])),"../../assets/icons/OrganizationAdmin.svg":()=>y(()=>import("./OrganizationAdmin-Bt5dap1I.js"),__vite__mapDeps([161,1,2])),"../../assets/icons/Other.svg":()=>y(()=>import("./Other-Nliauqa5.js"),__vite__mapDeps([162,1,2])),"../../assets/icons/PackageFixed.svg":()=>y(()=>import("./PackageFixed-DDeEX6Vc.js"),__vite__mapDeps([163,1,2])),"../../assets/icons/Path.svg":()=>y(()=>import("./Path-DJrGTezW.js"),__vite__mapDeps([164,1,2])),"../../assets/icons/PathDestination.svg":()=>y(()=>import("./PathDestination-z_kL82sd.js"),__vite__mapDeps([165,1,2])),"../../assets/icons/PathIntermediate.svg":()=>y(()=>import("./PathIntermediate-t17qbeQH.js"),__vite__mapDeps([166,1,2])),"../../assets/icons/PathSource.svg":()=>y(()=>import("./PathSource-BDNUduhV.js"),__vite__mapDeps([167,1,2])),"../../assets/icons/Pending.svg":()=>y(()=>import("./Pending-CQskHfPS.js"),__vite__mapDeps([168,1,2])),"../../assets/icons/Pin.svg":()=>y(()=>import("./Pin-CxBtS677.js"),__vite__mapDeps([169,1,2])),"../../assets/icons/Placeholder.svg":()=>y(()=>import("./Placeholder-D1gzz2Re.js"),__vite__mapDeps([170,1,2])),"../../assets/icons/Port.svg":()=>y(()=>import("./Port-Bsh9x_9v.js"),__vite__mapDeps([171,1,2])),"../../assets/icons/PotentialSavings.svg":()=>y(()=>import("./PotentialSavings-CuFpuMPO.js"),__vite__mapDeps([172,1,2])),"../../assets/icons/Preferences.svg":()=>y(()=>import("./Preferences-BshMuVsE.js"),__vite__mapDeps([173,1,2])),"../../assets/icons/PrivilegeEscalation.svg":()=>y(()=>import("./PrivilegeEscalation-CT4WnTyY.js"),__vite__mapDeps([174,1,2])),"../../assets/icons/Processing.svg":()=>y(()=>import("./Processing-9291N0FG.js"),__vite__mapDeps([175,1,2])),"../../assets/icons/Properties.svg":()=>y(()=>import("./Properties-DU1nJgaS.js"),__vite__mapDeps([176,1,2])),"../../assets/icons/Public.svg":()=>y(()=>import("./Public-Dy92RDY7.js"),__vite__mapDeps([177,1,2])),"../../assets/icons/PublicExposed.svg":()=>y(()=>import("./PublicExposed-BLAXMaCJ.js"),__vite__mapDeps([178,1,2])),"../../assets/icons/Publish.svg":()=>y(()=>import("./Publish-CfvvxTMc.js"),__vite__mapDeps([179,1,2])),"../../assets/icons/Refresh.svg":()=>y(()=>import("./Refresh-CACgOiOv.js"),__vite__mapDeps([180,1,2])),"../../assets/icons/Region.svg":()=>y(()=>import("./Region-Dv1JF_37.js"),__vite__mapDeps([181,1,2])),"../../assets/icons/Reject.svg":()=>y(()=>import("./Reject-C3sZSrSJ.js"),__vite__mapDeps([182,1,2])),"../../assets/icons/Remediation.svg":()=>y(()=>import("./Remediation-BHZX6SUX.js"),__vite__mapDeps([183,1,2])),"../../assets/icons/Remove.svg":()=>y(()=>import("./Remove-CJz14Eqn.js"),__vite__mapDeps([184,1,2])),"../../assets/icons/RemoveUser.svg":()=>y(()=>import("./RemoveUser-CvjQ0s60.js"),__vite__mapDeps([185,1,2])),"../../assets/icons/Reorder.svg":()=>y(()=>import("./Reorder-Bnw7dznc.js"),__vite__mapDeps([186,1,2])),"../../assets/icons/ResendInvite.svg":()=>y(()=>import("./ResendInvite-DjOeeCxW.js"),__vite__mapDeps([187,1,2])),"../../assets/icons/ResourceType.svg":()=>y(()=>import("./ResourceType-CXujZ03a.js"),__vite__mapDeps([188,1,2])),"../../assets/icons/Reverse.svg":()=>y(()=>import("./Reverse-DdrujUah.js"),__vite__mapDeps([189,1,2])),"../../assets/icons/ReverseNot.svg":()=>y(()=>import("./ReverseNot-D712Dpv9.js"),__vite__mapDeps([190,1,2])),"../../assets/icons/Rocket.svg":()=>y(()=>import("./Rocket-DHCj8ub5.js"),__vite__mapDeps([191,1,2])),"../../assets/icons/Rules.svg":()=>y(()=>import("./Rules-DJjrXRZ8.js"),__vite__mapDeps([192,1,2])),"../../assets/icons/RulesWidget.svg":()=>y(()=>import("./RulesWidget-jOcS9QGO.js"),__vite__mapDeps([193,1,2])),"../../assets/icons/Run.svg":()=>y(()=>import("./Run--l6pZtYU.js"),__vite__mapDeps([194,1,2])),"../../assets/icons/RuntimeAgent.svg":()=>y(()=>import("./RuntimeAgent-DF5P06y6.js"),__vite__mapDeps([195,1,2])),"../../assets/icons/SAMLUser.svg":()=>y(()=>import("./SAMLUser-BfwVrM2q.js"),__vite__mapDeps([196,1,2])),"../../assets/icons/SSO.svg":()=>y(()=>import("./SSO-BXcJNHH2.js"),__vite__mapDeps([197,1,2])),"../../assets/icons/Save.svg":()=>y(()=>import("./Save-CwwOncaW.js"),__vite__mapDeps([198,1,2])),"../../assets/icons/SaveViews.svg":()=>y(()=>import("./SaveViews-CLWrEIR1.js"),__vite__mapDeps([199,1,2])),"../../assets/icons/SavedView.svg":()=>y(()=>import("./SavedView-C47PUU0r.js"),__vite__mapDeps([200,1,2])),"../../assets/icons/SavedViews.svg":()=>y(()=>import("./SavedViews-CQUb-pgC.js"),__vite__mapDeps([201,1,2])),"../../assets/icons/Scope.svg":()=>y(()=>import("./Scope-BDAhTlJg.js"),__vite__mapDeps([202,1,2])),"../../assets/icons/Search.svg":()=>y(()=>import("./Search-DIkj3ZQb.js"),__vite__mapDeps([203,1,2])),"../../assets/icons/Security.svg":()=>y(()=>import("./Security-Bc04KnPP.js"),__vite__mapDeps([204,1,2])),"../../assets/icons/SecurityAlert.svg":()=>y(()=>import("./SecurityAlert-CgJTw3Gm.js"),__vite__mapDeps([205,1,2])),"../../assets/icons/SecurityScore.svg":()=>y(()=>import("./SecurityScore-CZA3Z5wh.js"),__vite__mapDeps([206,1,2])),"../../assets/icons/Send.svg":()=>y(()=>import("./Send--ASvkO0I.js"),__vite__mapDeps([207,1,2])),"../../assets/icons/SentinelOne.svg":()=>y(()=>import("./SentinelOne-Qf--Q3uk.js"),__vite__mapDeps([208,1,2])),"../../assets/icons/ServiceNow.svg":()=>y(()=>import("./ServiceNow-BgSuQo-t.js"),__vite__mapDeps([209,1,2])),"../../assets/icons/Services.svg":()=>y(()=>import("./Services-CTuSDeXe.js"),__vite__mapDeps([210,1,2])),"../../assets/icons/Settings.svg":()=>y(()=>import("./Settings-nuM-RG0m.js"),__vite__mapDeps([211,1,2])),"../../assets/icons/SeverityCritical.svg":()=>y(()=>import("./SeverityCritical-6uRx8CVw.js"),__vite__mapDeps([212,1,2])),"../../assets/icons/SeverityHigh.svg":()=>y(()=>import("./SeverityHigh-B45Uq8_E.js"),__vite__mapDeps([213,1,2])),"../../assets/icons/SeverityLow.svg":()=>y(()=>import("./SeverityLow-cOA-2gE3.js"),__vite__mapDeps([214,1,2])),"../../assets/icons/SeverityMedium.svg":()=>y(()=>import("./SeverityMedium-CsD6XODq.js"),__vite__mapDeps([215,1,2])),"../../assets/icons/Simulations.svg":()=>y(()=>import("./Simulations-C8iMNVkw.js"),__vite__mapDeps([216,1,2])),"../../assets/icons/SortAscending.svg":()=>y(()=>import("./SortAscending-9SqzEte1.js"),__vite__mapDeps([217,1,2])),"../../assets/icons/SortDescending.svg":()=>y(()=>import("./SortDescending-B-q8J_3z.js"),__vite__mapDeps([218,1,2])),"../../assets/icons/Sortable.svg":()=>y(()=>import("./Sortable-ZeAh_1bw.js"),__vite__mapDeps([219,1,2])),"../../assets/icons/SourceBranch.svg":()=>y(()=>import("./SourceBranch-kv1kPlJO.js"),__vite__mapDeps([220,1,2])),"../../assets/icons/SourceCommit.svg":()=>y(()=>import("./SourceCommit-CJYF_lfq.js"),__vite__mapDeps([221,1,2])),"../../assets/icons/SourcePull.svg":()=>y(()=>import("./SourcePull-DOejVNQ_.js"),__vite__mapDeps([222,1,2])),"../../assets/icons/Stopped.svg":()=>y(()=>import("./Stopped-DueBPwcc.js"),__vite__mapDeps([223,1,2])),"../../assets/icons/Subscription.svg":()=>y(()=>import("./Subscription-CrYiS_J6.js"),__vite__mapDeps([224,1,2])),"../../assets/icons/Suggestion.svg":()=>y(()=>import("./Suggestion-UNRkZ-SL.js"),__vite__mapDeps([225,1,2])),"../../assets/icons/SuspiciousIdentityActivity.svg":()=>y(()=>import("./SuspiciousIdentityActivity-Df5FrciX.js"),__vite__mapDeps([226,1,2])),"../../assets/icons/SuspiciousKubernetesAPIActivity.svg":()=>y(()=>import("./SuspiciousKubernetesAPIActivity-CMb3ZrXY.js"),__vite__mapDeps([227,1,2])),"../../assets/icons/Sustainability.svg":()=>y(()=>import("./Sustainability-BijW5VhF.js"),__vite__mapDeps([228,1,2])),"../../assets/icons/Switch.svg":()=>y(()=>import("./Switch-CqsOFT1G.js"),__vite__mapDeps([229,1,2])),"../../assets/icons/Switches.svg":()=>y(()=>import("./Switches-CkMp7_Jt.js"),__vite__mapDeps([230,1,2])),"../../assets/icons/Tag.svg":()=>y(()=>import("./Tag-CGH-u-2V.js"),__vite__mapDeps([231,1,2])),"../../assets/icons/Target.svg":()=>y(()=>import("./Target-DL_Qpcwa.js"),__vite__mapDeps([232,1,2])),"../../assets/icons/Ticket.svg":()=>y(()=>import("./Ticket-BdRPTRJ5.js"),__vite__mapDeps([233,1,2])),"../../assets/icons/Time.svg":()=>y(()=>import("./Time-B_jtwO7k.js"),__vite__mapDeps([234,1,2])),"../../assets/icons/Timeline.svg":()=>y(()=>import("./Timeline-BTm929yk.js"),__vite__mapDeps([235,1,2])),"../../assets/icons/Topology.svg":()=>y(()=>import("./Topology-CV5M_WPM.js"),__vite__mapDeps([236,1,2])),"../../assets/icons/TrafficLog.svg":()=>y(()=>import("./TrafficLog-5gVeztCe.js"),__vite__mapDeps([237,1,2])),"../../assets/icons/Trash.svg":()=>y(()=>import("./Trash-C0FmiPZl.js"),__vite__mapDeps([238,1,2])),"../../assets/icons/Trend.svg":()=>y(()=>import("./Trend-zTlX0KuO.js"),__vite__mapDeps([239,1,2])),"../../assets/icons/TrendDown.svg":()=>y(()=>import("./TrendDown-CAIQO3Ta.js"),__vite__mapDeps([240,1,2])),"../../assets/icons/TrendNone.svg":()=>y(()=>import("./TrendNone-CGjHWh0w.js"),__vite__mapDeps([241,1,2])),"../../assets/icons/TrendUp.svg":()=>y(()=>import("./TrendUp-CUnLizlu.js"),__vite__mapDeps([242,1,2])),"../../assets/icons/UndoRemoving.svg":()=>y(()=>import("./UndoRemoving-Cox9lVLE.js"),__vite__mapDeps([243,1,2])),"../../assets/icons/Unexclude.svg":()=>y(()=>import("./Unexclude-Bjyaazey.js"),__vite__mapDeps([244,1,2])),"../../assets/icons/Unreachable.svg":()=>y(()=>import("./Unreachable-BsgdDybo.js"),__vite__mapDeps([245,1,2])),"../../assets/icons/User.svg":()=>y(()=>import("./User-CS1CYa-9.js"),__vite__mapDeps([246,1,2])),"../../assets/icons/UserAgent.svg":()=>y(()=>import("./UserAgent-CA5w4IRw.js"),__vite__mapDeps([247,1,2])),"../../assets/icons/UserSettings.svg":()=>y(()=>import("./UserSettings-BO93GYhf.js"),__vite__mapDeps([248,1,2])),"../../assets/icons/Users.svg":()=>y(()=>import("./Users-Bv2ojYik.js"),__vite__mapDeps([249,1,2])),"../../assets/icons/ViolatedRulesWidget.svg":()=>y(()=>import("./ViolatedRulesWidget-TEDe2u7W.js"),__vite__mapDeps([250,1,2])),"../../assets/icons/Violation.svg":()=>y(()=>import("./Violation-EIckOzku.js"),__vite__mapDeps([251,1,2])),"../../assets/icons/Visibility.svg":()=>y(()=>import("./Visibility-COoWv1V2.js"),__vite__mapDeps([252,1,2])),"../../assets/icons/Vulnerabilities.svg":()=>y(()=>import("./Vulnerabilities-DQsbjZ5t.js"),__vite__mapDeps([253,1,2])),"../../assets/icons/VulnerabilitiesWidget.svg":()=>y(()=>import("./VulnerabilitiesWidget-BHpP1t4A.js"),__vite__mapDeps([254,1,2])),"../../assets/icons/Vulnerability.svg":()=>y(()=>import("./Vulnerability-DW1L_VmN.js"),__vite__mapDeps([255,1,2])),"../../assets/icons/Warning.svg":()=>y(()=>import("./Warning-aJPBz63Z.js"),__vite__mapDeps([256,1,2])),"../../assets/icons/Workspace.svg":()=>y(()=>import("./Workspace-CJ3QfH2N.js"),__vite__mapDeps([257,1,2])),"../../assets/icons/YouTrack.svg":()=>y(()=>import("./YouTrack-8NiAAx67.js"),__vite__mapDeps([258,1,2])),"../../assets/icons/ZoomIn.svg":()=>y(()=>import("./ZoomIn-CtdXg5NV.js"),__vite__mapDeps([259,1,2])),"../../assets/icons/ZoomOut.svg":()=>y(()=>import("./ZoomOut-B4EdTRAr.js"),__vite__mapDeps([260,1,2]))}),`../../assets/icons/${e}.svg`,5).catch(()=>Aa("Placeholder")))),Zn[e]}const ve={div(e){return g.jsx("div",{style:e.style,className:ge([e.col&&"flex flex-col",e.row&&"flex flex-row",e.full&&"w-full h-full",e.scroll&&"overflow-auto",e.grow&&"flex-grow basis-0",e.p&&"p-2",e.px&&"px-2",e.py&&"py-2",e.gap&&"gap-2",e.center&&"items-center",e.border==="bottom"&&"border-b border-border",e.border==="right"&&"border-r border-border",e.card&&"bg-card",e.bg&&"bg-background",e.round&&"rounded-md",typeof e.border=="boolean"&&e.border&&"border",e.className]),children:e.children})},column(e){return g.jsx(ve.div,{col:!0,...e})},row(e){return g.jsx(ve.div,{row:!0,...e})},grow(e){return g.jsx(ve.div,{grow:!0,...e})},head(e){return g.jsx(ve.div,{row:!0,gap:!0,px:!0,py:!0,center:!0,card:!0,border:"bottom",style:{minHeight:61},children:e.children})},text(e){const{variant:t="body",children:n}=e;return g.jsx("div",{className:ge([t==="h1"&&"text-xl",t==="h2"&&"text-lg",t==="subtitle1"&&"text-base font-semibold",t==="subtitle2"&&"text-base",t==="body"&&"text-sm"]),children:n})},icon({name:e,...t}){const n=Aa(e);return g.jsx(Vt.Suspense,{fallback:null,children:g.jsx(n,{width:16,height:16,...t})})},button(e){const{icon:t,endIcon:n,size:s,variant:r,onClick:i,className:o}=e,a=e.label||e.children;return g.jsxs(_u,{type:e.type,variant:r,size:t&&s!=="sm"?"icon":s||"default",onClick:i,className:ge(o,[!a&&t&&s==="sm"&&"w-5 h-5"]),disabled:e.disabled,children:[e.loading?g.jsx(Pa,{}):t&&g.jsx(ve.icon,{name:t}),a,!e.loading&&n&&g.jsx(ve.icon,{name:n})]})},card(e){return g.jsxs(Ko,{children:[e.title&&g.jsx(Jo,{children:g.jsx(Qo,{children:e.title})}),g.jsx(ea,{children:e.children})]})},alert(e){const{title:t,variant:n="info"}=e,s=e.description||e.children,{icon:r,className:i}={info:{icon:"Info",className:"[&_svg]:text-blue-500 [&_div]:text-blue-500 border-blue-500 bg-blue-50 dark:bg-blue-900/10 dark:[&_svg]:text-blue-400 dark:[&_div]:text-blue-400"},error:{icon:"Error",className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"},success:{icon:"Check",className:"[&_svg]:text-green-500 [&_div]:text-green-500 border-green-500 bg-green-50 dark:bg-green-900/10 dark:[&_svg]:text-green-400 dark:[&_div]:text-green-400"},warning:{icon:"Warning",className:"[&_svg]:text-orange-500 [&_div]:text-orange-500 border-orange-500 bg-orange-50 dark:bg-orange-900/10 dark:[&_svg]:text-orange-400 dark:[&_div]:text-orange-400"},secondary:{icon:"Pin",className:"bg-secondary"}}[n];return g.jsxs(ta,{className:i,children:[g.jsx(ve.icon,{name:r}),g.jsx(na,{children:t}),g.jsx(sa,{className:"flex items-center gap-x-2",children:s})]})},input:Vt.forwardRef((e,t)=>{var r,i,o,a,c,u;const{className:n,...s}=e;return g.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[e.label&&g.jsx(ft,{htmlFor:e.id,children:e.label}),g.jsxs("div",{className:"relative",children:[g.jsx(gu,{ref:t,className:ge("peer",n,[((r=e.adornment)==null?void 0:r.start)&&"ps-9",((i=e.adornment)==null?void 0:i.end)&&"pe-9"]),...s}),((o=e.adornment)==null?void 0:o.start)&&g.jsx("div",{className:"pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50",children:(a=e.adornment)==null?void 0:a.start}),((c=e.adornment)==null?void 0:c.end)&&g.jsx("div",{className:"absolute inset-y-0 end-0 flex h-full w-9 items-center justify-center rounded-e-lg text-muted-foreground/80 outline-offset-2 transition-colors hover:text-foreground focus:z-10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-ring/70 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",children:(u=e.adornment)==null?void 0:u.end})]})]})}),checkbox(e){var t;return g.jsxs("div",{className:"space-y-3",children:[g.jsx(ft,{children:e.label}),g.jsx("div",{className:"space-y-2",children:(t=e.options)==null?void 0:t.map(n=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(ua,{id:n.value}),g.jsx(ft,{htmlFor:n.value,children:n.label||n.value})]},n.value))})]})},radio(e){var t;return g.jsxs("div",{className:"space-y-3",children:[g.jsx(ft,{children:e.label}),g.jsx(wa,{defaultValue:"standard",children:(t=e.options)==null?void 0:t.map(n=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(ka,{value:n.value,id:n.value}),g.jsx(ft,{htmlFor:n.value,children:n.label||n.value})]},n.value))})]})},select(e){var t;return g.jsxs("div",{className:"grid w-full items-center gap-1.5",children:[g.jsx(ft,{children:e.label}),g.jsxs(Pu,{defaultValue:e.defaultValue,children:[g.jsx(Au,{children:g.jsx(Iu,{placeholder:e.placeholder})}),g.jsx(Tu,{children:(t=e.options)==null?void 0:t.map(n=>g.jsx(Ru,{value:n.value,children:n.label||n.value},n.value))})]})]})},textarea(e){return g.jsxs("div",{className:"grid w-full gap-1.5",children:[e.label&&g.jsx(ft,{htmlFor:e.id,children:e.label}),g.jsx(Sa,{value:e.value,id:e.id,placeholder:e.placeholder,...e})]})},badge(e){const{variant:t="default",label:n,children:s}=e;return g.jsx(Dp,{variant:t,children:n||s})}},Bp=Symbol("Let zodToJsonSchema decide on which parser to use"),Fp={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Wp=e=>({...Fp,...e}),Up=e=>{const t=Wp(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function Ia(e,t,n,s){s!=null&&s.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function he(e,t,n,s,r){e[t]=n,Ia(e,t,s,r)}var de;(function(e){e.assertEqual=r=>r;function t(r){}e.assertIs=t;function n(r){throw new Error}e.assertNever=n,e.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},e.getValidEnumValues=r=>{const i=e.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of i)o[a]=r[a];return e.objectValues(o)},e.objectValues=r=>e.objectKeys(r).map(function(i){return r[i]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},e.find=(r,i)=>{for(const o of r)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(de||(de={}));var Gs;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Gs||(Gs={}));const K=de.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),We=e=>{switch(typeof e){case"undefined":return K.undefined;case"string":return K.string;case"number":return isNaN(e)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(e)?K.array:e===null?K.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?K.promise:typeof Map<"u"&&e instanceof Map?K.map:typeof Set<"u"&&e instanceof Set?K.set:typeof Date<"u"&&e instanceof Date?K.date:K.object;default:return K.unknown}},B=de.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Gp=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ce extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let a=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return r(this),s}static assert(t){if(!(t instanceof Ce))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,de.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Ce.create=e=>new Ce(e);const Ft=(e,t)=>{let n;switch(e.code){case B.invalid_type:e.received===K.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,de.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${de.joinValues(e.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${de.joinValues(e.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${de.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:de.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case B.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case B.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=t.defaultError,de.assertNever(e)}return{message:n}};let Ta=Ft;function Yp(e){Ta=e}function Gn(){return Ta}const Yn=e=>{const{data:t,path:n,errorMaps:s,issueData:r}=e,i=[...n,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let a="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...r,path:i,message:a}},Xp=[];function q(e,t){const n=Gn(),s=Yn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ft?void 0:Ft].filter(r=>!!r)});e.common.issues.push(s)}class ke{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const r of n){if(r.status==="aborted")return re;r.status==="dirty"&&t.dirty(),s.push(r.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const r of n){const i=await r.key,o=await r.value;s.push({key:i,value:o})}return ke.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const r of n){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return re;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const re=Object.freeze({status:"aborted"}),Nt=e=>({status:"dirty",value:e}),Pe=e=>({status:"valid",value:e}),Ys=e=>e.status==="aborted",Xs=e=>e.status==="dirty",bt=e=>e.status==="valid",fn=e=>typeof Promise<"u"&&e instanceof Promise;function Xn(e,t,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Ra(e,t,n,s,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ee||(ee={}));var Jt,Qt;class Ze{constructor(t,n,s,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const di=(e,t)=>{if(bt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ce(e.common.issues);return this._error=n,this._error}}};function oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:r}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(o,a)=>{var c,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(c=f??s)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=f??n)!==null&&u!==void 0?u:a.defaultError}},description:r}}class ce{get description(){return this._def.description}_getType(t){return We(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:We(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ke,ctx:{common:t.parent.common,data:t.data,parsedType:We(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(fn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:We(t)},i=this._parseSync({data:t,path:r.path,parent:r});return di(r,i)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:We(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return bt(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>bt(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:We(t)},r=this._parse({data:t,path:s.path,parent:s}),i=await(fn(r)?r:Promise.resolve(r));return di(s,i)}refine(t,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const o=t(r),a=()=>i.addIssue({code:B.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((s,r)=>t(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(t){return new $e({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ve.create(this,this._def)}nullable(){return ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Me.create(this)}promise(){return Ut.create(this,this._def)}or(t){return mn.create([this,t],this._def)}and(t){return _n.create(this,t,this._def)}transform(t){return new $e({...oe(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new En({...oe(this._def),innerType:this,defaultValue:n,typeName:U.ZodDefault})}brand(){return new pr({typeName:U.ZodBranded,type:this,...oe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new wn({...oe(this._def),innerType:this,catchValue:n,typeName:U.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Nn.create(this,t)}readonly(){return kn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qp=/^c[^\s-]{8,}$/i,Kp=/^[0-9a-z]+$/,Jp=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eh=/^[a-z0-9_-]{21}$/i,th=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cs;const ih=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ah=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ch=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lh=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ca="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dh=new RegExp(`^${Ca}$`);function Na(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function fh(e){return new RegExp(`^${Na(e)}$`)}function Oa(e){let t=`${Ca}T${Na(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ph(e,t){return!!((t==="v4"||!t)&&ih.test(e)||(t==="v6"||!t)&&ah.test(e))}function hh(e,t){if(!th.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||t&&r.alg!==t)}catch{return!1}}function gh(e,t){return!!((t==="v4"||!t)&&oh.test(e)||(t==="v6"||!t)&&ch.test(e))}class je extends ce{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==K.string){const i=this._getOrReturnCtx(t);return q(i,{code:B.invalid_type,expected:K.string,received:i.parsedType}),re}const s=new ke;let r;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),q(r,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),q(r,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(r=this._getOrReturnCtx(t,r),o?q(r,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&q(r,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")sh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"email",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Cs||(Cs=new RegExp(rh,"u")),Cs.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"emoji",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Qp.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"uuid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")eh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"nanoid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")qp.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"cuid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Kp.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"cuid2",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Jp.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"ulid",code:B.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),q(r,{validation:"url",code:B.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"regex",code:B.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?Oa(i).test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?dh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?fh(i).test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:B.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?nh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"duration",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?ph(t.data,i.version)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"ip",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?hh(t.data,i.alg)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"jwt",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?gh(t.data,i.version)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"cidr",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?uh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"base64",code:B.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?lh.test(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{validation:"base64url",code:B.invalid_string,message:i.message}),s.dirty()):de.assertNever(i);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(r=>t.test(r),{validation:n,code:B.invalid_string,...ee.errToObj(s)})}_addCheck(t){return new je({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ee.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ee.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ee.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ee.errToObj(n)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new je({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}je.create=e=>{var t;return new je({checks:[],typeName:U.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...oe(e)})};function mh(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s,i=parseInt(e.toFixed(r).replace(".","")),o=parseInt(t.toFixed(r).replace(".",""));return i%o/Math.pow(10,r)}class it extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==K.number){const i=this._getOrReturnCtx(t);return q(i,{code:B.invalid_type,expected:K.number,received:i.parsedType}),re}let s;const r=new ke;for(const i of this._def.checks)i.kind==="int"?de.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?mh(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:B.not_finite,message:i.message}),r.dirty()):de.assertNever(i);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,s,r){return new it({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:ee.toString(r)}]})}_addCheck(t){return new it({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&de.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}it.create=e=>new it({checks:[],typeName:U.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...oe(e)});class ot extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==K.bigint)return this._getInvalidInput(t);let s;const r=new ke;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),q(s,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):de.assertNever(i);return{status:r.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return q(n,{code:B.invalid_type,expected:K.bigint,received:n.parsedType}),re}gte(t,n){return this.setLimit("min",t,!0,ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ee.toString(n))}setLimit(t,n,s,r){return new ot({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:ee.toString(r)}]})}_addCheck(t){return new ot({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ot.create=e=>{var t;return new ot({checks:[],typeName:U.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...oe(e)})};class pn extends ce{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==K.boolean){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.boolean,received:s.parsedType}),re}return Pe(t.data)}}pn.create=e=>new pn({typeName:U.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...oe(e)});class Et extends ce{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==K.date){const i=this._getOrReturnCtx(t);return q(i,{code:B.invalid_type,expected:K.date,received:i.parsedType}),re}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:B.invalid_date}),re}const s=new ke;let r;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(r=this._getOrReturnCtx(t,r),q(r,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(r=this._getOrReturnCtx(t,r),q(r,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):de.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Et({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Et.create=e=>new Et({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:U.ZodDate,...oe(e)});class qn extends ce{_parse(t){if(this._getType(t)!==K.symbol){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.symbol,received:s.parsedType}),re}return Pe(t.data)}}qn.create=e=>new qn({typeName:U.ZodSymbol,...oe(e)});class hn extends ce{_parse(t){if(this._getType(t)!==K.undefined){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.undefined,received:s.parsedType}),re}return Pe(t.data)}}hn.create=e=>new hn({typeName:U.ZodUndefined,...oe(e)});class gn extends ce{_parse(t){if(this._getType(t)!==K.null){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.null,received:s.parsedType}),re}return Pe(t.data)}}gn.create=e=>new gn({typeName:U.ZodNull,...oe(e)});class Wt extends ce{constructor(){super(...arguments),this._any=!0}_parse(t){return Pe(t.data)}}Wt.create=e=>new Wt({typeName:U.ZodAny,...oe(e)});class _t extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Pe(t.data)}}_t.create=e=>new _t({typeName:U.ZodUnknown,...oe(e)});class Xe extends ce{_parse(t){const n=this._getOrReturnCtx(t);return q(n,{code:B.invalid_type,expected:K.never,received:n.parsedType}),re}}Xe.create=e=>new Xe({typeName:U.ZodNever,...oe(e)});class Kn extends ce{_parse(t){if(this._getType(t)!==K.undefined){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.void,received:s.parsedType}),re}return Pe(t.data)}}Kn.create=e=>new Kn({typeName:U.ZodVoid,...oe(e)});class Me extends ce{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),r=this._def;if(n.parsedType!==K.array)return q(n,{code:B.invalid_type,expected:K.array,received:n.parsedType}),re;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(o||a)&&(q(n,{code:o?B.too_big:B.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(q(n,{code:B.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(q(n,{code:B.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>r.type._parseAsync(new Ze(n,o,n.path,a)))).then(o=>ke.mergeArray(s,o));const i=[...n.data].map((o,a)=>r.type._parseSync(new Ze(n,o,n.path,a)));return ke.mergeArray(s,i)}get element(){return this._def.type}min(t,n){return new Me({...this._def,minLength:{value:t,message:ee.toString(n)}})}max(t,n){return new Me({...this._def,maxLength:{value:t,message:ee.toString(n)}})}length(t,n){return new Me({...this._def,exactLength:{value:t,message:ee.toString(n)}})}nonempty(t){return this.min(1,t)}}Me.create=(e,t)=>new Me({type:e,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...oe(t)});function It(e){if(e instanceof ye){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Ve.create(It(s))}return new ye({...e._def,shape:()=>t})}else return e instanceof Me?new Me({...e._def,type:It(e.element)}):e instanceof Ve?Ve.create(It(e.unwrap())):e instanceof ct?ct.create(It(e.unwrap())):e instanceof He?He.create(e.items.map(t=>It(t))):e}class ye extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=de.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==K.object){const u=this._getOrReturnCtx(t);return q(u,{code:B.invalid_type,expected:K.object,received:u.parsedType}),re}const{status:s,ctx:r}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Xe&&this._def.unknownKeys==="strip"))for(const u in r.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const f=i[u],d=r.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Ze(r,d,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Xe){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:r.data[f]}});else if(u==="strict")a.length>0&&(q(r,{code:B.unrecognized_keys,keys:a}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of a){const d=r.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Ze(r,d,r.path,f)),alwaysSet:f in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const d=await f.key,l=await f.value;u.push({key:d,value:l,alwaysSet:f.alwaysSet})}return u}).then(u=>ke.mergeObjectSync(s,u)):ke.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new ye({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var r,i,o,a;const c=(o=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(a=ee.errToObj(t).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new ye({...this._def,unknownKeys:"strip"})}passthrough(){return new ye({...this._def,unknownKeys:"passthrough"})}extend(t){return new ye({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ye({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:U.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ye({...this._def,catchall:t})}pick(t){const n={};return de.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new ye({...this._def,shape:()=>n})}omit(t){const n={};return de.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new ye({...this._def,shape:()=>n})}deepPartial(){return It(this)}partial(t){const n={};return de.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];t&&!t[s]?n[s]=r:n[s]=r.optional()}),new ye({...this._def,shape:()=>n})}required(t){const n={};return de.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ve;)i=i._def.innerType;n[s]=i}}),new ye({...this._def,shape:()=>n})}keyof(){return Da(de.objectKeys(this.shape))}}ye.create=(e,t)=>new ye({shape:()=>e,unknownKeys:"strip",catchall:Xe.create(),typeName:U.ZodObject,...oe(t)});ye.strictCreate=(e,t)=>new ye({shape:()=>e,unknownKeys:"strict",catchall:Xe.create(),typeName:U.ZodObject,...oe(t)});ye.lazycreate=(e,t)=>new ye({shape:e,unknownKeys:"strip",catchall:Xe.create(),typeName:U.ZodObject,...oe(t)});class mn extends ce{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function r(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ce(a.ctx.common.issues));return q(n,{code:B.invalid_union,unionErrors:o}),re}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ce(c));return q(n,{code:B.invalid_union,unionErrors:a}),re}}get options(){return this._def.options}}mn.create=(e,t)=>new mn({options:e,typeName:U.ZodUnion,...oe(t)});const Fe=e=>e instanceof vn?Fe(e.schema):e instanceof $e?Fe(e.innerType()):e instanceof xn?[e.value]:e instanceof at?e.options:e instanceof bn?de.objectValues(e.enum):e instanceof En?Fe(e._def.innerType):e instanceof hn?[void 0]:e instanceof gn?[null]:e instanceof Ve?[void 0,...Fe(e.unwrap())]:e instanceof ct?[null,...Fe(e.unwrap())]:e instanceof pr||e instanceof kn?Fe(e.unwrap()):e instanceof wn?Fe(e._def.innerType):[];class ps extends ce{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.object)return q(n,{code:B.invalid_type,expected:K.object,received:n.parsedType}),re;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(q(n,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const r=new Map;for(const i of n){const o=Fe(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);r.set(a,i)}}return new ps({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:r,...oe(s)})}}function qs(e,t){const n=We(e),s=We(t);if(e===t)return{valid:!0,data:e};if(n===K.object&&s===K.object){const r=de.objectKeys(t),i=de.objectKeys(e).filter(a=>r.indexOf(a)!==-1),o={...e,...t};for(const a of i){const c=qs(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===K.array&&s===K.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],c=qs(o,a);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===K.date&&s===K.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _n extends ce{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),r=(i,o)=>{if(Ys(i)||Ys(o))return re;const a=qs(i.value,o.value);return a.valid?((Xs(i)||Xs(o))&&n.dirty(),{status:n.value,value:a.data}):(q(s,{code:B.invalid_intersection_types}),re)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}_n.create=(e,t,n)=>new _n({left:e,right:t,typeName:U.ZodIntersection,...oe(n)});class He extends ce{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==K.array)return q(s,{code:B.invalid_type,expected:K.array,received:s.parsedType}),re;if(s.data.length<this._def.items.length)return q(s,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),re;!this._def.rest&&s.data.length>this._def.items.length&&(q(s,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ze(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>ke.mergeArray(n,o)):ke.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new He({...this._def,rest:t})}}He.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new He({items:e,typeName:U.ZodTuple,rest:null,...oe(t)})};class yn extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==K.object)return q(s,{code:B.invalid_type,expected:K.object,received:s.parsedType}),re;const r=[],i=this._def.keyType,o=this._def.valueType;for(const a in s.data)r.push({key:i._parse(new Ze(s,a,s.path,a)),value:o._parse(new Ze(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?ke.mergeObjectAsync(n,r):ke.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof ce?new yn({keyType:t,valueType:n,typeName:U.ZodRecord,...oe(s)}):new yn({keyType:je.create(),valueType:t,typeName:U.ZodRecord,...oe(n)})}}class Jn extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==K.map)return q(s,{code:B.invalid_type,expected:K.map,received:s.parsedType}),re;const r=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,c],u)=>({key:r._parse(new Ze(s,a,s.path,[u,"key"])),value:i._parse(new Ze(s,c,s.path,[u,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return re;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return re;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(u.value,f.value)}return{status:n.value,value:a}}}}Jn.create=(e,t,n)=>new Jn({valueType:t,keyType:e,typeName:U.ZodMap,...oe(n)});class wt extends ce{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==K.set)return q(s,{code:B.invalid_type,expected:K.set,received:s.parsedType}),re;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(q(s,{code:B.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(q(s,{code:B.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return re;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const a=[...s.data.values()].map((c,u)=>i._parse(new Ze(s,c,s.path,u)));return s.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,n){return new wt({...this._def,minSize:{value:t,message:ee.toString(n)}})}max(t,n){return new wt({...this._def,maxSize:{value:t,message:ee.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}wt.create=(e,t)=>new wt({valueType:e,minSize:null,maxSize:null,typeName:U.ZodSet,...oe(t)});class Lt extends ce{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.function)return q(n,{code:B.invalid_type,expected:K.function,received:n.parsedType}),re;function s(a,c){return Yn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gn(),Ft].filter(u=>!!u),issueData:{code:B.invalid_arguments,argumentsError:c}})}function r(a,c){return Yn({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Gn(),Ft].filter(u=>!!u),issueData:{code:B.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ut){const a=this;return Pe(async function(...c){const u=new Ce([]),f=await a._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(s(c,p)),u}),d=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw u.addIssue(r(d,p)),u})})}else{const a=this;return Pe(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new Ce([s(c,u.error)]);const f=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(f,i);if(!d.success)throw new Ce([r(f,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Lt({...this._def,args:He.create(t).rest(_t.create())})}returns(t){return new Lt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new Lt({args:t||He.create([]).rest(_t.create()),returns:n||_t.create(),typeName:U.ZodFunction,...oe(s)})}}class vn extends ce{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vn.create=(e,t)=>new vn({getter:e,typeName:U.ZodLazy,...oe(t)});class xn extends ce{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return q(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),re}return{status:"valid",value:t.data}}get value(){return this._def.value}}xn.create=(e,t)=>new xn({value:e,typeName:U.ZodLiteral,...oe(t)});function Da(e,t){return new at({values:e,typeName:U.ZodEnum,...oe(t)})}class at extends ce{constructor(){super(...arguments),Jt.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return q(n,{expected:de.joinValues(s),received:n.parsedType,code:B.invalid_type}),re}if(Xn(this,Jt)||Ra(this,Jt,new Set(this._def.values)),!Xn(this,Jt).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return q(n,{received:n.data,code:B.invalid_enum_value,options:s}),re}return Pe(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return at.create(t,{...this._def,...n})}exclude(t,n=this._def){return at.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}Jt=new WeakMap;at.create=Da;class bn extends ce{constructor(){super(...arguments),Qt.set(this,void 0)}_parse(t){const n=de.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==K.string&&s.parsedType!==K.number){const r=de.objectValues(n);return q(s,{expected:de.joinValues(r),received:s.parsedType,code:B.invalid_type}),re}if(Xn(this,Qt)||Ra(this,Qt,new Set(de.getValidEnumValues(this._def.values))),!Xn(this,Qt).has(t.data)){const r=de.objectValues(n);return q(s,{received:s.data,code:B.invalid_enum_value,options:r}),re}return Pe(t.data)}get enum(){return this._def.values}}Qt=new WeakMap;bn.create=(e,t)=>new bn({values:e,typeName:U.ZodNativeEnum,...oe(t)});class Ut extends ce{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==K.promise&&n.common.async===!1)return q(n,{code:B.invalid_type,expected:K.promise,received:n.parsedType}),re;const s=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return Pe(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ut.create=(e,t)=>new Ut({type:e,typeName:U.ZodPromise,...oe(t)});class $e extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),r=this._def.effect||null,i={addIssue:o=>{q(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return re;const c=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return c.status==="aborted"?re:c.status==="dirty"||n.value==="dirty"?Nt(c.value):c});{if(n.value==="aborted")return re;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?re:a.status==="dirty"||n.value==="dirty"?Nt(a.value):a}}if(r.type==="refinement"){const o=a=>{const c=r.refinement(a,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?re:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?re:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!bt(o))return o;const a=r.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>bt(o)?Promise.resolve(r.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);de.assertNever(r)}}$e.create=(e,t,n)=>new $e({schema:e,typeName:U.ZodEffects,effect:t,...oe(n)});$e.createWithPreprocess=(e,t,n)=>new $e({schema:t,effect:{type:"preprocess",transform:e},typeName:U.ZodEffects,...oe(n)});class Ve extends ce{_parse(t){return this._getType(t)===K.undefined?Pe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ve.create=(e,t)=>new Ve({innerType:e,typeName:U.ZodOptional,...oe(t)});class ct extends ce{_parse(t){return this._getType(t)===K.null?Pe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ct.create=(e,t)=>new ct({innerType:e,typeName:U.ZodNullable,...oe(t)});class En extends ce{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===K.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}En.create=(e,t)=>new En({innerType:e,typeName:U.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...oe(t)});class wn extends ce{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return fn(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ce(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Ce(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}wn.create=(e,t)=>new wn({innerType:e,typeName:U.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...oe(t)});class Qn extends ce{_parse(t){if(this._getType(t)!==K.nan){const s=this._getOrReturnCtx(t);return q(s,{code:B.invalid_type,expected:K.nan,received:s.parsedType}),re}return{status:"valid",value:t.data}}}Qn.create=e=>new Qn({typeName:U.ZodNaN,...oe(e)});const _h=Symbol("zod_brand");class pr extends ce{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nn extends ce{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?re:i.status==="dirty"?(n.dirty(),Nt(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?re:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(t,n){return new Nn({in:t,out:n,typeName:U.ZodPipeline})}}class kn extends ce{_parse(t){const n=this._def.innerType._parse(t),s=r=>(bt(r)&&(r.value=Object.freeze(r.value)),r);return fn(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}kn.create=(e,t)=>new kn({innerType:e,typeName:U.ZodReadonly,...oe(t)});function fi(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function La(e,t={},n){return e?Wt.create().superRefine((s,r)=>{var i,o;const a=e(s);if(a instanceof Promise)return a.then(c=>{var u,f;if(!c){const d=fi(t,s),l=(f=(u=d.fatal)!==null&&u!==void 0?u:n)!==null&&f!==void 0?f:!0;r.addIssue({code:"custom",...d,fatal:l})}});if(!a){const c=fi(t,s),u=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...c,fatal:u})}}):Wt.create()}const yh={object:ye.lazycreate};var U;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(U||(U={}));const vh=(e,t={message:`Input not instance of ${e.name}`})=>La(n=>n instanceof e,t),ja=je.create,Ma=it.create,xh=Qn.create,bh=ot.create,Va=pn.create,Eh=Et.create,wh=qn.create,kh=hn.create,Sh=gn.create,Ph=Wt.create,Ah=_t.create,Ih=Xe.create,Th=Kn.create,Rh=Me.create,Ch=ye.create,Nh=ye.strictCreate,Oh=mn.create,Dh=ps.create,Lh=_n.create,jh=He.create,Mh=yn.create,Vh=Jn.create,zh=wt.create,$h=Lt.create,Zh=vn.create,Hh=xn.create,Bh=at.create,Fh=bn.create,Wh=Ut.create,pi=$e.create,Uh=Ve.create,Gh=ct.create,Yh=$e.createWithPreprocess,Xh=Nn.create,qh=()=>ja().optional(),Kh=()=>Ma().optional(),Jh=()=>Va().optional(),Qh={string:e=>je.create({...e,coerce:!0}),number:e=>it.create({...e,coerce:!0}),boolean:e=>pn.create({...e,coerce:!0}),bigint:e=>ot.create({...e,coerce:!0}),date:e=>Et.create({...e,coerce:!0})},eg=re;var ue=Object.freeze({__proto__:null,defaultErrorMap:Ft,setErrorMap:Yp,getErrorMap:Gn,makeIssue:Yn,EMPTY_PATH:Xp,addIssueToContext:q,ParseStatus:ke,INVALID:re,DIRTY:Nt,OK:Pe,isAborted:Ys,isDirty:Xs,isValid:bt,isAsync:fn,get util(){return de},get objectUtil(){return Gs},ZodParsedType:K,getParsedType:We,ZodType:ce,datetimeRegex:Oa,ZodString:je,ZodNumber:it,ZodBigInt:ot,ZodBoolean:pn,ZodDate:Et,ZodSymbol:qn,ZodUndefined:hn,ZodNull:gn,ZodAny:Wt,ZodUnknown:_t,ZodNever:Xe,ZodVoid:Kn,ZodArray:Me,ZodObject:ye,ZodUnion:mn,ZodDiscriminatedUnion:ps,ZodIntersection:_n,ZodTuple:He,ZodRecord:yn,ZodMap:Jn,ZodSet:wt,ZodFunction:Lt,ZodLazy:vn,ZodLiteral:xn,ZodEnum:at,ZodNativeEnum:bn,ZodPromise:Ut,ZodEffects:$e,ZodTransformer:$e,ZodOptional:Ve,ZodNullable:ct,ZodDefault:En,ZodCatch:wn,ZodNaN:Qn,BRAND:_h,ZodBranded:pr,ZodPipeline:Nn,ZodReadonly:kn,custom:La,Schema:ce,ZodSchema:ce,late:yh,get ZodFirstPartyTypeKind(){return U},coerce:Qh,any:Ph,array:Rh,bigint:bh,boolean:Va,date:Eh,discriminatedUnion:Dh,effect:pi,enum:Bh,function:$h,instanceof:vh,intersection:Lh,lazy:Zh,literal:Hh,map:Vh,nan:xh,nativeEnum:Fh,never:Ih,null:Sh,nullable:Gh,number:Ma,object:Ch,oboolean:Jh,onumber:Kh,optional:Uh,ostring:qh,pipeline:Xh,preprocess:Yh,promise:Wh,record:Mh,set:zh,strictObject:Nh,string:ja,symbol:wh,transformer:pi,tuple:jh,undefined:kh,union:Oh,unknown:Ah,void:Th,NEVER:eg,ZodIssueCode:B,quotelessJson:Gp,ZodError:Ce});function tg(){return{}}function ng(e,t){var s,r,i;const n={type:"array"};return(s=e.type)!=null&&s._def&&((i=(r=e.type)==null?void 0:r._def)==null?void 0:i.typeName)!==U.ZodAny&&(n.items=pe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&he(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&he(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(he(n,"minItems",e.exactLength.value,e.exactLength.message,t),he(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function sg(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const s of e.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?he(n,"minimum",s.value,s.message,t):he(n,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(n.exclusiveMinimum=!0),he(n,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?he(n,"maximum",s.value,s.message,t):he(n,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(n.exclusiveMaximum=!0),he(n,"maximum",s.value,s.message,t));break;case"multipleOf":he(n,"multipleOf",s.value,s.message,t);break}return n}function rg(){return{type:"boolean"}}function za(e,t){return pe(e.type._def,t)}const ig=(e,t)=>pe(e.innerType._def,t);function $a(e,t,n){const s=n??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((r,i)=>$a(e,t,r))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return og(e,t)}}const og=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const s of e.checks)switch(s.kind){case"min":he(n,"minimum",s.value,s.message,t);break;case"max":he(n,"maximum",s.value,s.message,t);break}return n};function ag(e,t){return{...pe(e.innerType._def,t),default:e.defaultValue()}}function cg(e,t){return t.effectStrategy==="input"?pe(e.schema._def,t):{}}function ug(e){return{type:"string",enum:Array.from(e.values)}}const lg=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function dg(e,t){const n=[pe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),pe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const r=[];return n.forEach(i=>{if(lg(i))r.push(...i.allOf),i.unevaluatedProperties===void 0&&(s=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:a,...c}=i;o=c}else s=void 0;r.push(o)}}),r.length?{allOf:r,...s}:void 0}function fg(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let Ns;const Ne={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ns===void 0&&(Ns=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ns),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Za(e,t){const n={type:"string"};if(e.checks)for(const s of e.checks)switch(s.kind){case"min":he(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,s.value):s.value,s.message,t);break;case"max":he(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Oe(n,"email",s.message,t);break;case"format:idn-email":Oe(n,"idn-email",s.message,t);break;case"pattern:zod":Se(n,Ne.email,s.message,t);break}break;case"url":Oe(n,"uri",s.message,t);break;case"uuid":Oe(n,"uuid",s.message,t);break;case"regex":Se(n,s.regex,s.message,t);break;case"cuid":Se(n,Ne.cuid,s.message,t);break;case"cuid2":Se(n,Ne.cuid2,s.message,t);break;case"startsWith":Se(n,RegExp(`^${Os(s.value,t)}`),s.message,t);break;case"endsWith":Se(n,RegExp(`${Os(s.value,t)}$`),s.message,t);break;case"datetime":Oe(n,"date-time",s.message,t);break;case"date":Oe(n,"date",s.message,t);break;case"time":Oe(n,"time",s.message,t);break;case"duration":Oe(n,"duration",s.message,t);break;case"length":he(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,s.value):s.value,s.message,t),he(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,s.value):s.value,s.message,t);break;case"includes":{Se(n,RegExp(Os(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&Oe(n,"ipv4",s.message,t),s.version!=="v4"&&Oe(n,"ipv6",s.message,t);break}case"base64url":Se(n,Ne.base64url,s.message,t);break;case"jwt":Se(n,Ne.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&Se(n,Ne.ipv4Cidr,s.message,t),s.version!=="v4"&&Se(n,Ne.ipv6Cidr,s.message,t);break}case"emoji":Se(n,Ne.emoji(),s.message,t);break;case"ulid":{Se(n,Ne.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Oe(n,"binary",s.message,t);break}case"contentEncoding:base64":{he(n,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Se(n,Ne.base64,s.message,t);break}}break}case"nanoid":Se(n,Ne.nanoid,s.message,t)}return n}function Os(e,t){return t.patternStrategy==="escape"?hg(e):e}const pg=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function hg(e){let t="";for(let n=0;n<e.length;n++)pg.has(e[n])||(t+="\\"),t+=e[n];return t}function Oe(e,t,n,s){var r;e.format||(r=e.anyOf)!=null&&r.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&s.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&s.errorMessages&&{errorMessage:{format:n}}})):he(e,"format",t,n,s)}function Se(e,t,n,s){var r;e.pattern||(r=e.allOf)!=null&&r.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&s.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:hi(t,s),...n&&s.errorMessages&&{errorMessage:{pattern:n}}})):he(e,"pattern",hi(t,s),n,s)}function hi(e,t){var c;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},s=n.i?e.source.toLowerCase():e.source;let r="",i=!1,o=!1,a=!1;for(let u=0;u<s.length;u++){if(i){r+=s[u],i=!1;continue}if(n.i){if(o){if(s[u].match(/[a-z]/)){a?(r+=s[u],r+=`${s[u-2]}-${s[u]}`.toUpperCase(),a=!1):s[u+1]==="-"&&((c=s[u+2])!=null&&c.match(/[a-z]/))?(r+=s[u],a=!0):r+=`${s[u]}${s[u].toUpperCase()}`;continue}}else if(s[u].match(/[a-z]/)){r+=`[${s[u]}${s[u].toUpperCase()}]`;continue}}if(n.m){if(s[u]==="^"){r+=`(^|(?<=[\r
]))`;continue}else if(s[u]==="$"){r+=`($|(?=[\r
]))`;continue}}if(n.s&&s[u]==="."){r+=o?`${s[u]}\r
`:`[${s[u]}\r
]`;continue}r+=s[u],s[u]==="\\"?i=!0:o&&s[u]==="]"?o=!1:!o&&s[u]==="["&&(o=!0)}try{new RegExp(r)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return r}function Ha(e,t){var s,r,i,o,a,c;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((s=e.keyType)==null?void 0:s._def.typeName)===U.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((u,f)=>({...u,[f]:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",f]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return n;if(((r=e.keyType)==null?void 0:r._def.typeName)===U.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:u,...f}=Za(e.keyType._def,t);return{...n,propertyNames:f}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===U.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((a=e.keyType)==null?void 0:a._def.typeName)===U.ZodBranded&&e.keyType._def.type._def.typeName===U.ZodString&&((c=e.keyType._def.type._def.checks)!=null&&c.length)){const{type:u,...f}=za(e.keyType._def,t);return{...n,propertyNames:f}}}return n}function gg(e,t){if(t.mapStrategy==="record")return Ha(e,t);const n=pe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,s],minItems:2,maxItems:2}}}function mg(e){const t=e.values,s=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),r=Array.from(new Set(s.map(i=>typeof i)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:s}}function _g(){return{not:{}}}function yg(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const es={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function vg(e,t){if(t.target==="openApi3")return gi(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(s=>s._def.typeName in es&&(!s._def.checks||!s._def.checks.length))){const s=n.reduce((r,i)=>{const o=es[i._def.typeName];return o&&!r.includes(o)?[...r,o]:r},[]);return{type:s.length>1?s:s[0]}}else if(n.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=n.reduce((r,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...r,o];case"bigint":return[...r,"integer"];case"object":if(i._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(s.length===n.length){const r=s.filter((i,o,a)=>a.indexOf(i)===o);return{type:r.length>1?r:r[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((s,r)=>[...s,...r._def.values.filter(i=>!s.includes(i))],[])};return gi(e,t)}const gi=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((s,r)=>pe(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return n.length?{anyOf:n}:void 0};function xg(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:es[e.innerType._def.typeName],nullable:!0}:{type:[es[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=pe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const n=pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function bg(e,t){const n={type:"number"};if(!e.checks)return n;for(const s of e.checks)switch(s.kind){case"int":n.type="integer",Ia(n,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?he(n,"minimum",s.value,s.message,t):he(n,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(n.exclusiveMinimum=!0),he(n,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?he(n,"maximum",s.value,s.message,t):he(n,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(n.exclusiveMaximum=!0),he(n,"maximum",s.value,s.message,t));break;case"multipleOf":he(n,"multipleOf",s.value,s.message,t);break}return n}function Eg(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":pe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":pe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function wg(e,t){const n=t.target==="openAi",s={type:"object",...Object.entries(e.shape()).reduce((r,[i,o])=>{if(o===void 0||o._def===void 0)return r;let a=o.isOptional();a&&n&&(o instanceof Ve&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),a=!1);const c=pe(o._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return c===void 0?r:{properties:{...r.properties,[i]:c},required:a?r.required:[...r.required,i]}},{properties:{},required:[]}),additionalProperties:Eg(e,t)};return s.required.length||delete s.required,s}const kg=(e,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return pe(e.innerType._def,t);const n=pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},Sg=(e,t)=>{if(t.pipeStrategy==="input")return pe(e.in._def,t);if(t.pipeStrategy==="output")return pe(e.out._def,t);const n=pe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=pe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,s].filter(r=>r!==void 0)}};function Pg(e,t){return pe(e.type._def,t)}function Ag(e,t){const s={type:"array",uniqueItems:!0,items:pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&he(s,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&he(s,"maxItems",e.maxSize.value,e.maxSize.message,t),s}function Ig(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,s)=>pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((n,s)=>s===void 0?n:[...n,s],[]),additionalItems:pe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,s)=>pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((n,s)=>s===void 0?n:[...n,s],[])}}function Tg(){return{not:{}}}function Rg(){return{}}const Cg=(e,t)=>pe(e.innerType._def,t);function pe(e,t,n=!1){var o;const s=t.seen.get(e);if(t.override){const a=(o=t.override)==null?void 0:o.call(t,e,t,s,n);if(a!==Bp)return a}if(s&&!n){const a=Ng(s,t);if(a!==void 0)return a}const r={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,r);const i=Dg(e,e.typeName,t);return i&&Lg(e,t,i),r.jsonSchema=i,i}const Ng=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Og(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,s)=>t.currentPath[s]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},Og=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},Dg=(e,t,n)=>{switch(t){case U.ZodString:return Za(e,n);case U.ZodNumber:return bg(e,n);case U.ZodObject:return wg(e,n);case U.ZodBigInt:return sg(e,n);case U.ZodBoolean:return rg();case U.ZodDate:return $a(e,n);case U.ZodUndefined:return Tg();case U.ZodNull:return yg(n);case U.ZodArray:return ng(e,n);case U.ZodUnion:case U.ZodDiscriminatedUnion:return vg(e,n);case U.ZodIntersection:return dg(e,n);case U.ZodTuple:return Ig(e,n);case U.ZodRecord:return Ha(e,n);case U.ZodLiteral:return fg(e,n);case U.ZodEnum:return ug(e);case U.ZodNativeEnum:return mg(e);case U.ZodNullable:return xg(e,n);case U.ZodOptional:return kg(e,n);case U.ZodMap:return gg(e,n);case U.ZodSet:return Ag(e,n);case U.ZodLazy:return pe(e.getter()._def,n);case U.ZodPromise:return Pg(e,n);case U.ZodNaN:case U.ZodNever:return _g();case U.ZodEffects:return cg(e,n);case U.ZodAny:return tg();case U.ZodUnknown:return Rg();case U.ZodDefault:return ag(e,n);case U.ZodBranded:return za(e,n);case U.ZodReadonly:return Cg(e,n);case U.ZodCatch:return ig(e,n);case U.ZodPipeline:return Sg(e,n);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(s=>{})()}},Lg=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),jg=(e,t)=>{const n=Up(t),s=void 0,r=t==null?void 0:t.name,i=pe(e._def,n,!1)??{},o=r===void 0?s?{...i,[n.definitionPath]:s}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...s,[r]:i}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};function Mg(e){const{placeholder:t="Type your prompt here",trigger:n}=e,{setPrompt:s,flow:r,resolvers:i}=fs(),[o,a]=A.useState(!1),[c,u]=A.useState(!1),{client:f}=yu.useUtils();Vg("keydown",h=>{h.key==="a"&&h.ctrlKey&&u(!0)});async function d(){var E;const h=((E=p.current)==null?void 0:E.value)??"";s(h);const v=m=>{const k={...m,prompt:`User input: ${h}. ${m.prompt}`,...m.schema&&{schema:JSON.stringify(jg(m.schema))}};return console.log(k),f.ai.generateObject.mutate(k)};a(!0),await r.sync(Xo(i,{prompt:h,generateObject:v,resourceTypes:zg})),a(!1),s("")}function l(){u(!1),s("")}const p=A.useRef(null);return!n||c?g.jsx(ve.input,{ref:p,id:"prompt",placeholder:t,disabled:o,adornment:{start:g.jsx(ve.icon,{name:"Suggestion",className:ge(!prompt&&"text-primary")}),end:g.jsx(ve.button,{icon:"Send",type:"submit",variant:"ghost",disabled:!prompt||o,loading:o,onClick:()=>d()})},onKeyDown:h=>{var v;(v=e.onKeyDown)==null||v.call(e,h),h.key==="Enter"&&d(),h.key==="Escape"&&(l(),h.stopPropagation())}}):Vt.cloneElement(n,{onClick:()=>u(!0)})}function Vg(e,t){A.useEffect(()=>(document.addEventListener(e,t),()=>{document.removeEventListener(e,t)}),[e])}const zg={...bs,filter(e){return Object.entries(bs).filter(([t])=>e.includes(t))},byEdge(e){return Object.entries(bs).filter(([,{searchable:t,searchable_resource:n}])=>e==="none"?n||(t==null?void 0:t.length)>0:t==null?void 0:t.includes(e)).map(([t])=>t)}},{createElement:Gt,createContext:$g,forwardRef:Ba,useCallback:Ae,useContext:Fa,useEffect:yt,useImperativeHandle:Wa,useLayoutEffect:Zg,useMemo:Hg,useRef:Ie,useState:jt}=Ii,mi=Ii[`useId${Math.random()}`.slice(0,5)],Bg=Zg,hs=$g(null);hs.displayName="PanelGroupContext";const vt=Bg,Fg=typeof mi=="function"?mi:()=>null;let Wg=0;function hr(e=null){const t=Fg(),n=Ie(e||t||null);return n.current===null&&(n.current=""+Wg++),e??n.current}function Ua({children:e,className:t="",collapsedSize:n,collapsible:s,defaultSize:r,forwardedRef:i,id:o,maxSize:a,minSize:c,onCollapse:u,onExpand:f,onResize:d,order:l,style:p,tagName:h="div",...v}){const E=Fa(hs);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:m,expandPanel:k,getPanelSize:x,getPanelStyle:b,groupId:T,isPanelCollapsed:C,reevaluatePanelConstraints:S,registerPanel:D,resizePanel:O,unregisterPanel:L}=E,H=hr(o),M=Ie({callbacks:{onCollapse:u,onExpand:f,onResize:d},constraints:{collapsedSize:n,collapsible:s,defaultSize:r,maxSize:a,minSize:c},id:H,idIsFromProps:o!==void 0,order:l});Ie({didLogMissingDefaultSizeWarning:!1}),vt(()=>{const{callbacks:_,constraints:P}=M.current,w={...P};M.current.id=H,M.current.idIsFromProps=o!==void 0,M.current.order=l,_.onCollapse=u,_.onExpand=f,_.onResize=d,P.collapsedSize=n,P.collapsible=s,P.defaultSize=r,P.maxSize=a,P.minSize=c,(w.collapsedSize!==P.collapsedSize||w.collapsible!==P.collapsible||w.maxSize!==P.maxSize||w.minSize!==P.minSize)&&S(M.current,w)}),vt(()=>{const _=M.current;return D(_),()=>{L(_)}},[l,H,D,L]),Wa(i,()=>({collapse:()=>{m(M.current)},expand:_=>{k(M.current,_)},getId(){return H},getSize(){return x(M.current)},isCollapsed(){return C(M.current)},isExpanded(){return!C(M.current)},resize:_=>{O(M.current,_)}}),[m,k,x,C,H,O]);const $=b(M.current,r);return Gt(h,{...v,children:e,className:t,id:o,style:{...$,...p},"data-panel":"","data-panel-collapsible":s||void 0,"data-panel-group-id":T,"data-panel-id":H,"data-panel-size":parseFloat(""+$.flexGrow).toFixed(1)})}const Ga=Ba((e,t)=>Gt(Ua,{...e,forwardedRef:t}));Ua.displayName="Panel";Ga.displayName="forwardRef(Panel)";let Ks=null,gt=null;function Ug(e,t){if(t){const n=(t&Ja)!==0,s=(t&Qa)!==0,r=(t&ec)!==0,i=(t&tc)!==0;if(n)return r?"se-resize":i?"ne-resize":"e-resize";if(s)return r?"sw-resize":i?"nw-resize":"w-resize";if(r)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Gg(){gt!==null&&(document.head.removeChild(gt),Ks=null,gt=null)}function Ds(e,t){const n=Ug(e,t);Ks!==n&&(Ks=n,gt===null&&(gt=document.createElement("style"),document.head.appendChild(gt)),gt.innerHTML=`*{cursor: ${n}!important;}`)}function Ya(e){return e.type==="keydown"}function Xa(e){return e.type.startsWith("pointer")}function qa(e){return e.type.startsWith("mouse")}function gs(e){if(Xa(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(qa(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Yg(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Xg(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function qg(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:vi(e),b:vi(t)};let s;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),s=e;ae(s,"Stacking order can only be calculated for elements with a common ancestor");const r={a:yi(_i(n.a)),b:yi(_i(n.b))};if(r.a===r.b){const i=s.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=i.length;for(;a--;){const c=i[a];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(r.a-r.b)}const Kg=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Jg(e){var t;const n=getComputedStyle((t=Ka(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Qg(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Jg(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Kg.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function _i(e){let t=e.length;for(;t--;){const n=e[t];if(ae(n,"Missing node"),Qg(n))return n}return null}function yi(e){return e&&Number(getComputedStyle(e).zIndex)||0}function vi(e){const t=[];for(;e;)t.push(e),e=Ka(e);return t}function Ka(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Ja=1,Qa=2,ec=4,tc=8,em=Yg()==="coarse";let ze=[],Mt=!1,st=new Map,ms=new Map;const Sn=new Set;function tm(e,t,n,s,r){var i;const{ownerDocument:o}=t,a={direction:n,element:t,hitAreaMargins:s,setResizeHandlerState:r},c=(i=st.get(o))!==null&&i!==void 0?i:0;return st.set(o,c+1),Sn.add(a),ts(),function(){var f;ms.delete(e),Sn.delete(a);const d=(f=st.get(o))!==null&&f!==void 0?f:1;if(st.set(o,d-1),ts(),d===1&&st.delete(o),ze.includes(a)){const l=ze.indexOf(a);l>=0&&ze.splice(l,1),mr(),r("up",!0,null)}}}function xi(e){const{target:t}=e,{x:n,y:s}=gs(e);Mt=!0,gr({target:t,x:n,y:s}),ts(),ze.length>0&&(ns("down",e),e.preventDefault(),e.stopPropagation())}function Kt(e){const{x:t,y:n}=gs(e);if(Mt&&e.buttons===0&&(Mt=!1,ns("up",e)),!Mt){const{target:s}=e;gr({target:s,x:t,y:n})}ns("move",e),mr(),ze.length>0&&e.preventDefault()}function Pt(e){const{target:t}=e,{x:n,y:s}=gs(e);ms.clear(),Mt=!1,ze.length>0&&e.preventDefault(),ns("up",e),gr({target:t,x:n,y:s}),mr(),ts()}function gr({target:e,x:t,y:n}){ze.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Sn.forEach(r=>{const{element:i,hitAreaMargins:o}=r,a=i.getBoundingClientRect(),{bottom:c,left:u,right:f,top:d}=a,l=em?o.coarse:o.fine;if(t>=u-l&&t<=f+l&&n>=d-l&&n<=c+l){if(s!==null&&document.contains(s)&&i!==s&&!i.contains(s)&&!s.contains(i)&&qg(s,i)>0){let h=s,v=!1;for(;h&&!h.contains(i);){if(Xg(h.getBoundingClientRect(),a)){v=!0;break}h=h.parentElement}if(v)return}ze.push(r)}})}function Ls(e,t){ms.set(e,t)}function mr(){let e=!1,t=!1;ze.forEach(s=>{const{direction:r}=s;r==="horizontal"?e=!0:t=!0});let n=0;ms.forEach(s=>{n|=s}),e&&t?Ds("intersection",n):e?Ds("horizontal",n):t?Ds("vertical",n):Gg()}function ts(){st.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",Pt),n.removeEventListener("pointerdown",xi),n.removeEventListener("pointerleave",Kt),n.removeEventListener("pointermove",Kt)}),window.removeEventListener("pointerup",Pt),window.removeEventListener("pointercancel",Pt),Sn.size>0&&(Mt?(ze.length>0&&st.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",Pt),n.addEventListener("pointerleave",Kt),n.addEventListener("pointermove",Kt))}),window.addEventListener("pointerup",Pt),window.addEventListener("pointercancel",Pt)):st.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",xi,{capture:!0}),n.addEventListener("pointermove",Kt))}))}function ns(e,t){Sn.forEach(n=>{const{setResizeHandlerState:s}=n,r=ze.includes(n);s(e,r,t)})}function nm(){const[e,t]=jt(0);return Ae(()=>t(n=>n+1),[])}function ae(e,t){if(!e)throw console.error(t),Error(t)}const _r=10;function kt(e,t,n=_r){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Ue(e,t,n=_r){return kt(e,t,n)===0}function Te(e,t,n){return kt(e,t,n)===0}function sm(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const r=e[s],i=t[s];if(!Te(r,i,n))return!1}return!0}function Ot({panelConstraints:e,panelIndex:t,size:n}){const s=e[t];ae(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:r=0,collapsible:i,maxSize:o=100,minSize:a=0}=s;if(kt(n,a)<0)if(i){const c=(r+a)/2;kt(n,c)<0?n=r:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(_r)),n}function en({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:s,prevLayout:r,trigger:i}){if(Te(e,0))return t;const o=[...t],[a,c]=s;ae(a!=null,"Invalid first pivot index"),ae(c!=null,"Invalid second pivot index");let u=0;if(i==="keyboard"){{const d=e<0?c:a,l=n[d];ae(l,`Panel constraints not found for index ${d}`);const{collapsedSize:p=0,collapsible:h,minSize:v=0}=l;if(h){const E=t[d];if(ae(E!=null,`Previous layout not found for panel index ${d}`),Te(E,p)){const m=v-E;kt(m,Math.abs(e))>0&&(e=e<0?0-m:m)}}}{const d=e<0?a:c,l=n[d];ae(l,`No panel constraints found for index ${d}`);const{collapsedSize:p=0,collapsible:h,minSize:v=0}=l;if(h){const E=t[d];if(ae(E!=null,`Previous layout not found for panel index ${d}`),Te(E,v)){const m=E-p;kt(m,Math.abs(e))>0&&(e=e<0?0-m:m)}}}}{const d=e<0?1:-1;let l=e<0?c:a,p=0;for(;;){const v=t[l];ae(v!=null,`Previous layout not found for panel index ${l}`);const m=Ot({panelConstraints:n,panelIndex:l,size:100})-v;if(p+=m,l+=d,l<0||l>=n.length)break}const h=Math.min(Math.abs(e),Math.abs(p));e=e<0?0-h:h}{let l=e<0?a:c;for(;l>=0&&l<n.length;){const p=Math.abs(e)-Math.abs(u),h=t[l];ae(h!=null,`Previous layout not found for panel index ${l}`);const v=h-p,E=Ot({panelConstraints:n,panelIndex:l,size:v});if(!Te(h,E)&&(u+=h-E,o[l]=E,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?l--:l++}}if(sm(r,o))return r;{const d=e<0?c:a,l=t[d];ae(l!=null,`Previous layout not found for panel index ${d}`);const p=l+u,h=Ot({panelConstraints:n,panelIndex:d,size:p});if(o[d]=h,!Te(h,p)){let v=p-h,m=e<0?c:a;for(;m>=0&&m<n.length;){const k=o[m];ae(k!=null,`Previous layout not found for panel index ${m}`);const x=k+v,b=Ot({panelConstraints:n,panelIndex:m,size:x});if(Te(k,b)||(v-=b-k,o[m]=b),Te(v,0))break;e>0?m--:m++}}}const f=o.reduce((d,l)=>l+d,0);return Te(f,100)?o:r}function rm({layout:e,panelsArray:t,pivotIndices:n}){let s=0,r=100,i=0,o=0;const a=n[0];ae(a!=null,"No pivot index found"),t.forEach((d,l)=>{const{constraints:p}=d,{maxSize:h=100,minSize:v=0}=p;l===a?(s=v,r=h):(i+=v,o+=h)});const c=Math.min(r,100-i),u=Math.max(s,100-o),f=e[a];return{valueMax:c,valueMin:u,valueNow:f}}function Pn(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function nc(e,t,n=document){const r=Pn(e,n).findIndex(i=>i.getAttribute("data-panel-resize-handle-id")===t);return r??null}function sc(e,t,n){const s=nc(e,t,n);return s!=null?[s,s+1]:[-1,-1]}function rc(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const s=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return s||null}function _s(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function im(e,t,n,s=document){var r,i,o,a;const c=_s(t,s),u=Pn(e,s),f=c?u.indexOf(c):-1,d=(r=(i=n[f])===null||i===void 0?void 0:i.id)!==null&&r!==void 0?r:null,l=(o=(a=n[f+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[d,l]}function om({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:s,panelDataArray:r,panelGroupElement:i,setLayout:o}){Ie({didWarnAboutMissingResizeHandle:!1}),vt(()=>{if(!i)return;const a=Pn(n,i);for(let c=0;c<r.length-1;c++){const{valueMax:u,valueMin:f,valueNow:d}=rm({layout:s,panelsArray:r,pivotIndices:[c,c+1]}),l=a[c];if(l!=null){const p=r[c];ae(p,`No panel data found for index "${c}"`),l.setAttribute("aria-controls",p.id),l.setAttribute("aria-valuemax",""+Math.round(u)),l.setAttribute("aria-valuemin",""+Math.round(f)),l.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,s,r,i]),yt(()=>{if(!i)return;const a=t.current;ae(a,"Eager values not found");const{panelDataArray:c}=a,u=rc(n,i);ae(u!=null,`No group found for id "${n}"`);const f=Pn(n,i);ae(f,`No resize handles found for group id "${n}"`);const d=f.map(l=>{const p=l.getAttribute("data-panel-resize-handle-id");ae(p,"Resize handle element has no handle id attribute");const[h,v]=im(n,p,c,i);if(h==null||v==null)return()=>{};const E=m=>{if(!m.defaultPrevented)switch(m.key){case"Enter":{m.preventDefault();const k=c.findIndex(x=>x.id===h);if(k>=0){const x=c[k];ae(x,`No panel data found for index ${k}`);const b=s[k],{collapsedSize:T=0,collapsible:C,minSize:S=0}=x.constraints;if(b!=null&&C){const D=en({delta:Te(b,T)?S-T:T-b,initialLayout:s,panelConstraints:c.map(O=>O.constraints),pivotIndices:sc(n,p,i),prevLayout:s,trigger:"keyboard"});s!==D&&o(D)}}break}}};return l.addEventListener("keydown",E),()=>{l.removeEventListener("keydown",E)}});return()=>{d.forEach(l=>l())}},[i,e,t,n,s,r,o])}function bi(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ic(e,t){const n=e==="horizontal",{x:s,y:r}=gs(t);return n?s:r}function am(e,t,n,s,r){const i=n==="horizontal",o=_s(t,r);ae(o,`No resize handle element found for id "${t}"`);const a=o.getAttribute("data-panel-group-id");ae(a,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=s;const u=ic(n,e),f=rc(a,r);ae(f,`No group element found for id "${a}"`);const d=f.getBoundingClientRect(),l=i?d.width:d.height;return(u-c)/l*100}function cm(e,t,n,s,r,i){if(Ya(e)){const o=n==="horizontal";let a=0;e.shiftKey?a=100:r!=null?a=r:a=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:a;break;case"ArrowLeft":c=o?-a:0;break;case"ArrowRight":c=o?a:0;break;case"ArrowUp":c=o?0:-a;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return s==null?0:am(e,t,n,s,i)}function um({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let s=0,r=100;for(let i=0;i<e.length;i++){const o=n[i];ae(o,`Panel constraints not found for index ${i}`);const{defaultSize:a}=o;a!=null&&(s++,t[i]=a,r-=a)}for(let i=0;i<e.length;i++){const o=n[i];ae(o,`Panel constraints not found for index ${i}`);const{defaultSize:a}=o;if(a!=null)continue;const c=e.length-s,u=r/c;s++,t[i]=u,r-=u}return t}function At(e,t,n){t.forEach((s,r)=>{const i=e[r];ae(i,`Panel data not found for index ${r}`);const{callbacks:o,constraints:a,id:c}=i,{collapsedSize:u=0,collapsible:f}=a,d=n[c];if(d==null||s!==d){n[c]=s;const{onCollapse:l,onExpand:p,onResize:h}=o;h&&h(s,d),f&&(l||p)&&(p&&(d==null||Ue(d,u))&&!Ue(s,u)&&p(),l&&(d==null||!Ue(d,u))&&Ue(s,u)&&l())}})}function Hn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function lm({defaultSize:e,dragState:t,layout:n,panelData:s,panelIndex:r,precision:i=3}){const o=n[r];let a;return o==null?a=e!=null?e.toPrecision(i):"1":s.length===1?a="1":a=o.toPrecision(i),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function dm(e,t=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function Ei(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function oc(e){return`react-resizable-panels:${e}`}function ac(e){return e.map(t=>{const{constraints:n,id:s,idIsFromProps:r,order:i}=t;return r?s:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function cc(e,t){try{const n=oc(e),s=t.getItem(n);if(s){const r=JSON.parse(s);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function fm(e,t,n){var s,r;const i=(s=cc(e,n))!==null&&s!==void 0?s:{},o=ac(t);return(r=i[o])!==null&&r!==void 0?r:null}function pm(e,t,n,s,r){var i;const o=oc(e),a=ac(t),c=(i=cc(e,r))!==null&&i!==void 0?i:{};c[a]={expandToSizes:Object.fromEntries(n.entries()),layout:s};try{r.setItem(o,JSON.stringify(c))}catch(u){console.error(u)}}function wi({layout:e,panelConstraints:t}){const n=[...e],s=n.reduce((i,o)=>i+o,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!Te(s,100)&&n.length>0)for(let i=0;i<t.length;i++){const o=n[i];ae(o!=null,`No layout data found for index ${i}`);const a=100/s*o;n[i]=a}let r=0;for(let i=0;i<t.length;i++){const o=n[i];ae(o!=null,`No layout data found for index ${i}`);const a=Ot({panelConstraints:t,panelIndex:i,size:o});o!=a&&(r+=o-a,n[i]=a)}if(!Te(r,0))for(let i=0;i<t.length;i++){const o=n[i];ae(o!=null,`No layout data found for index ${i}`);const a=o+r,c=Ot({panelConstraints:t,panelIndex:i,size:a});if(o!==c&&(r-=c-o,n[i]=c,Te(r,0)))break}return n}const hm=100,tn={getItem:e=>(Ei(tn),tn.getItem(e)),setItem:(e,t)=>{Ei(tn),tn.setItem(e,t)}},ki={};function uc({autoSaveId:e=null,children:t,className:n="",direction:s,forwardedRef:r,id:i=null,onLayout:o=null,keyboardResizeBy:a=null,storage:c=tn,style:u,tagName:f="div",...d}){const l=hr(i),p=Ie(null),[h,v]=jt(null),[E,m]=jt([]),k=nm(),x=Ie({}),b=Ie(new Map),T=Ie(0),C=Ie({autoSaveId:e,direction:s,dragState:h,id:l,keyboardResizeBy:a,onLayout:o,storage:c}),S=Ie({layout:E,panelDataArray:[],panelDataArrayChanged:!1});Ie({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Wa(r,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:j}=S.current;return j},setLayout:j=>{const{onLayout:Z}=C.current,{layout:F,panelDataArray:W}=S.current,z=wi({layout:j,panelConstraints:W.map(Y=>Y.constraints)});bi(F,z)||(m(z),S.current.layout=z,Z&&Z(z),At(W,z,x.current))}}),[]),vt(()=>{C.current.autoSaveId=e,C.current.direction=s,C.current.dragState=h,C.current.id=l,C.current.onLayout=o,C.current.storage=c}),om({committedValuesRef:C,eagerValuesRef:S,groupId:l,layout:E,panelDataArray:S.current.panelDataArray,setLayout:m,panelGroupElement:p.current}),yt(()=>{const{panelDataArray:j}=S.current;if(e){if(E.length===0||E.length!==j.length)return;let Z=ki[e];Z==null&&(Z=dm(pm,hm),ki[e]=Z);const F=[...j],W=new Map(b.current);Z(e,F,W,E,c)}},[e,E,c]),yt(()=>{});const D=Ae(j=>{const{onLayout:Z}=C.current,{layout:F,panelDataArray:W}=S.current;if(j.constraints.collapsible){const z=W.map(ie=>ie.constraints),{collapsedSize:Y=0,panelSize:J,pivotIndices:se}=pt(W,j,F);if(ae(J!=null,`Panel size not found for panel "${j.id}"`),!Ue(J,Y)){b.current.set(j.id,J);const Q=Tt(W,j)===W.length-1?J-Y:Y-J,ne=en({delta:Q,initialLayout:F,panelConstraints:z,pivotIndices:se,prevLayout:F,trigger:"imperative-api"});Hn(F,ne)||(m(ne),S.current.layout=ne,Z&&Z(ne),At(W,ne,x.current))}}},[]),O=Ae((j,Z)=>{const{onLayout:F}=C.current,{layout:W,panelDataArray:z}=S.current;if(j.constraints.collapsible){const Y=z.map(le=>le.constraints),{collapsedSize:J=0,panelSize:se=0,minSize:ie=0,pivotIndices:Q}=pt(z,j,W),ne=Z??ie;if(Ue(se,J)){const le=b.current.get(j.id),_e=le!=null&&le>=ne?le:ne,ut=Tt(z,j)===z.length-1?se-_e:_e-se,Ee=en({delta:ut,initialLayout:W,panelConstraints:Y,pivotIndices:Q,prevLayout:W,trigger:"imperative-api"});Hn(W,Ee)||(m(Ee),S.current.layout=Ee,F&&F(Ee),At(z,Ee,x.current))}}},[]),L=Ae(j=>{const{layout:Z,panelDataArray:F}=S.current,{panelSize:W}=pt(F,j,Z);return ae(W!=null,`Panel size not found for panel "${j.id}"`),W},[]),H=Ae((j,Z)=>{const{panelDataArray:F}=S.current,W=Tt(F,j);return lm({defaultSize:Z,dragState:h,layout:E,panelData:F,panelIndex:W})},[h,E]),M=Ae(j=>{const{layout:Z,panelDataArray:F}=S.current,{collapsedSize:W=0,collapsible:z,panelSize:Y}=pt(F,j,Z);return ae(Y!=null,`Panel size not found for panel "${j.id}"`),z===!0&&Ue(Y,W)},[]),$=Ae(j=>{const{layout:Z,panelDataArray:F}=S.current,{collapsedSize:W=0,collapsible:z,panelSize:Y}=pt(F,j,Z);return ae(Y!=null,`Panel size not found for panel "${j.id}"`),!z||kt(Y,W)>0},[]),_=Ae(j=>{const{panelDataArray:Z}=S.current;Z.push(j),Z.sort((F,W)=>{const z=F.order,Y=W.order;return z==null&&Y==null?0:z==null?-1:Y==null?1:z-Y}),S.current.panelDataArrayChanged=!0,k()},[k]);vt(()=>{if(S.current.panelDataArrayChanged){S.current.panelDataArrayChanged=!1;const{autoSaveId:j,onLayout:Z,storage:F}=C.current,{layout:W,panelDataArray:z}=S.current;let Y=null;if(j){const se=fm(j,z,F);se&&(b.current=new Map(Object.entries(se.expandToSizes)),Y=se.layout)}Y==null&&(Y=um({panelDataArray:z}));const J=wi({layout:Y,panelConstraints:z.map(se=>se.constraints)});bi(W,J)||(m(J),S.current.layout=J,Z&&Z(J),At(z,J,x.current))}}),vt(()=>{const j=S.current;return()=>{j.layout=[]}},[]);const P=Ae(j=>{let Z=!1;const F=p.current;return F&&window.getComputedStyle(F,null).getPropertyValue("direction")==="rtl"&&(Z=!0),function(z){z.preventDefault();const Y=p.current;if(!Y)return()=>null;const{direction:J,dragState:se,id:ie,keyboardResizeBy:Q,onLayout:ne}=C.current,{layout:le,panelDataArray:_e}=S.current,{initialLayout:we}=se??{},ut=sc(ie,j,Y);let Ee=cm(z,j,J,se,Q,Y);const St=J==="horizontal";St&&Z&&(Ee=-Ee);const lt=_e.map(dt=>dt.constraints),Be=en({delta:Ee,initialLayout:we??le,panelConstraints:lt,pivotIndices:ut,prevLayout:le,trigger:Ya(z)?"keyboard":"mouse-or-touch"}),Je=!Hn(le,Be);(Xa(z)||qa(z))&&T.current!=Ee&&(T.current=Ee,!Je&&Ee!==0?St?Ls(j,Ee<0?Ja:Qa):Ls(j,Ee<0?ec:tc):Ls(j,0)),Je&&(m(Be),S.current.layout=Be,ne&&ne(Be),At(_e,Be,x.current))}},[]),w=Ae((j,Z)=>{const{onLayout:F}=C.current,{layout:W,panelDataArray:z}=S.current,Y=z.map(le=>le.constraints),{panelSize:J,pivotIndices:se}=pt(z,j,W);ae(J!=null,`Panel size not found for panel "${j.id}"`);const Q=Tt(z,j)===z.length-1?J-Z:Z-J,ne=en({delta:Q,initialLayout:W,panelConstraints:Y,pivotIndices:se,prevLayout:W,trigger:"imperative-api"});Hn(W,ne)||(m(ne),S.current.layout=ne,F&&F(ne),At(z,ne,x.current))},[]),N=Ae((j,Z)=>{const{layout:F,panelDataArray:W}=S.current,{collapsedSize:z=0,collapsible:Y}=Z,{collapsedSize:J=0,collapsible:se,maxSize:ie=100,minSize:Q=0}=j.constraints,{panelSize:ne}=pt(W,j,F);ne!=null&&(Y&&se&&Ue(ne,z)?Ue(z,J)||w(j,J):ne<Q?w(j,Q):ne>ie&&w(j,ie))},[w]),I=Ae((j,Z)=>{const{direction:F}=C.current,{layout:W}=S.current;if(!p.current)return;const z=_s(j,p.current);ae(z,`Drag handle element not found for id "${j}"`);const Y=ic(F,Z);v({dragHandleId:j,dragHandleRect:z.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:W})},[]),R=Ae(()=>{v(null)},[]),V=Ae(j=>{const{panelDataArray:Z}=S.current,F=Tt(Z,j);F>=0&&(Z.splice(F,1),delete x.current[j.id],S.current.panelDataArrayChanged=!0,k())},[k]),G=Hg(()=>({collapsePanel:D,direction:s,dragState:h,expandPanel:O,getPanelSize:L,getPanelStyle:H,groupId:l,isPanelCollapsed:M,isPanelExpanded:$,reevaluatePanelConstraints:N,registerPanel:_,registerResizeHandle:P,resizePanel:w,startDragging:I,stopDragging:R,unregisterPanel:V,panelGroupElement:p.current}),[D,h,s,O,L,H,l,M,$,N,_,P,w,I,R,V]),X={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Gt(hs.Provider,{value:G},Gt(f,{...d,children:t,className:n,id:i,ref:p,style:{...X,...u},"data-panel-group":"","data-panel-group-direction":s,"data-panel-group-id":l}))}const lc=Ba((e,t)=>Gt(uc,{...e,forwardedRef:t}));uc.displayName="PanelGroup";lc.displayName="forwardRef(PanelGroup)";function Tt(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function pt(e,t,n){const s=Tt(e,t),i=s===e.length-1?[s-1,s]:[s,s+1],o=n[s];return{...t.constraints,panelSize:o,pivotIndices:i}}function gm({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:s}){yt(()=>{if(e||n==null||s==null)return;const r=_s(t,s);if(r==null)return;const i=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=r.getAttribute("data-panel-group-id");ae(a,`No group element found for id "${a}"`);const c=Pn(a,s),u=nc(a,t,s);ae(u!==null,`No resize element found for id "${t}"`);const f=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[f].focus();break}}};return r.addEventListener("keydown",i),()=>{r.removeEventListener("keydown",i)}},[s,e,t,n])}function dc({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:s,id:r,onBlur:i,onDragging:o,onFocus:a,style:c={},tabIndex:u=0,tagName:f="div",...d}){var l,p;const h=Ie(null),v=Ie({onDragging:o});yt(()=>{v.current.onDragging=o});const E=Fa(hs);if(E===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:m,groupId:k,registerResizeHandle:x,startDragging:b,stopDragging:T,panelGroupElement:C}=E,S=hr(r),[D,O]=jt("inactive"),[L,H]=jt(!1),[M,$]=jt(null),_=Ie({state:D});vt(()=>{_.current.state=D}),yt(()=>{if(n)$(null);else{const I=x(S);$(()=>I)}},[n,S,x]);const P=(l=s==null?void 0:s.coarse)!==null&&l!==void 0?l:15,w=(p=s==null?void 0:s.fine)!==null&&p!==void 0?p:5;return yt(()=>{if(n||M==null)return;const I=h.current;return ae(I,"Element ref not attached"),tm(S,I,m,{coarse:P,fine:w},(V,G,X)=>{if(G)switch(V){case"down":{O("drag"),ae(X,'Expected event to be defined for "down" action'),b(S,X);const{onDragging:j}=v.current;j&&j(!0);break}case"move":{const{state:j}=_.current;j!=="drag"&&O("hover"),ae(X,'Expected event to be defined for "move" action'),M(X);break}case"up":{O("hover"),T();const{onDragging:j}=v.current;j&&j(!1);break}}else O("inactive")})},[P,m,n,w,x,S,M,b,T]),gm({disabled:n,handleId:S,resizeHandler:M,panelGroupElement:C}),Gt(f,{...d,children:e,className:t,id:r,onBlur:()=>{H(!1),i==null||i()},onFocus:()=>{H(!0),a==null||a()},ref:h,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...c},tabIndex:u,"data-panel-group-direction":m,"data-panel-group-id":k,"data-resize-handle":"","data-resize-handle-active":D==="drag"?"pointer":L?"keyboard":void 0,"data-resize-handle-state":D,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":S})}dc.displayName="PanelResizeHandle";const mm=({className:e,...t})=>g.jsx(lc,{className:ge("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),Si=Ga,_m=({withHandle:e,className:t,...n})=>g.jsx(dc,{className:ge("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&g.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:g.jsx(Cu,{className:"h-2.5 w-2.5"})})});function ym({resolvers:e}){return g.jsx(ap,{resolvers:e,children:g.jsx(ve.column,{gap:!0,full:!0,grow:!0,children:g.jsx(mm,{direction:"horizontal",children:g.jsxs(ve.row,{full:!0,round:!0,border:!0,card:!0,children:[g.jsx(Si,{children:g.jsx(cp,{})}),g.jsx(_m,{withHandle:!0}),g.jsx(Si,{defaultSize:45,children:g.jsx(vm,{})})]})})})})}function vm(){const{flow:e}=fs();return g.jsxs(ve.div,{p:!0,gap:!0,full:!0,scroll:!0,style:{position:"relative",display:"flex",flexDirection:"column-reverse"},children:[g.jsx(ve.div,{style:{position:"sticky",top:0,left:0,right:0},children:g.jsx(Mg,{})}),g.jsx(ve.column,{gap:!0,children:Object.keys(e.state).map(t=>g.jsx(ve.div,{col:!0,gap:!0,bg:!0,round:!0,p:!0,border:!0,scroll:!0,children:g.jsxs(ve.row,{gap:!0,children:[g.jsxs(ve.column,{grow:!0,children:[g.jsx(ve.text,{variant:"subtitle2",children:t}),g.jsxs(ve.div,{grow:!0,children:[e.state[t].status==="resolved"&&g.jsx("pre",{children:JSON.stringify(e.state[t].data||"",null,2)}),e.state[t].error&&g.jsx("pre",{children:JSON.stringify(e.state[t].error||"",null,2)})]})]}),e.state[t].status==="running"&&g.jsx(Pa,{variant:"ellipsis"}),e.state[t].status==="resolved"&&g.jsx(ve.icon,{name:"CheckMark"}),!!e.state[t].error&&g.jsx(ve.icon,{name:"Error"})]})},t))})]})}Ti.Path;Ti.Resource;function Im(){return g.jsx(ym,{resolvers:xm})}const xm={input:e=>e.generateObject({prompt:"What is the rule name, description, and category?",schema:ue.object({name:ue.string(),description:ue.string(),category:ue.enum(["Security","Cost","Availability","Sustainability","Other"])})}),rule_type:{$:(e,{input:t})=>e.generateObject({prompt:'Definition: 1. "path" - network connectivity.2. "resource" - attribute matching.Task: What type of rule best suits input?',enum:["path","resource"]}),path:{path_condition_plan:e=>e.generateObject({prompt:"What is the rule subject and which resources are involved?",schema:ue.object({subject:ue.enum(["source","intermediate","destination"]),src_resource_type:ue.enum(e.resourceTypes.byEdge("src")).describe("Determines the resource type for the source of the path.").optional(),int_resource_type:ue.enum(e.resourceTypes.byEdge("int")).describe("Determines the resource type for the intermediate of the path.Use security group for security rules.").optional(),dst_resource_type:ue.enum(e.resourceTypes.byEdge("dst")).describe("Determines the resource type for the destination of the path.Use destination only if applicable.").optional()})}),path_attributes:(e,{path_condition_plan:t})=>e.generateObject({prompt:"What attributes are needed for the path condition? Supply only attributes that are applicable",schema:ue.object({...["src","int","dst"].reduce((n,s)=>{var r;return{...n,[`${s}_attrs`]:Pi({resourceType:t[`${s}_resource_type`],allResourceAttributes:(r=e.resourceTypes[t[`${s}_resource_type`]])==null?void 0:r.attributes})}},{})})}),path_predicates:(e,{path_attributes:t})=>e.generateObject({prompt:"What predicates should be included in this rule?",schema:ue.object({...["src","int","dst"].reduce((n,s)=>{var r,i,o,a;return{...n,[`${s}_predicates`]:Ai({resourceType:(r=t[`${s}_attrs`])==null?void 0:r.resource_type,allResourceAttributes:(o=e.resourceTypes[(i=t[`${s}_attrs`])==null?void 0:i.resource_type])==null?void 0:o.attributes,neededAttributes:(a=t[`${s}_attrs`])==null?void 0:a.needed_attributes})}},{})})}),output:(e,{path_predicates:t})=>({rule_type:e.args.rule_type,subject:e.args.path_condition_plan.subject,path_source_predicates:t.src_predicates&&[t.src_predicates],path_intermediate_predicates:t.int_predicates&&[t.int_predicates],path_destination_predicates:t.dst_predicates&&[t.dst_predicates]})},resource:{resource_condition_plan:e=>e.generateObject({prompt:"What resource type best suits this prompt?",schema:ue.object({resource_type:ue.enum(e.resourceTypes.byEdge("none"))})}),resource_attributes:(e,{resource_condition_plan:t})=>e.generateObject({prompt:"What attributes are needed for the path condition?",schema:Pi({resourceType:t.resource_type,allResourceAttributes:e.resourceTypes[t.resource_type].attributes})}),resource_predicate:(e,{resource_attributes:t})=>e.generateObject({prompt:"What predicates should be included in this rule?",schema:Ai({resourceType:t.resource_type,allResourceAttributes:e.resourceTypes[t.resource_type].attributes,neededAttributes:t.needed_attributes})}),output:(e,{resource_predicate:t})=>({resource_predicates:[t]})}}};function Pi({resourceType:e,allResourceAttributes:t}){if(!e)return ue.null();if(!t)return ue.object({resource_type:ue.literal(e)});function n(r){return Object.keys(r).reduce((o,a)=>r[a].attributes?[...o,...n(r[a].attributes).map(c=>`${a}.${c}`)]:[...o,a],[])}const s=n(t);return ue.object({resource_type:ue.literal(e),needed_attributes:ue.array(ue.enum(s))})}function Ai({resourceType:e,allResourceAttributes:t,neededAttributes:n}){if(!e)return ue.null();if(!t)return ue.object({resource_type:ue.literal(e)});const s=fc(t,n);return ue.object({resource_type:ue.literal(e),attributes:ue.object({operand:ue.enum(["AND","OR"]),attributes_list:s})})}function fc(e,t){return ue.array(ue.union(t.map(n=>(n=n.split(".")[0],ue.object({name:ue.literal(n),...e[n].value_type==="bool"&&{value:ue.boolean()},...e[n].value_type==="int"&&{value:ue.array(ue.number()),match_type:ue.enum(["equals","not_equals","greater_than","less_than"])},...e[n].attributes?{operand:ue.enum(["AND","OR"]),attributes_list:fc(e[n].attributes,t.filter(s=>s.startsWith(`${n}.`)).map(s=>s.substring(s.indexOf(".")+1)))}:{value:ue.array(ue.string()),match_type:ue.enum(["equals","not_equals"])}})))))}export{Im as A,Dp as B,mm as R,Si as a,_m as b,ap as c,Mg as d,xm as g,ve as u};
